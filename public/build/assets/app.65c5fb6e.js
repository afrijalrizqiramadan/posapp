var kr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},iu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(l,f){(function(){var n,w="4.17.21",m=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",R="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",v=500,P="__lodash_placeholder__",V=1,oe=2,ue=4,rt=1,le=2,ie=1,Re=2,Ee=4,fe=8,_e=16,_t=32,Fe=64,te=128,ke=256,ne=512,pn=30,rn="...",ve=800,Ke=16,Nt=1,Z=2,Rt=3,Oe=1/0,cn=9007199254740991,Kn=17976931348623157e292,yn=0/0,fn=4294967295,Kt=fn-1,Ar=fn>>>1,Zt=[["ary",te],["bind",ie],["bindKey",Re],["curry",fe],["curryRight",_e],["flip",ne],["partial",_t],["partialRight",Fe],["rearg",ke]],wn="[object Arguments]",me="[object Array]",Nr="[object AsyncFunction]",st="[object Boolean]",mn="[object Date]",Wr="[object DOMException]",Mt="[object Error]",Bn="[object Function]",Qe="[object GeneratorFunction]",Gt="[object Map]",qt="[object Number]",Hr="[object Null]",ht="[object Object]",at="[object Promise]",Xe="[object Proxy]",ar="[object RegExp]",he="[object Set]",Zn="[object String]",Cr="[object Symbol]",Ln="[object Undefined]",Pn="[object WeakMap]",vn="[object WeakSet]",Er="[object ArrayBuffer]",hn="[object DataView]",Bt="[object Float32Array]",ai="[object Float64Array]",Dr="[object Int8Array]",oi="[object Int16Array]",Ct="[object Int32Array]",se="[object Uint8Array]",Be="[object Uint8ClampedArray]",tt="[object Uint16Array]",dt="[object Uint32Array]",Gr=/\b__p \+= '';/g,Rr=/\b(__p \+=) '' \+/g,li=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ue=/&(?:amp|lt|gt|quot|#39);/g,or=/[&<>"']/g,$i=RegExp(Ue.source),D=RegExp(or.source),L=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xe=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(xe.source),ge=/^\s+/,pe=/\s/,Ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bt=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,Fn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lr=/[()=,{}\[\]\/\s]/,sn=/\\(\\)?/g,ur=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vr=/\w*$/,ui=/^[-+]0x[0-9a-f]+$/i,kn=/^0b[01]+$/i,Ts=/^\[object .+?Constructor\]$/,Ss=/^0o[0-7]+$/i,Un=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,pa=/['\n\r\u2028\u2029\\]/g,qn="\\ud800-\\udfff",Os="\\u0300-\\u036f",$="\\ufe20-\\ufe2f",Go="\\u20d0-\\u20ff",It=Os+$+Go,Xr="\\u2700-\\u27bf",wa="a-z\\xdf-\\xf6\\xf8-\\xff",ot="\\xac\\xb1\\xd7\\xf7",it="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qe="\\u2000-\\u206f",Ns=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",es="A-Z\\xc0-\\xd6\\xd8-\\xde",ts="\\ufe0e\\ufe0f",Lt=ot+it+qe+Ns,cr="['\u2019]",Vo="["+qn+"]",vt="["+Lt+"]",jn="["+It+"]",ma="\\d+",ci="["+Xr+"]",xt="["+wa+"]",Jt="[^"+qn+Lt+ma+Xr+wa+es+"]",X="\\ud83c[\\udffb-\\udfff]",M="(?:"+jn+"|"+X+")",Ce="[^"+qn+"]",Pt="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",fi="["+es+"]",ns="\\u200d",Tn="(?:"+xt+"|"+Jt+")",be="(?:"+fi+"|"+Jt+")",Et="(?:"+cr+"(?:d|ll|m|re|s|t|ve))?",Ds="(?:"+cr+"(?:D|LL|M|RE|S|T|VE))?",Aa=M+"?",rs="["+ts+"]?",is="(?:"+ns+"(?:"+[Ce,Pt,An].join("|")+")"+rs+Aa+")*",Rs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ut=rs+Aa+is,vi="(?:"+[ci,Pt,An].join("|")+")"+Ut,Mr="(?:"+[Ce+jn+"?",jn,Pt,An,Vo].join("|")+")",Te=RegExp(cr,"g"),Yo=RegExp(jn,"g"),We=RegExp(X+"(?="+X+")|"+Mr+Ut,"g"),Qt=RegExp([fi+"?"+xt+"+"+Et+"(?="+[vt,fi,"$"].join("|")+")",be+"+"+Ds+"(?="+[vt,fi+Tn,"$"].join("|")+")",fi+"?"+Tn+"+"+Et,fi+"+"+Ds,Xo,Rs,ma,vi].join("|"),"g"),zo=RegExp("["+ns+qn+It+ts+"]"),Ms=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ca=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yr=-1,mt={};mt[Bt]=mt[ai]=mt[Dr]=mt[oi]=mt[Ct]=mt[se]=mt[Be]=mt[tt]=mt[dt]=!0,mt[wn]=mt[me]=mt[Er]=mt[st]=mt[hn]=mt[mn]=mt[Mt]=mt[Bn]=mt[Gt]=mt[qt]=mt[ht]=mt[ar]=mt[he]=mt[Zn]=mt[Pn]=!1;var lt={};lt[wn]=lt[me]=lt[Er]=lt[hn]=lt[st]=lt[mn]=lt[Bt]=lt[ai]=lt[Dr]=lt[oi]=lt[Ct]=lt[Gt]=lt[qt]=lt[ht]=lt[ar]=lt[he]=lt[Zn]=lt[Cr]=lt[se]=lt[Be]=lt[tt]=lt[dt]=!0,lt[Mt]=lt[Bn]=lt[Pn]=!1;var Ti={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Si={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ea={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ni=parseFloat,Cn=parseInt,Bs=typeof kr=="object"&&kr&&kr.Object===Object&&kr,_a=typeof self=="object"&&self&&self.Object===Object&&self,Vt=Bs||_a||Function("return this")(),Ls=f&&!f.nodeType&&f,zr=Ls&&!0&&l&&!l.nodeType&&l,ba=zr&&zr.exports===Ls,ut=ba&&Bs.process,Sn=function(){try{var I=zr&&zr.require&&zr.require("util").types;return I||ut&&ut.binding&&ut.binding("util")}catch{}}(),Di=Sn&&Sn.isArrayBuffer,_r=Sn&&Sn.isDate,Ia=Sn&&Sn.isMap,z=Sn&&Sn.isRegExp,Ge=Sn&&Sn.isSet,Xt=Sn&&Sn.isTypedArray;function an(I,S,N){switch(N.length){case 0:return I.call(S);case 1:return I.call(S,N[0]);case 2:return I.call(S,N[0],N[1]);case 3:return I.call(S,N[0],N[1],N[2])}return I.apply(S,N)}function ya(I,S,N,U){for(var K=-1,q=I==null?0:I.length;++K<q;){var j=I[K];S(U,j,N(j),I)}return U}function Wn(I,S){for(var N=-1,U=I==null?0:I.length;++N<U&&S(I[N],N,I)!==!1;);return I}function Ko(I,S){for(var N=I==null?0:I.length;N--&&S(I[N],N,I)!==!1;);return I}function va(I,S){for(var N=-1,U=I==null?0:I.length;++N<U;)if(!S(I[N],N,I))return!1;return!0}function fr(I,S){for(var N=-1,U=I==null?0:I.length,K=0,q=[];++N<U;){var j=I[N];S(j,N,I)&&(q[K++]=j)}return q}function Tt(I,S){var N=I==null?0:I.length;return!!N&&dn(I,S,0)>-1}function Ri(I,S,N){for(var U=-1,K=I==null?0:I.length;++U<K;)if(N(S,I[U]))return!0;return!1}function Le(I,S){for(var N=-1,U=I==null?0:I.length,K=Array(U);++N<U;)K[N]=S(I[N],N,I);return K}function Jn(I,S){for(var N=-1,U=S.length,K=I.length;++N<U;)I[K+N]=S[N];return I}function br(I,S,N,U){var K=-1,q=I==null?0:I.length;for(U&&q&&(N=I[++K]);++K<q;)N=S(N,I[K],K,I);return N}function pt(I,S,N,U){var K=I==null?0:I.length;for(U&&K&&(N=I[--K]);K--;)N=S(N,I[K],K,I);return N}function Ie(I,S){for(var N=-1,U=I==null?0:I.length;++N<U;)if(S(I[N],N,I))return!0;return!1}var Zo=os("length");function At(I){return I.split("")}function Kr(I){return I.match(Fn)||[]}function Zr(I,S,N){var U;return N(I,function(K,q,j){if(S(K,q,j))return U=q,!1}),U}function ss(I,S,N,U){for(var K=I.length,q=N+(U?1:-1);U?q--:++q<K;)if(S(I[q],q,I))return q;return-1}function dn(I,S,N){return S===S?r(I,S,N):ss(I,Fs,N)}function Ps(I,S,N,U){for(var K=N-1,q=I.length;++K<q;)if(U(I[K],S))return K;return-1}function Fs(I){return I!==I}function as(I,S){var N=I==null?0:I.length;return N?Mi(I,S)/N:yn}function os(I){return function(S){return S==null?n:S[I]}}function ls(I){return function(S){return I==null?n:I[S]}}function Ta(I,S,N,U,K){return K(I,function(q,j,we){N=U?(U=!1,q):S(N,q,j,we)}),N}function hi(I,S){var N=I.length;for(I.sort(S);N--;)I[N]=I[N].value;return I}function Mi(I,S){for(var N,U=-1,K=I.length;++U<K;){var q=S(I[U]);q!==n&&(N=N===n?q:N+q)}return N}function ks(I,S){for(var N=-1,U=Array(I);++N<I;)U[N]=S(N);return U}function Bi(I,S){return Le(S,function(N){return[N,I[N]]})}function Sa(I){return I&&I.slice(0,c(I)+1).replace(ge,"")}function Ft(I){return function(S){return I(S)}}function di(I,S){return Le(S,function(N){return I[N]})}function on(I,S){return I.has(S)}function Us(I,S){for(var N=-1,U=I.length;++N<U&&dn(S,I[N],0)>-1;);return N}function Qn(I,S){for(var N=I.length;N--&&dn(S,I[N],0)>-1;);return N}function qo(I,S){for(var N=I.length,U=0;N--;)I[N]===S&&++U;return U}var Ws=ls(Ti),jo=ls(Si);function Oa(I){return"\\"+Oi[I]}function hr(I,S){return I==null?n:I[S]}function gi(I){return zo.test(I)}function Hs(I){return Ms.test(I)}function Li(I){for(var S,N=[];!(S=I.next()).done;)N.push(S.value);return N}function je(I){var S=-1,N=Array(I.size);return I.forEach(function(U,K){N[++S]=[K,U]}),N}function Pi(I,S){return function(N){return I(S(N))}}function C(I,S){for(var N=-1,U=I.length,K=0,q=[];++N<U;){var j=I[N];(j===S||j===P)&&(I[N]=P,q[K++]=N)}return q}function e(I){var S=-1,N=Array(I.size);return I.forEach(function(U){N[++S]=U}),N}function t(I){var S=-1,N=Array(I.size);return I.forEach(function(U){N[++S]=[U,U]}),N}function r(I,S,N){for(var U=N-1,K=I.length;++U<K;)if(I[U]===S)return U;return-1}function s(I,S,N){for(var U=N+1;U--;)if(I[U]===S)return U;return U}function a(I){return gi(I)?g(I):Zo(I)}function u(I){return gi(I)?A(I):At(I)}function c(I){for(var S=I.length;S--&&pe.test(I.charAt(S)););return S}var d=ls(Ea);function g(I){for(var S=We.lastIndex=0;We.test(I);)++S;return S}function A(I){return I.match(We)||[]}function E(I){return I.match(Qt)||[]}var y=function I(S){S=S==null?Vt:B.defaults(Vt.Object(),S,B.pick(Vt,Ca));var N=S.Array,U=S.Date,K=S.Error,q=S.Function,j=S.Math,we=S.Object,Pe=S.RegExp,En=S.String,St=S.TypeError,$t=N.prototype,wt=q.prototype,Ot=we.prototype,ln=S["__core-js_shared__"],Ir=wt.toString,$e=Ot.hasOwnProperty,Jo=0,Na=function(){var i=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Da=Ot.toString,q0=Ir.call(we),j0=Vt._,J0=Pe("^"+Ir.call($e).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ra=ba?S.Buffer:n,xi=S.Symbol,Ma=S.Uint8Array,e1=Ra?Ra.allocUnsafe:n,Ba=Pi(we.getPrototypeOf,we),t1=we.create,n1=Ot.propertyIsEnumerable,La=$t.splice,r1=xi?xi.isConcatSpreadable:n,Gs=xi?xi.iterator:n,Fi=xi?xi.toStringTag:n,Pa=function(){try{var i=Gi(we,"defineProperty");return i({},"",{}),i}catch{}}(),Q0=S.clearTimeout!==Vt.clearTimeout&&S.clearTimeout,$0=U&&U.now!==Vt.Date.now&&U.now,eh=S.setTimeout!==Vt.setTimeout&&S.setTimeout,Fa=j.ceil,ka=j.floor,Qo=we.getOwnPropertySymbols,th=Ra?Ra.isBuffer:n,i1=S.isFinite,nh=$t.join,rh=Pi(we.keys,we),en=j.max,_n=j.min,ih=U.now,sh=S.parseInt,s1=j.random,ah=$t.reverse,$o=Gi(S,"DataView"),Vs=Gi(S,"Map"),el=Gi(S,"Promise"),us=Gi(S,"Set"),Xs=Gi(S,"WeakMap"),Ys=Gi(we,"create"),Ua=Xs&&new Xs,cs={},oh=Vi($o),lh=Vi(Vs),uh=Vi(el),ch=Vi(us),fh=Vi(Xs),Wa=xi?xi.prototype:n,zs=Wa?Wa.valueOf:n,a1=Wa?Wa.toString:n;function T(i){if(kt(i)&&!He(i)&&!(i instanceof et)){if(i instanceof dr)return i;if($e.call(i,"__wrapped__"))return oc(i)}return new dr(i)}var fs=function(){function i(){}return function(o){if(!Dt(o))return{};if(t1)return t1(o);i.prototype=o;var h=new i;return i.prototype=n,h}}();function Ha(){}function dr(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}T.templateSettings={escape:L,evaluate:H,interpolate:Y,variable:"",imports:{_:T}},T.prototype=Ha.prototype,T.prototype.constructor=T,dr.prototype=fs(Ha.prototype),dr.prototype.constructor=dr;function et(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fn,this.__views__=[]}function hh(){var i=new et(this.__wrapped__);return i.__actions__=Hn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Hn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Hn(this.__views__),i}function dh(){if(this.__filtered__){var i=new et(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function gh(){var i=this.__wrapped__.value(),o=this.__dir__,h=He(i),p=o<0,_=h?i.length:0,O=vd(0,_,this.__views__),F=O.start,W=O.end,G=W-F,J=p?W:F-1,Q=this.__iteratees__,ee=Q.length,de=0,Ae=_n(G,this.__takeCount__);if(!h||!p&&_==G&&Ae==G)return N1(i,this.__actions__);var Ne=[];e:for(;G--&&de<Ae;){J+=o;for(var Ye=-1,De=i[J];++Ye<ee;){var Je=Q[Ye],nt=Je.iteratee,tr=Je.type,Dn=nt(De);if(tr==Z)De=Dn;else if(!Dn){if(tr==Nt)continue e;break e}}Ne[de++]=De}return Ne}et.prototype=fs(Ha.prototype),et.prototype.constructor=et;function ki(i){var o=-1,h=i==null?0:i.length;for(this.clear();++o<h;){var p=i[o];this.set(p[0],p[1])}}function xh(){this.__data__=Ys?Ys(null):{},this.size=0}function ph(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function wh(i){var o=this.__data__;if(Ys){var h=o[i];return h===k?n:h}return $e.call(o,i)?o[i]:n}function mh(i){var o=this.__data__;return Ys?o[i]!==n:$e.call(o,i)}function Ah(i,o){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=Ys&&o===n?k:o,this}ki.prototype.clear=xh,ki.prototype.delete=ph,ki.prototype.get=wh,ki.prototype.has=mh,ki.prototype.set=Ah;function qr(i){var o=-1,h=i==null?0:i.length;for(this.clear();++o<h;){var p=i[o];this.set(p[0],p[1])}}function Ch(){this.__data__=[],this.size=0}function Eh(i){var o=this.__data__,h=Ga(o,i);if(h<0)return!1;var p=o.length-1;return h==p?o.pop():La.call(o,h,1),--this.size,!0}function _h(i){var o=this.__data__,h=Ga(o,i);return h<0?n:o[h][1]}function bh(i){return Ga(this.__data__,i)>-1}function Ih(i,o){var h=this.__data__,p=Ga(h,i);return p<0?(++this.size,h.push([i,o])):h[p][1]=o,this}qr.prototype.clear=Ch,qr.prototype.delete=Eh,qr.prototype.get=_h,qr.prototype.has=bh,qr.prototype.set=Ih;function jr(i){var o=-1,h=i==null?0:i.length;for(this.clear();++o<h;){var p=i[o];this.set(p[0],p[1])}}function yh(){this.size=0,this.__data__={hash:new ki,map:new(Vs||qr),string:new ki}}function vh(i){var o=eo(this,i).delete(i);return this.size-=o?1:0,o}function Th(i){return eo(this,i).get(i)}function Sh(i){return eo(this,i).has(i)}function Oh(i,o){var h=eo(this,i),p=h.size;return h.set(i,o),this.size+=h.size==p?0:1,this}jr.prototype.clear=yh,jr.prototype.delete=vh,jr.prototype.get=Th,jr.prototype.has=Sh,jr.prototype.set=Oh;function Ui(i){var o=-1,h=i==null?0:i.length;for(this.__data__=new jr;++o<h;)this.add(i[o])}function Nh(i){return this.__data__.set(i,k),this}function Dh(i){return this.__data__.has(i)}Ui.prototype.add=Ui.prototype.push=Nh,Ui.prototype.has=Dh;function yr(i){var o=this.__data__=new qr(i);this.size=o.size}function Rh(){this.__data__=new qr,this.size=0}function Mh(i){var o=this.__data__,h=o.delete(i);return this.size=o.size,h}function Bh(i){return this.__data__.get(i)}function Lh(i){return this.__data__.has(i)}function Ph(i,o){var h=this.__data__;if(h instanceof qr){var p=h.__data__;if(!Vs||p.length<m-1)return p.push([i,o]),this.size=++h.size,this;h=this.__data__=new jr(p)}return h.set(i,o),this.size=h.size,this}yr.prototype.clear=Rh,yr.prototype.delete=Mh,yr.prototype.get=Bh,yr.prototype.has=Lh,yr.prototype.set=Ph;function o1(i,o){var h=He(i),p=!h&&Xi(i),_=!h&&!p&&Ci(i),O=!h&&!p&&!_&&xs(i),F=h||p||_||O,W=F?ks(i.length,En):[],G=W.length;for(var J in i)(o||$e.call(i,J))&&!(F&&(J=="length"||_&&(J=="offset"||J=="parent")||O&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||ei(J,G)))&&W.push(J);return W}function l1(i){var o=i.length;return o?i[fl(0,o-1)]:n}function Fh(i,o){return to(Hn(i),Wi(o,0,i.length))}function kh(i){return to(Hn(i))}function tl(i,o,h){(h!==n&&!vr(i[o],h)||h===n&&!(o in i))&&Jr(i,o,h)}function Ks(i,o,h){var p=i[o];(!($e.call(i,o)&&vr(p,h))||h===n&&!(o in i))&&Jr(i,o,h)}function Ga(i,o){for(var h=i.length;h--;)if(vr(i[h][0],o))return h;return-1}function Uh(i,o,h,p){return pi(i,function(_,O,F){o(p,_,h(_),F)}),p}function u1(i,o){return i&&Lr(o,un(o),i)}function Wh(i,o){return i&&Lr(o,Vn(o),i)}function Jr(i,o,h){o=="__proto__"&&Pa?Pa(i,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[o]=h}function nl(i,o){for(var h=-1,p=o.length,_=N(p),O=i==null;++h<p;)_[h]=O?n:Pl(i,o[h]);return _}function Wi(i,o,h){return i===i&&(h!==n&&(i=i<=h?i:h),o!==n&&(i=i>=o?i:o)),i}function gr(i,o,h,p,_,O){var F,W=o&V,G=o&oe,J=o&ue;if(h&&(F=_?h(i,p,_,O):h(i)),F!==n)return F;if(!Dt(i))return i;var Q=He(i);if(Q){if(F=Sd(i),!W)return Hn(i,F)}else{var ee=bn(i),de=ee==Bn||ee==Qe;if(Ci(i))return M1(i,W);if(ee==ht||ee==wn||de&&!_){if(F=G||de?{}:Q1(i),!W)return G?wd(i,Wh(F,i)):pd(i,u1(F,i))}else{if(!lt[ee])return _?i:{};F=Od(i,ee,W)}}O||(O=new yr);var Ae=O.get(i);if(Ae)return Ae;O.set(i,F),Tc(i)?i.forEach(function(De){F.add(gr(De,o,h,De,i,O))}):yc(i)&&i.forEach(function(De,Je){F.set(Je,gr(De,o,h,Je,i,O))});var Ne=J?G?_l:El:G?Vn:un,Ye=Q?n:Ne(i);return Wn(Ye||i,function(De,Je){Ye&&(Je=De,De=i[Je]),Ks(F,Je,gr(De,o,h,Je,i,O))}),F}function Hh(i){var o=un(i);return function(h){return c1(h,i,o)}}function c1(i,o,h){var p=h.length;if(i==null)return!p;for(i=we(i);p--;){var _=h[p],O=o[_],F=i[_];if(F===n&&!(_ in i)||!O(F))return!1}return!0}function f1(i,o,h){if(typeof i!="function")throw new St(b);return ea(function(){i.apply(n,h)},o)}function Zs(i,o,h,p){var _=-1,O=Tt,F=!0,W=i.length,G=[],J=o.length;if(!W)return G;h&&(o=Le(o,Ft(h))),p?(O=Ri,F=!1):o.length>=m&&(O=on,F=!1,o=new Ui(o));e:for(;++_<W;){var Q=i[_],ee=h==null?Q:h(Q);if(Q=p||Q!==0?Q:0,F&&ee===ee){for(var de=J;de--;)if(o[de]===ee)continue e;G.push(Q)}else O(o,ee,p)||G.push(Q)}return G}var pi=k1(Br),h1=k1(il,!0);function Gh(i,o){var h=!0;return pi(i,function(p,_,O){return h=!!o(p,_,O),h}),h}function Va(i,o,h){for(var p=-1,_=i.length;++p<_;){var O=i[p],F=o(O);if(F!=null&&(W===n?F===F&&!er(F):h(F,W)))var W=F,G=O}return G}function Vh(i,o,h,p){var _=i.length;for(h=Ve(h),h<0&&(h=-h>_?0:_+h),p=p===n||p>_?_:Ve(p),p<0&&(p+=_),p=h>p?0:Oc(p);h<p;)i[h++]=o;return i}function d1(i,o){var h=[];return pi(i,function(p,_,O){o(p,_,O)&&h.push(p)}),h}function gn(i,o,h,p,_){var O=-1,F=i.length;for(h||(h=Dd),_||(_=[]);++O<F;){var W=i[O];o>0&&h(W)?o>1?gn(W,o-1,h,p,_):Jn(_,W):p||(_[_.length]=W)}return _}var rl=U1(),g1=U1(!0);function Br(i,o){return i&&rl(i,o,un)}function il(i,o){return i&&g1(i,o,un)}function Xa(i,o){return fr(o,function(h){return ti(i[h])})}function Hi(i,o){o=mi(o,i);for(var h=0,p=o.length;i!=null&&h<p;)i=i[Pr(o[h++])];return h&&h==p?i:n}function x1(i,o,h){var p=o(i);return He(i)?p:Jn(p,h(i))}function On(i){return i==null?i===n?Ln:Hr:Fi&&Fi in we(i)?yd(i):kd(i)}function sl(i,o){return i>o}function Xh(i,o){return i!=null&&$e.call(i,o)}function Yh(i,o){return i!=null&&o in we(i)}function zh(i,o,h){return i>=_n(o,h)&&i<en(o,h)}function al(i,o,h){for(var p=h?Ri:Tt,_=i[0].length,O=i.length,F=O,W=N(O),G=1/0,J=[];F--;){var Q=i[F];F&&o&&(Q=Le(Q,Ft(o))),G=_n(Q.length,G),W[F]=!h&&(o||_>=120&&Q.length>=120)?new Ui(F&&Q):n}Q=i[0];var ee=-1,de=W[0];e:for(;++ee<_&&J.length<G;){var Ae=Q[ee],Ne=o?o(Ae):Ae;if(Ae=h||Ae!==0?Ae:0,!(de?on(de,Ne):p(J,Ne,h))){for(F=O;--F;){var Ye=W[F];if(!(Ye?on(Ye,Ne):p(i[F],Ne,h)))continue e}de&&de.push(Ne),J.push(Ae)}}return J}function Kh(i,o,h,p){return Br(i,function(_,O,F){o(p,h(_),O,F)}),p}function qs(i,o,h){o=mi(o,i),i=nc(i,o);var p=i==null?i:i[Pr(pr(o))];return p==null?n:an(p,i,h)}function p1(i){return kt(i)&&On(i)==wn}function Zh(i){return kt(i)&&On(i)==Er}function qh(i){return kt(i)&&On(i)==mn}function js(i,o,h,p,_){return i===o?!0:i==null||o==null||!kt(i)&&!kt(o)?i!==i&&o!==o:jh(i,o,h,p,js,_)}function jh(i,o,h,p,_,O){var F=He(i),W=He(o),G=F?me:bn(i),J=W?me:bn(o);G=G==wn?ht:G,J=J==wn?ht:J;var Q=G==ht,ee=J==ht,de=G==J;if(de&&Ci(i)){if(!Ci(o))return!1;F=!0,Q=!1}if(de&&!Q)return O||(O=new yr),F||xs(i)?q1(i,o,h,p,_,O):bd(i,o,G,h,p,_,O);if(!(h&rt)){var Ae=Q&&$e.call(i,"__wrapped__"),Ne=ee&&$e.call(o,"__wrapped__");if(Ae||Ne){var Ye=Ae?i.value():i,De=Ne?o.value():o;return O||(O=new yr),_(Ye,De,h,p,O)}}return de?(O||(O=new yr),Id(i,o,h,p,_,O)):!1}function Jh(i){return kt(i)&&bn(i)==Gt}function ol(i,o,h,p){var _=h.length,O=_,F=!p;if(i==null)return!O;for(i=we(i);_--;){var W=h[_];if(F&&W[2]?W[1]!==i[W[0]]:!(W[0]in i))return!1}for(;++_<O;){W=h[_];var G=W[0],J=i[G],Q=W[1];if(F&&W[2]){if(J===n&&!(G in i))return!1}else{var ee=new yr;if(p)var de=p(J,Q,G,i,o,ee);if(!(de===n?js(Q,J,rt|le,p,ee):de))return!1}}return!0}function w1(i){if(!Dt(i)||Md(i))return!1;var o=ti(i)?J0:Ts;return o.test(Vi(i))}function Qh(i){return kt(i)&&On(i)==ar}function $h(i){return kt(i)&&bn(i)==he}function ed(i){return kt(i)&&oo(i.length)&&!!mt[On(i)]}function m1(i){return typeof i=="function"?i:i==null?Xn:typeof i=="object"?He(i)?E1(i[0],i[1]):C1(i):Wc(i)}function ll(i){if(!$s(i))return rh(i);var o=[];for(var h in we(i))$e.call(i,h)&&h!="constructor"&&o.push(h);return o}function td(i){if(!Dt(i))return Fd(i);var o=$s(i),h=[];for(var p in i)p=="constructor"&&(o||!$e.call(i,p))||h.push(p);return h}function ul(i,o){return i<o}function A1(i,o){var h=-1,p=Gn(i)?N(i.length):[];return pi(i,function(_,O,F){p[++h]=o(_,O,F)}),p}function C1(i){var o=Il(i);return o.length==1&&o[0][2]?ec(o[0][0],o[0][1]):function(h){return h===i||ol(h,i,o)}}function E1(i,o){return vl(i)&&$1(o)?ec(Pr(i),o):function(h){var p=Pl(h,i);return p===n&&p===o?Fl(h,i):js(o,p,rt|le)}}function Ya(i,o,h,p,_){i!==o&&rl(o,function(O,F){if(_||(_=new yr),Dt(O))nd(i,o,F,h,Ya,p,_);else{var W=p?p(Sl(i,F),O,F+"",i,o,_):n;W===n&&(W=O),tl(i,F,W)}},Vn)}function nd(i,o,h,p,_,O,F){var W=Sl(i,h),G=Sl(o,h),J=F.get(G);if(J){tl(i,h,J);return}var Q=O?O(W,G,h+"",i,o,F):n,ee=Q===n;if(ee){var de=He(G),Ae=!de&&Ci(G),Ne=!de&&!Ae&&xs(G);Q=G,de||Ae||Ne?He(W)?Q=W:Wt(W)?Q=Hn(W):Ae?(ee=!1,Q=M1(G,!0)):Ne?(ee=!1,Q=B1(G,!0)):Q=[]:ta(G)||Xi(G)?(Q=W,Xi(W)?Q=Nc(W):(!Dt(W)||ti(W))&&(Q=Q1(G))):ee=!1}ee&&(F.set(G,Q),_(Q,G,p,O,F),F.delete(G)),tl(i,h,Q)}function _1(i,o){var h=i.length;if(!!h)return o+=o<0?h:0,ei(o,h)?i[o]:n}function b1(i,o,h){o.length?o=Le(o,function(O){return He(O)?function(F){return Hi(F,O.length===1?O[0]:O)}:O}):o=[Xn];var p=-1;o=Le(o,Ft(Se()));var _=A1(i,function(O,F,W){var G=Le(o,function(J){return J(O)});return{criteria:G,index:++p,value:O}});return hi(_,function(O,F){return xd(O,F,h)})}function rd(i,o){return I1(i,o,function(h,p){return Fl(i,p)})}function I1(i,o,h){for(var p=-1,_=o.length,O={};++p<_;){var F=o[p],W=Hi(i,F);h(W,F)&&Js(O,mi(F,i),W)}return O}function id(i){return function(o){return Hi(o,i)}}function cl(i,o,h,p){var _=p?Ps:dn,O=-1,F=o.length,W=i;for(i===o&&(o=Hn(o)),h&&(W=Le(i,Ft(h)));++O<F;)for(var G=0,J=o[O],Q=h?h(J):J;(G=_(W,Q,G,p))>-1;)W!==i&&La.call(W,G,1),La.call(i,G,1);return i}function y1(i,o){for(var h=i?o.length:0,p=h-1;h--;){var _=o[h];if(h==p||_!==O){var O=_;ei(_)?La.call(i,_,1):gl(i,_)}}return i}function fl(i,o){return i+ka(s1()*(o-i+1))}function sd(i,o,h,p){for(var _=-1,O=en(Fa((o-i)/(h||1)),0),F=N(O);O--;)F[p?O:++_]=i,i+=h;return F}function hl(i,o){var h="";if(!i||o<1||o>cn)return h;do o%2&&(h+=i),o=ka(o/2),o&&(i+=i);while(o);return h}function ze(i,o){return Ol(tc(i,o,Xn),i+"")}function ad(i){return l1(ps(i))}function od(i,o){var h=ps(i);return to(h,Wi(o,0,h.length))}function Js(i,o,h,p){if(!Dt(i))return i;o=mi(o,i);for(var _=-1,O=o.length,F=O-1,W=i;W!=null&&++_<O;){var G=Pr(o[_]),J=h;if(G==="__proto__"||G==="constructor"||G==="prototype")return i;if(_!=F){var Q=W[G];J=p?p(Q,G,W):n,J===n&&(J=Dt(Q)?Q:ei(o[_+1])?[]:{})}Ks(W,G,J),W=W[G]}return i}var v1=Ua?function(i,o){return Ua.set(i,o),i}:Xn,ld=Pa?function(i,o){return Pa(i,"toString",{configurable:!0,enumerable:!1,value:Ul(o),writable:!0})}:Xn;function ud(i){return to(ps(i))}function xr(i,o,h){var p=-1,_=i.length;o<0&&(o=-o>_?0:_+o),h=h>_?_:h,h<0&&(h+=_),_=o>h?0:h-o>>>0,o>>>=0;for(var O=N(_);++p<_;)O[p]=i[p+o];return O}function cd(i,o){var h;return pi(i,function(p,_,O){return h=o(p,_,O),!h}),!!h}function za(i,o,h){var p=0,_=i==null?p:i.length;if(typeof o=="number"&&o===o&&_<=Ar){for(;p<_;){var O=p+_>>>1,F=i[O];F!==null&&!er(F)&&(h?F<=o:F<o)?p=O+1:_=O}return _}return dl(i,o,Xn,h)}function dl(i,o,h,p){var _=0,O=i==null?0:i.length;if(O===0)return 0;o=h(o);for(var F=o!==o,W=o===null,G=er(o),J=o===n;_<O;){var Q=ka((_+O)/2),ee=h(i[Q]),de=ee!==n,Ae=ee===null,Ne=ee===ee,Ye=er(ee);if(F)var De=p||Ne;else J?De=Ne&&(p||de):W?De=Ne&&de&&(p||!Ae):G?De=Ne&&de&&!Ae&&(p||!Ye):Ae||Ye?De=!1:De=p?ee<=o:ee<o;De?_=Q+1:O=Q}return _n(O,Kt)}function T1(i,o){for(var h=-1,p=i.length,_=0,O=[];++h<p;){var F=i[h],W=o?o(F):F;if(!h||!vr(W,G)){var G=W;O[_++]=F===0?0:F}}return O}function S1(i){return typeof i=="number"?i:er(i)?yn:+i}function $n(i){if(typeof i=="string")return i;if(He(i))return Le(i,$n)+"";if(er(i))return a1?a1.call(i):"";var o=i+"";return o=="0"&&1/i==-Oe?"-0":o}function wi(i,o,h){var p=-1,_=Tt,O=i.length,F=!0,W=[],G=W;if(h)F=!1,_=Ri;else if(O>=m){var J=o?null:Ed(i);if(J)return e(J);F=!1,_=on,G=new Ui}else G=o?[]:W;e:for(;++p<O;){var Q=i[p],ee=o?o(Q):Q;if(Q=h||Q!==0?Q:0,F&&ee===ee){for(var de=G.length;de--;)if(G[de]===ee)continue e;o&&G.push(ee),W.push(Q)}else _(G,ee,h)||(G!==W&&G.push(ee),W.push(Q))}return W}function gl(i,o){return o=mi(o,i),i=nc(i,o),i==null||delete i[Pr(pr(o))]}function O1(i,o,h,p){return Js(i,o,h(Hi(i,o)),p)}function Ka(i,o,h,p){for(var _=i.length,O=p?_:-1;(p?O--:++O<_)&&o(i[O],O,i););return h?xr(i,p?0:O,p?O+1:_):xr(i,p?O+1:0,p?_:O)}function N1(i,o){var h=i;return h instanceof et&&(h=h.value()),br(o,function(p,_){return _.func.apply(_.thisArg,Jn([p],_.args))},h)}function xl(i,o,h){var p=i.length;if(p<2)return p?wi(i[0]):[];for(var _=-1,O=N(p);++_<p;)for(var F=i[_],W=-1;++W<p;)W!=_&&(O[_]=Zs(O[_]||F,i[W],o,h));return wi(gn(O,1),o,h)}function D1(i,o,h){for(var p=-1,_=i.length,O=o.length,F={};++p<_;){var W=p<O?o[p]:n;h(F,i[p],W)}return F}function pl(i){return Wt(i)?i:[]}function wl(i){return typeof i=="function"?i:Xn}function mi(i,o){return He(i)?i:vl(i,o)?[i]:ac(gt(i))}var fd=ze;function Ai(i,o,h){var p=i.length;return h=h===n?p:h,!o&&h>=p?i:xr(i,o,h)}var R1=Q0||function(i){return Vt.clearTimeout(i)};function M1(i,o){if(o)return i.slice();var h=i.length,p=e1?e1(h):new i.constructor(h);return i.copy(p),p}function ml(i){var o=new i.constructor(i.byteLength);return new Ma(o).set(new Ma(i)),o}function hd(i,o){var h=o?ml(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.byteLength)}function dd(i){var o=new i.constructor(i.source,Vr.exec(i));return o.lastIndex=i.lastIndex,o}function gd(i){return zs?we(zs.call(i)):{}}function B1(i,o){var h=o?ml(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function L1(i,o){if(i!==o){var h=i!==n,p=i===null,_=i===i,O=er(i),F=o!==n,W=o===null,G=o===o,J=er(o);if(!W&&!J&&!O&&i>o||O&&F&&G&&!W&&!J||p&&F&&G||!h&&G||!_)return 1;if(!p&&!O&&!J&&i<o||J&&h&&_&&!p&&!O||W&&h&&_||!F&&_||!G)return-1}return 0}function xd(i,o,h){for(var p=-1,_=i.criteria,O=o.criteria,F=_.length,W=h.length;++p<F;){var G=L1(_[p],O[p]);if(G){if(p>=W)return G;var J=h[p];return G*(J=="desc"?-1:1)}}return i.index-o.index}function P1(i,o,h,p){for(var _=-1,O=i.length,F=h.length,W=-1,G=o.length,J=en(O-F,0),Q=N(G+J),ee=!p;++W<G;)Q[W]=o[W];for(;++_<F;)(ee||_<O)&&(Q[h[_]]=i[_]);for(;J--;)Q[W++]=i[_++];return Q}function F1(i,o,h,p){for(var _=-1,O=i.length,F=-1,W=h.length,G=-1,J=o.length,Q=en(O-W,0),ee=N(Q+J),de=!p;++_<Q;)ee[_]=i[_];for(var Ae=_;++G<J;)ee[Ae+G]=o[G];for(;++F<W;)(de||_<O)&&(ee[Ae+h[F]]=i[_++]);return ee}function Hn(i,o){var h=-1,p=i.length;for(o||(o=N(p));++h<p;)o[h]=i[h];return o}function Lr(i,o,h,p){var _=!h;h||(h={});for(var O=-1,F=o.length;++O<F;){var W=o[O],G=p?p(h[W],i[W],W,h,i):n;G===n&&(G=i[W]),_?Jr(h,W,G):Ks(h,W,G)}return h}function pd(i,o){return Lr(i,yl(i),o)}function wd(i,o){return Lr(i,j1(i),o)}function Za(i,o){return function(h,p){var _=He(h)?ya:Uh,O=o?o():{};return _(h,i,Se(p,2),O)}}function hs(i){return ze(function(o,h){var p=-1,_=h.length,O=_>1?h[_-1]:n,F=_>2?h[2]:n;for(O=i.length>3&&typeof O=="function"?(_--,O):n,F&&Nn(h[0],h[1],F)&&(O=_<3?n:O,_=1),o=we(o);++p<_;){var W=h[p];W&&i(o,W,p,O)}return o})}function k1(i,o){return function(h,p){if(h==null)return h;if(!Gn(h))return i(h,p);for(var _=h.length,O=o?_:-1,F=we(h);(o?O--:++O<_)&&p(F[O],O,F)!==!1;);return h}}function U1(i){return function(o,h,p){for(var _=-1,O=we(o),F=p(o),W=F.length;W--;){var G=F[i?W:++_];if(h(O[G],G,O)===!1)break}return o}}function md(i,o,h){var p=o&ie,_=Qs(i);function O(){var F=this&&this!==Vt&&this instanceof O?_:i;return F.apply(p?h:this,arguments)}return O}function W1(i){return function(o){o=gt(o);var h=gi(o)?u(o):n,p=h?h[0]:o.charAt(0),_=h?Ai(h,1).join(""):o.slice(1);return p[i]()+_}}function ds(i){return function(o){return br(kc(Fc(o).replace(Te,"")),i,"")}}function Qs(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var h=fs(i.prototype),p=i.apply(h,o);return Dt(p)?p:h}}function Ad(i,o,h){var p=Qs(i);function _(){for(var O=arguments.length,F=N(O),W=O,G=gs(_);W--;)F[W]=arguments[W];var J=O<3&&F[0]!==G&&F[O-1]!==G?[]:C(F,G);if(O-=J.length,O<h)return Y1(i,o,qa,_.placeholder,n,F,J,n,n,h-O);var Q=this&&this!==Vt&&this instanceof _?p:i;return an(Q,this,F)}return _}function H1(i){return function(o,h,p){var _=we(o);if(!Gn(o)){var O=Se(h,3);o=un(o),h=function(W){return O(_[W],W,_)}}var F=i(o,h,p);return F>-1?_[O?o[F]:F]:n}}function G1(i){return $r(function(o){var h=o.length,p=h,_=dr.prototype.thru;for(i&&o.reverse();p--;){var O=o[p];if(typeof O!="function")throw new St(b);if(_&&!F&&$a(O)=="wrapper")var F=new dr([],!0)}for(p=F?p:h;++p<h;){O=o[p];var W=$a(O),G=W=="wrapper"?bl(O):n;G&&Tl(G[0])&&G[1]==(te|fe|_t|ke)&&!G[4].length&&G[9]==1?F=F[$a(G[0])].apply(F,G[3]):F=O.length==1&&Tl(O)?F[W]():F.thru(O)}return function(){var J=arguments,Q=J[0];if(F&&J.length==1&&He(Q))return F.plant(Q).value();for(var ee=0,de=h?o[ee].apply(this,J):Q;++ee<h;)de=o[ee].call(this,de);return de}})}function qa(i,o,h,p,_,O,F,W,G,J){var Q=o&te,ee=o&ie,de=o&Re,Ae=o&(fe|_e),Ne=o&ne,Ye=de?n:Qs(i);function De(){for(var Je=arguments.length,nt=N(Je),tr=Je;tr--;)nt[tr]=arguments[tr];if(Ae)var Dn=gs(De),nr=qo(nt,Dn);if(p&&(nt=P1(nt,p,_,Ae)),O&&(nt=F1(nt,O,F,Ae)),Je-=nr,Ae&&Je<J){var Ht=C(nt,Dn);return Y1(i,o,qa,De.placeholder,h,nt,Ht,W,G,J-Je)}var Tr=ee?h:this,ri=de?Tr[i]:i;return Je=nt.length,W?nt=Ud(nt,W):Ne&&Je>1&&nt.reverse(),Q&&G<Je&&(nt.length=G),this&&this!==Vt&&this instanceof De&&(ri=Ye||Qs(ri)),ri.apply(Tr,nt)}return De}function V1(i,o){return function(h,p){return Kh(h,i,o(p),{})}}function ja(i,o){return function(h,p){var _;if(h===n&&p===n)return o;if(h!==n&&(_=h),p!==n){if(_===n)return p;typeof h=="string"||typeof p=="string"?(h=$n(h),p=$n(p)):(h=S1(h),p=S1(p)),_=i(h,p)}return _}}function Al(i){return $r(function(o){return o=Le(o,Ft(Se())),ze(function(h){var p=this;return i(o,function(_){return an(_,p,h)})})})}function Ja(i,o){o=o===n?" ":$n(o);var h=o.length;if(h<2)return h?hl(o,i):o;var p=hl(o,Fa(i/a(o)));return gi(o)?Ai(u(p),0,i).join(""):p.slice(0,i)}function Cd(i,o,h,p){var _=o&ie,O=Qs(i);function F(){for(var W=-1,G=arguments.length,J=-1,Q=p.length,ee=N(Q+G),de=this&&this!==Vt&&this instanceof F?O:i;++J<Q;)ee[J]=p[J];for(;G--;)ee[J++]=arguments[++W];return an(de,_?h:this,ee)}return F}function X1(i){return function(o,h,p){return p&&typeof p!="number"&&Nn(o,h,p)&&(h=p=n),o=ni(o),h===n?(h=o,o=0):h=ni(h),p=p===n?o<h?1:-1:ni(p),sd(o,h,p,i)}}function Qa(i){return function(o,h){return typeof o=="string"&&typeof h=="string"||(o=wr(o),h=wr(h)),i(o,h)}}function Y1(i,o,h,p,_,O,F,W,G,J){var Q=o&fe,ee=Q?F:n,de=Q?n:F,Ae=Q?O:n,Ne=Q?n:O;o|=Q?_t:Fe,o&=~(Q?Fe:_t),o&Ee||(o&=~(ie|Re));var Ye=[i,o,_,Ae,ee,Ne,de,W,G,J],De=h.apply(n,Ye);return Tl(i)&&rc(De,Ye),De.placeholder=p,ic(De,i,o)}function Cl(i){var o=j[i];return function(h,p){if(h=wr(h),p=p==null?0:_n(Ve(p),292),p&&i1(h)){var _=(gt(h)+"e").split("e"),O=o(_[0]+"e"+(+_[1]+p));return _=(gt(O)+"e").split("e"),+(_[0]+"e"+(+_[1]-p))}return o(h)}}var Ed=us&&1/e(new us([,-0]))[1]==Oe?function(i){return new us(i)}:Gl;function z1(i){return function(o){var h=bn(o);return h==Gt?je(o):h==he?t(o):Bi(o,i(o))}}function Qr(i,o,h,p,_,O,F,W){var G=o&Re;if(!G&&typeof i!="function")throw new St(b);var J=p?p.length:0;if(J||(o&=~(_t|Fe),p=_=n),F=F===n?F:en(Ve(F),0),W=W===n?W:Ve(W),J-=_?_.length:0,o&Fe){var Q=p,ee=_;p=_=n}var de=G?n:bl(i),Ae=[i,o,h,p,_,Q,ee,O,F,W];if(de&&Pd(Ae,de),i=Ae[0],o=Ae[1],h=Ae[2],p=Ae[3],_=Ae[4],W=Ae[9]=Ae[9]===n?G?0:i.length:en(Ae[9]-J,0),!W&&o&(fe|_e)&&(o&=~(fe|_e)),!o||o==ie)var Ne=md(i,o,h);else o==fe||o==_e?Ne=Ad(i,o,W):(o==_t||o==(ie|_t))&&!_.length?Ne=Cd(i,o,h,p):Ne=qa.apply(n,Ae);var Ye=de?v1:rc;return ic(Ye(Ne,Ae),i,o)}function K1(i,o,h,p){return i===n||vr(i,Ot[h])&&!$e.call(p,h)?o:i}function Z1(i,o,h,p,_,O){return Dt(i)&&Dt(o)&&(O.set(o,i),Ya(i,o,n,Z1,O),O.delete(o)),i}function _d(i){return ta(i)?n:i}function q1(i,o,h,p,_,O){var F=h&rt,W=i.length,G=o.length;if(W!=G&&!(F&&G>W))return!1;var J=O.get(i),Q=O.get(o);if(J&&Q)return J==o&&Q==i;var ee=-1,de=!0,Ae=h&le?new Ui:n;for(O.set(i,o),O.set(o,i);++ee<W;){var Ne=i[ee],Ye=o[ee];if(p)var De=F?p(Ye,Ne,ee,o,i,O):p(Ne,Ye,ee,i,o,O);if(De!==n){if(De)continue;de=!1;break}if(Ae){if(!Ie(o,function(Je,nt){if(!on(Ae,nt)&&(Ne===Je||_(Ne,Je,h,p,O)))return Ae.push(nt)})){de=!1;break}}else if(!(Ne===Ye||_(Ne,Ye,h,p,O))){de=!1;break}}return O.delete(i),O.delete(o),de}function bd(i,o,h,p,_,O,F){switch(h){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Er:return!(i.byteLength!=o.byteLength||!O(new Ma(i),new Ma(o)));case st:case mn:case qt:return vr(+i,+o);case Mt:return i.name==o.name&&i.message==o.message;case ar:case Zn:return i==o+"";case Gt:var W=je;case he:var G=p&rt;if(W||(W=e),i.size!=o.size&&!G)return!1;var J=F.get(i);if(J)return J==o;p|=le,F.set(i,o);var Q=q1(W(i),W(o),p,_,O,F);return F.delete(i),Q;case Cr:if(zs)return zs.call(i)==zs.call(o)}return!1}function Id(i,o,h,p,_,O){var F=h&rt,W=El(i),G=W.length,J=El(o),Q=J.length;if(G!=Q&&!F)return!1;for(var ee=G;ee--;){var de=W[ee];if(!(F?de in o:$e.call(o,de)))return!1}var Ae=O.get(i),Ne=O.get(o);if(Ae&&Ne)return Ae==o&&Ne==i;var Ye=!0;O.set(i,o),O.set(o,i);for(var De=F;++ee<G;){de=W[ee];var Je=i[de],nt=o[de];if(p)var tr=F?p(nt,Je,de,o,i,O):p(Je,nt,de,i,o,O);if(!(tr===n?Je===nt||_(Je,nt,h,p,O):tr)){Ye=!1;break}De||(De=de=="constructor")}if(Ye&&!De){var Dn=i.constructor,nr=o.constructor;Dn!=nr&&"constructor"in i&&"constructor"in o&&!(typeof Dn=="function"&&Dn instanceof Dn&&typeof nr=="function"&&nr instanceof nr)&&(Ye=!1)}return O.delete(i),O.delete(o),Ye}function $r(i){return Ol(tc(i,n,cc),i+"")}function El(i){return x1(i,un,yl)}function _l(i){return x1(i,Vn,j1)}var bl=Ua?function(i){return Ua.get(i)}:Gl;function $a(i){for(var o=i.name+"",h=cs[o],p=$e.call(cs,o)?h.length:0;p--;){var _=h[p],O=_.func;if(O==null||O==i)return _.name}return o}function gs(i){var o=$e.call(T,"placeholder")?T:i;return o.placeholder}function Se(){var i=T.iteratee||Wl;return i=i===Wl?m1:i,arguments.length?i(arguments[0],arguments[1]):i}function eo(i,o){var h=i.__data__;return Rd(o)?h[typeof o=="string"?"string":"hash"]:h.map}function Il(i){for(var o=un(i),h=o.length;h--;){var p=o[h],_=i[p];o[h]=[p,_,$1(_)]}return o}function Gi(i,o){var h=hr(i,o);return w1(h)?h:n}function yd(i){var o=$e.call(i,Fi),h=i[Fi];try{i[Fi]=n;var p=!0}catch{}var _=Da.call(i);return p&&(o?i[Fi]=h:delete i[Fi]),_}var yl=Qo?function(i){return i==null?[]:(i=we(i),fr(Qo(i),function(o){return n1.call(i,o)}))}:Vl,j1=Qo?function(i){for(var o=[];i;)Jn(o,yl(i)),i=Ba(i);return o}:Vl,bn=On;($o&&bn(new $o(new ArrayBuffer(1)))!=hn||Vs&&bn(new Vs)!=Gt||el&&bn(el.resolve())!=at||us&&bn(new us)!=he||Xs&&bn(new Xs)!=Pn)&&(bn=function(i){var o=On(i),h=o==ht?i.constructor:n,p=h?Vi(h):"";if(p)switch(p){case oh:return hn;case lh:return Gt;case uh:return at;case ch:return he;case fh:return Pn}return o});function vd(i,o,h){for(var p=-1,_=h.length;++p<_;){var O=h[p],F=O.size;switch(O.type){case"drop":i+=F;break;case"dropRight":o-=F;break;case"take":o=_n(o,i+F);break;case"takeRight":i=en(i,o-F);break}}return{start:i,end:o}}function Td(i){var o=i.match(bt);return o?o[1].split(ae):[]}function J1(i,o,h){o=mi(o,i);for(var p=-1,_=o.length,O=!1;++p<_;){var F=Pr(o[p]);if(!(O=i!=null&&h(i,F)))break;i=i[F]}return O||++p!=_?O:(_=i==null?0:i.length,!!_&&oo(_)&&ei(F,_)&&(He(i)||Xi(i)))}function Sd(i){var o=i.length,h=new i.constructor(o);return o&&typeof i[0]=="string"&&$e.call(i,"index")&&(h.index=i.index,h.input=i.input),h}function Q1(i){return typeof i.constructor=="function"&&!$s(i)?fs(Ba(i)):{}}function Od(i,o,h){var p=i.constructor;switch(o){case Er:return ml(i);case st:case mn:return new p(+i);case hn:return hd(i,h);case Bt:case ai:case Dr:case oi:case Ct:case se:case Be:case tt:case dt:return B1(i,h);case Gt:return new p;case qt:case Zn:return new p(i);case ar:return dd(i);case he:return new p;case Cr:return gd(i)}}function Nd(i,o){var h=o.length;if(!h)return i;var p=h-1;return o[p]=(h>1?"& ":"")+o[p],o=o.join(h>2?", ":" "),i.replace(Ze,`{
/* [wrapped with `+o+`] */
`)}function Dd(i){return He(i)||Xi(i)||!!(r1&&i&&i[r1])}function ei(i,o){var h=typeof i;return o=o==null?cn:o,!!o&&(h=="number"||h!="symbol"&&Un.test(i))&&i>-1&&i%1==0&&i<o}function Nn(i,o,h){if(!Dt(h))return!1;var p=typeof o;return(p=="number"?Gn(h)&&ei(o,h.length):p=="string"&&o in h)?vr(h[o],i):!1}function vl(i,o){if(He(i))return!1;var h=typeof i;return h=="number"||h=="symbol"||h=="boolean"||i==null||er(i)?!0:ce.test(i)||!re.test(i)||o!=null&&i in we(o)}function Rd(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Tl(i){var o=$a(i),h=T[o];if(typeof h!="function"||!(o in et.prototype))return!1;if(i===h)return!0;var p=bl(h);return!!p&&i===p[0]}function Md(i){return!!Na&&Na in i}var Bd=ln?ti:Xl;function $s(i){var o=i&&i.constructor,h=typeof o=="function"&&o.prototype||Ot;return i===h}function $1(i){return i===i&&!Dt(i)}function ec(i,o){return function(h){return h==null?!1:h[i]===o&&(o!==n||i in we(h))}}function Ld(i){var o=so(i,function(p){return h.size===v&&h.clear(),p}),h=o.cache;return o}function Pd(i,o){var h=i[1],p=o[1],_=h|p,O=_<(ie|Re|te),F=p==te&&h==fe||p==te&&h==ke&&i[7].length<=o[8]||p==(te|ke)&&o[7].length<=o[8]&&h==fe;if(!(O||F))return i;p&ie&&(i[2]=o[2],_|=h&ie?0:Ee);var W=o[3];if(W){var G=i[3];i[3]=G?P1(G,W,o[4]):W,i[4]=G?C(i[3],P):o[4]}return W=o[5],W&&(G=i[5],i[5]=G?F1(G,W,o[6]):W,i[6]=G?C(i[5],P):o[6]),W=o[7],W&&(i[7]=W),p&te&&(i[8]=i[8]==null?o[8]:_n(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=_,i}function Fd(i){var o=[];if(i!=null)for(var h in we(i))o.push(h);return o}function kd(i){return Da.call(i)}function tc(i,o,h){return o=en(o===n?i.length-1:o,0),function(){for(var p=arguments,_=-1,O=en(p.length-o,0),F=N(O);++_<O;)F[_]=p[o+_];_=-1;for(var W=N(o+1);++_<o;)W[_]=p[_];return W[o]=h(F),an(i,this,W)}}function nc(i,o){return o.length<2?i:Hi(i,xr(o,0,-1))}function Ud(i,o){for(var h=i.length,p=_n(o.length,h),_=Hn(i);p--;){var O=o[p];i[p]=ei(O,h)?_[O]:n}return i}function Sl(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var rc=sc(v1),ea=eh||function(i,o){return Vt.setTimeout(i,o)},Ol=sc(ld);function ic(i,o,h){var p=o+"";return Ol(i,Nd(p,Wd(Td(p),h)))}function sc(i){var o=0,h=0;return function(){var p=ih(),_=Ke-(p-h);if(h=p,_>0){if(++o>=ve)return arguments[0]}else o=0;return i.apply(n,arguments)}}function to(i,o){var h=-1,p=i.length,_=p-1;for(o=o===n?p:o;++h<o;){var O=fl(h,_),F=i[O];i[O]=i[h],i[h]=F}return i.length=o,i}var ac=Ld(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(ye,function(h,p,_,O){o.push(_?O.replace(sn,"$1"):p||h)}),o});function Pr(i){if(typeof i=="string"||er(i))return i;var o=i+"";return o=="0"&&1/i==-Oe?"-0":o}function Vi(i){if(i!=null){try{return Ir.call(i)}catch{}try{return i+""}catch{}}return""}function Wd(i,o){return Wn(Zt,function(h){var p="_."+h[0];o&h[1]&&!Tt(i,p)&&i.push(p)}),i.sort()}function oc(i){if(i instanceof et)return i.clone();var o=new dr(i.__wrapped__,i.__chain__);return o.__actions__=Hn(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Hd(i,o,h){(h?Nn(i,o,h):o===n)?o=1:o=en(Ve(o),0);var p=i==null?0:i.length;if(!p||o<1)return[];for(var _=0,O=0,F=N(Fa(p/o));_<p;)F[O++]=xr(i,_,_+=o);return F}function Gd(i){for(var o=-1,h=i==null?0:i.length,p=0,_=[];++o<h;){var O=i[o];O&&(_[p++]=O)}return _}function Vd(){var i=arguments.length;if(!i)return[];for(var o=N(i-1),h=arguments[0],p=i;p--;)o[p-1]=arguments[p];return Jn(He(h)?Hn(h):[h],gn(o,1))}var Xd=ze(function(i,o){return Wt(i)?Zs(i,gn(o,1,Wt,!0)):[]}),Yd=ze(function(i,o){var h=pr(o);return Wt(h)&&(h=n),Wt(i)?Zs(i,gn(o,1,Wt,!0),Se(h,2)):[]}),zd=ze(function(i,o){var h=pr(o);return Wt(h)&&(h=n),Wt(i)?Zs(i,gn(o,1,Wt,!0),n,h):[]});function Kd(i,o,h){var p=i==null?0:i.length;return p?(o=h||o===n?1:Ve(o),xr(i,o<0?0:o,p)):[]}function Zd(i,o,h){var p=i==null?0:i.length;return p?(o=h||o===n?1:Ve(o),o=p-o,xr(i,0,o<0?0:o)):[]}function qd(i,o){return i&&i.length?Ka(i,Se(o,3),!0,!0):[]}function jd(i,o){return i&&i.length?Ka(i,Se(o,3),!0):[]}function Jd(i,o,h,p){var _=i==null?0:i.length;return _?(h&&typeof h!="number"&&Nn(i,o,h)&&(h=0,p=_),Vh(i,o,h,p)):[]}function lc(i,o,h){var p=i==null?0:i.length;if(!p)return-1;var _=h==null?0:Ve(h);return _<0&&(_=en(p+_,0)),ss(i,Se(o,3),_)}function uc(i,o,h){var p=i==null?0:i.length;if(!p)return-1;var _=p-1;return h!==n&&(_=Ve(h),_=h<0?en(p+_,0):_n(_,p-1)),ss(i,Se(o,3),_,!0)}function cc(i){var o=i==null?0:i.length;return o?gn(i,1):[]}function Qd(i){var o=i==null?0:i.length;return o?gn(i,Oe):[]}function $d(i,o){var h=i==null?0:i.length;return h?(o=o===n?1:Ve(o),gn(i,o)):[]}function eg(i){for(var o=-1,h=i==null?0:i.length,p={};++o<h;){var _=i[o];p[_[0]]=_[1]}return p}function fc(i){return i&&i.length?i[0]:n}function tg(i,o,h){var p=i==null?0:i.length;if(!p)return-1;var _=h==null?0:Ve(h);return _<0&&(_=en(p+_,0)),dn(i,o,_)}function ng(i){var o=i==null?0:i.length;return o?xr(i,0,-1):[]}var rg=ze(function(i){var o=Le(i,pl);return o.length&&o[0]===i[0]?al(o):[]}),ig=ze(function(i){var o=pr(i),h=Le(i,pl);return o===pr(h)?o=n:h.pop(),h.length&&h[0]===i[0]?al(h,Se(o,2)):[]}),sg=ze(function(i){var o=pr(i),h=Le(i,pl);return o=typeof o=="function"?o:n,o&&h.pop(),h.length&&h[0]===i[0]?al(h,n,o):[]});function ag(i,o){return i==null?"":nh.call(i,o)}function pr(i){var o=i==null?0:i.length;return o?i[o-1]:n}function og(i,o,h){var p=i==null?0:i.length;if(!p)return-1;var _=p;return h!==n&&(_=Ve(h),_=_<0?en(p+_,0):_n(_,p-1)),o===o?s(i,o,_):ss(i,Fs,_,!0)}function lg(i,o){return i&&i.length?_1(i,Ve(o)):n}var ug=ze(hc);function hc(i,o){return i&&i.length&&o&&o.length?cl(i,o):i}function cg(i,o,h){return i&&i.length&&o&&o.length?cl(i,o,Se(h,2)):i}function fg(i,o,h){return i&&i.length&&o&&o.length?cl(i,o,n,h):i}var hg=$r(function(i,o){var h=i==null?0:i.length,p=nl(i,o);return y1(i,Le(o,function(_){return ei(_,h)?+_:_}).sort(L1)),p});function dg(i,o){var h=[];if(!(i&&i.length))return h;var p=-1,_=[],O=i.length;for(o=Se(o,3);++p<O;){var F=i[p];o(F,p,i)&&(h.push(F),_.push(p))}return y1(i,_),h}function Nl(i){return i==null?i:ah.call(i)}function gg(i,o,h){var p=i==null?0:i.length;return p?(h&&typeof h!="number"&&Nn(i,o,h)?(o=0,h=p):(o=o==null?0:Ve(o),h=h===n?p:Ve(h)),xr(i,o,h)):[]}function xg(i,o){return za(i,o)}function pg(i,o,h){return dl(i,o,Se(h,2))}function wg(i,o){var h=i==null?0:i.length;if(h){var p=za(i,o);if(p<h&&vr(i[p],o))return p}return-1}function mg(i,o){return za(i,o,!0)}function Ag(i,o,h){return dl(i,o,Se(h,2),!0)}function Cg(i,o){var h=i==null?0:i.length;if(h){var p=za(i,o,!0)-1;if(vr(i[p],o))return p}return-1}function Eg(i){return i&&i.length?T1(i):[]}function _g(i,o){return i&&i.length?T1(i,Se(o,2)):[]}function bg(i){var o=i==null?0:i.length;return o?xr(i,1,o):[]}function Ig(i,o,h){return i&&i.length?(o=h||o===n?1:Ve(o),xr(i,0,o<0?0:o)):[]}function yg(i,o,h){var p=i==null?0:i.length;return p?(o=h||o===n?1:Ve(o),o=p-o,xr(i,o<0?0:o,p)):[]}function vg(i,o){return i&&i.length?Ka(i,Se(o,3),!1,!0):[]}function Tg(i,o){return i&&i.length?Ka(i,Se(o,3)):[]}var Sg=ze(function(i){return wi(gn(i,1,Wt,!0))}),Og=ze(function(i){var o=pr(i);return Wt(o)&&(o=n),wi(gn(i,1,Wt,!0),Se(o,2))}),Ng=ze(function(i){var o=pr(i);return o=typeof o=="function"?o:n,wi(gn(i,1,Wt,!0),n,o)});function Dg(i){return i&&i.length?wi(i):[]}function Rg(i,o){return i&&i.length?wi(i,Se(o,2)):[]}function Mg(i,o){return o=typeof o=="function"?o:n,i&&i.length?wi(i,n,o):[]}function Dl(i){if(!(i&&i.length))return[];var o=0;return i=fr(i,function(h){if(Wt(h))return o=en(h.length,o),!0}),ks(o,function(h){return Le(i,os(h))})}function dc(i,o){if(!(i&&i.length))return[];var h=Dl(i);return o==null?h:Le(h,function(p){return an(o,n,p)})}var Bg=ze(function(i,o){return Wt(i)?Zs(i,o):[]}),Lg=ze(function(i){return xl(fr(i,Wt))}),Pg=ze(function(i){var o=pr(i);return Wt(o)&&(o=n),xl(fr(i,Wt),Se(o,2))}),Fg=ze(function(i){var o=pr(i);return o=typeof o=="function"?o:n,xl(fr(i,Wt),n,o)}),kg=ze(Dl);function Ug(i,o){return D1(i||[],o||[],Ks)}function Wg(i,o){return D1(i||[],o||[],Js)}var Hg=ze(function(i){var o=i.length,h=o>1?i[o-1]:n;return h=typeof h=="function"?(i.pop(),h):n,dc(i,h)});function gc(i){var o=T(i);return o.__chain__=!0,o}function Gg(i,o){return o(i),i}function no(i,o){return o(i)}var Vg=$r(function(i){var o=i.length,h=o?i[0]:0,p=this.__wrapped__,_=function(O){return nl(O,i)};return o>1||this.__actions__.length||!(p instanceof et)||!ei(h)?this.thru(_):(p=p.slice(h,+h+(o?1:0)),p.__actions__.push({func:no,args:[_],thisArg:n}),new dr(p,this.__chain__).thru(function(O){return o&&!O.length&&O.push(n),O}))});function Xg(){return gc(this)}function Yg(){return new dr(this.value(),this.__chain__)}function zg(){this.__values__===n&&(this.__values__=Sc(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function Kg(){return this}function Zg(i){for(var o,h=this;h instanceof Ha;){var p=oc(h);p.__index__=0,p.__values__=n,o?_.__wrapped__=p:o=p;var _=p;h=h.__wrapped__}return _.__wrapped__=i,o}function qg(){var i=this.__wrapped__;if(i instanceof et){var o=i;return this.__actions__.length&&(o=new et(this)),o=o.reverse(),o.__actions__.push({func:no,args:[Nl],thisArg:n}),new dr(o,this.__chain__)}return this.thru(Nl)}function jg(){return N1(this.__wrapped__,this.__actions__)}var Jg=Za(function(i,o,h){$e.call(i,h)?++i[h]:Jr(i,h,1)});function Qg(i,o,h){var p=He(i)?va:Gh;return h&&Nn(i,o,h)&&(o=n),p(i,Se(o,3))}function $g(i,o){var h=He(i)?fr:d1;return h(i,Se(o,3))}var e2=H1(lc),t2=H1(uc);function n2(i,o){return gn(ro(i,o),1)}function r2(i,o){return gn(ro(i,o),Oe)}function i2(i,o,h){return h=h===n?1:Ve(h),gn(ro(i,o),h)}function xc(i,o){var h=He(i)?Wn:pi;return h(i,Se(o,3))}function pc(i,o){var h=He(i)?Ko:h1;return h(i,Se(o,3))}var s2=Za(function(i,o,h){$e.call(i,h)?i[h].push(o):Jr(i,h,[o])});function a2(i,o,h,p){i=Gn(i)?i:ps(i),h=h&&!p?Ve(h):0;var _=i.length;return h<0&&(h=en(_+h,0)),lo(i)?h<=_&&i.indexOf(o,h)>-1:!!_&&dn(i,o,h)>-1}var o2=ze(function(i,o,h){var p=-1,_=typeof o=="function",O=Gn(i)?N(i.length):[];return pi(i,function(F){O[++p]=_?an(o,F,h):qs(F,o,h)}),O}),l2=Za(function(i,o,h){Jr(i,h,o)});function ro(i,o){var h=He(i)?Le:A1;return h(i,Se(o,3))}function u2(i,o,h,p){return i==null?[]:(He(o)||(o=o==null?[]:[o]),h=p?n:h,He(h)||(h=h==null?[]:[h]),b1(i,o,h))}var c2=Za(function(i,o,h){i[h?0:1].push(o)},function(){return[[],[]]});function f2(i,o,h){var p=He(i)?br:Ta,_=arguments.length<3;return p(i,Se(o,4),h,_,pi)}function h2(i,o,h){var p=He(i)?pt:Ta,_=arguments.length<3;return p(i,Se(o,4),h,_,h1)}function d2(i,o){var h=He(i)?fr:d1;return h(i,ao(Se(o,3)))}function g2(i){var o=He(i)?l1:ad;return o(i)}function x2(i,o,h){(h?Nn(i,o,h):o===n)?o=1:o=Ve(o);var p=He(i)?Fh:od;return p(i,o)}function p2(i){var o=He(i)?kh:ud;return o(i)}function w2(i){if(i==null)return 0;if(Gn(i))return lo(i)?a(i):i.length;var o=bn(i);return o==Gt||o==he?i.size:ll(i).length}function m2(i,o,h){var p=He(i)?Ie:cd;return h&&Nn(i,o,h)&&(o=n),p(i,Se(o,3))}var A2=ze(function(i,o){if(i==null)return[];var h=o.length;return h>1&&Nn(i,o[0],o[1])?o=[]:h>2&&Nn(o[0],o[1],o[2])&&(o=[o[0]]),b1(i,gn(o,1),[])}),io=$0||function(){return Vt.Date.now()};function C2(i,o){if(typeof o!="function")throw new St(b);return i=Ve(i),function(){if(--i<1)return o.apply(this,arguments)}}function wc(i,o,h){return o=h?n:o,o=i&&o==null?i.length:o,Qr(i,te,n,n,n,n,o)}function mc(i,o){var h;if(typeof o!="function")throw new St(b);return i=Ve(i),function(){return--i>0&&(h=o.apply(this,arguments)),i<=1&&(o=n),h}}var Rl=ze(function(i,o,h){var p=ie;if(h.length){var _=C(h,gs(Rl));p|=_t}return Qr(i,p,o,h,_)}),Ac=ze(function(i,o,h){var p=ie|Re;if(h.length){var _=C(h,gs(Ac));p|=_t}return Qr(o,p,i,h,_)});function Cc(i,o,h){o=h?n:o;var p=Qr(i,fe,n,n,n,n,n,o);return p.placeholder=Cc.placeholder,p}function Ec(i,o,h){o=h?n:o;var p=Qr(i,_e,n,n,n,n,n,o);return p.placeholder=Ec.placeholder,p}function _c(i,o,h){var p,_,O,F,W,G,J=0,Q=!1,ee=!1,de=!0;if(typeof i!="function")throw new St(b);o=wr(o)||0,Dt(h)&&(Q=!!h.leading,ee="maxWait"in h,O=ee?en(wr(h.maxWait)||0,o):O,de="trailing"in h?!!h.trailing:de);function Ae(Ht){var Tr=p,ri=_;return p=_=n,J=Ht,F=i.apply(ri,Tr),F}function Ne(Ht){return J=Ht,W=ea(Je,o),Q?Ae(Ht):F}function Ye(Ht){var Tr=Ht-G,ri=Ht-J,Hc=o-Tr;return ee?_n(Hc,O-ri):Hc}function De(Ht){var Tr=Ht-G,ri=Ht-J;return G===n||Tr>=o||Tr<0||ee&&ri>=O}function Je(){var Ht=io();if(De(Ht))return nt(Ht);W=ea(Je,Ye(Ht))}function nt(Ht){return W=n,de&&p?Ae(Ht):(p=_=n,F)}function tr(){W!==n&&R1(W),J=0,p=G=_=W=n}function Dn(){return W===n?F:nt(io())}function nr(){var Ht=io(),Tr=De(Ht);if(p=arguments,_=this,G=Ht,Tr){if(W===n)return Ne(G);if(ee)return R1(W),W=ea(Je,o),Ae(G)}return W===n&&(W=ea(Je,o)),F}return nr.cancel=tr,nr.flush=Dn,nr}var E2=ze(function(i,o){return f1(i,1,o)}),_2=ze(function(i,o,h){return f1(i,wr(o)||0,h)});function b2(i){return Qr(i,ne)}function so(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new St(b);var h=function(){var p=arguments,_=o?o.apply(this,p):p[0],O=h.cache;if(O.has(_))return O.get(_);var F=i.apply(this,p);return h.cache=O.set(_,F)||O,F};return h.cache=new(so.Cache||jr),h}so.Cache=jr;function ao(i){if(typeof i!="function")throw new St(b);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function I2(i){return mc(2,i)}var y2=fd(function(i,o){o=o.length==1&&He(o[0])?Le(o[0],Ft(Se())):Le(gn(o,1),Ft(Se()));var h=o.length;return ze(function(p){for(var _=-1,O=_n(p.length,h);++_<O;)p[_]=o[_].call(this,p[_]);return an(i,this,p)})}),Ml=ze(function(i,o){var h=C(o,gs(Ml));return Qr(i,_t,n,o,h)}),bc=ze(function(i,o){var h=C(o,gs(bc));return Qr(i,Fe,n,o,h)}),v2=$r(function(i,o){return Qr(i,ke,n,n,n,o)});function T2(i,o){if(typeof i!="function")throw new St(b);return o=o===n?o:Ve(o),ze(i,o)}function S2(i,o){if(typeof i!="function")throw new St(b);return o=o==null?0:en(Ve(o),0),ze(function(h){var p=h[o],_=Ai(h,0,o);return p&&Jn(_,p),an(i,this,_)})}function O2(i,o,h){var p=!0,_=!0;if(typeof i!="function")throw new St(b);return Dt(h)&&(p="leading"in h?!!h.leading:p,_="trailing"in h?!!h.trailing:_),_c(i,o,{leading:p,maxWait:o,trailing:_})}function N2(i){return wc(i,1)}function D2(i,o){return Ml(wl(o),i)}function R2(){if(!arguments.length)return[];var i=arguments[0];return He(i)?i:[i]}function M2(i){return gr(i,ue)}function B2(i,o){return o=typeof o=="function"?o:n,gr(i,ue,o)}function L2(i){return gr(i,V|ue)}function P2(i,o){return o=typeof o=="function"?o:n,gr(i,V|ue,o)}function F2(i,o){return o==null||c1(i,o,un(o))}function vr(i,o){return i===o||i!==i&&o!==o}var k2=Qa(sl),U2=Qa(function(i,o){return i>=o}),Xi=p1(function(){return arguments}())?p1:function(i){return kt(i)&&$e.call(i,"callee")&&!n1.call(i,"callee")},He=N.isArray,W2=Di?Ft(Di):Zh;function Gn(i){return i!=null&&oo(i.length)&&!ti(i)}function Wt(i){return kt(i)&&Gn(i)}function H2(i){return i===!0||i===!1||kt(i)&&On(i)==st}var Ci=th||Xl,G2=_r?Ft(_r):qh;function V2(i){return kt(i)&&i.nodeType===1&&!ta(i)}function X2(i){if(i==null)return!0;if(Gn(i)&&(He(i)||typeof i=="string"||typeof i.splice=="function"||Ci(i)||xs(i)||Xi(i)))return!i.length;var o=bn(i);if(o==Gt||o==he)return!i.size;if($s(i))return!ll(i).length;for(var h in i)if($e.call(i,h))return!1;return!0}function Y2(i,o){return js(i,o)}function z2(i,o,h){h=typeof h=="function"?h:n;var p=h?h(i,o):n;return p===n?js(i,o,n,h):!!p}function Bl(i){if(!kt(i))return!1;var o=On(i);return o==Mt||o==Wr||typeof i.message=="string"&&typeof i.name=="string"&&!ta(i)}function K2(i){return typeof i=="number"&&i1(i)}function ti(i){if(!Dt(i))return!1;var o=On(i);return o==Bn||o==Qe||o==Nr||o==Xe}function Ic(i){return typeof i=="number"&&i==Ve(i)}function oo(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=cn}function Dt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function kt(i){return i!=null&&typeof i=="object"}var yc=Ia?Ft(Ia):Jh;function Z2(i,o){return i===o||ol(i,o,Il(o))}function q2(i,o,h){return h=typeof h=="function"?h:n,ol(i,o,Il(o),h)}function j2(i){return vc(i)&&i!=+i}function J2(i){if(Bd(i))throw new K(x);return w1(i)}function Q2(i){return i===null}function $2(i){return i==null}function vc(i){return typeof i=="number"||kt(i)&&On(i)==qt}function ta(i){if(!kt(i)||On(i)!=ht)return!1;var o=Ba(i);if(o===null)return!0;var h=$e.call(o,"constructor")&&o.constructor;return typeof h=="function"&&h instanceof h&&Ir.call(h)==q0}var Ll=z?Ft(z):Qh;function ex(i){return Ic(i)&&i>=-cn&&i<=cn}var Tc=Ge?Ft(Ge):$h;function lo(i){return typeof i=="string"||!He(i)&&kt(i)&&On(i)==Zn}function er(i){return typeof i=="symbol"||kt(i)&&On(i)==Cr}var xs=Xt?Ft(Xt):ed;function tx(i){return i===n}function nx(i){return kt(i)&&bn(i)==Pn}function rx(i){return kt(i)&&On(i)==vn}var ix=Qa(ul),sx=Qa(function(i,o){return i<=o});function Sc(i){if(!i)return[];if(Gn(i))return lo(i)?u(i):Hn(i);if(Gs&&i[Gs])return Li(i[Gs]());var o=bn(i),h=o==Gt?je:o==he?e:ps;return h(i)}function ni(i){if(!i)return i===0?i:0;if(i=wr(i),i===Oe||i===-Oe){var o=i<0?-1:1;return o*Kn}return i===i?i:0}function Ve(i){var o=ni(i),h=o%1;return o===o?h?o-h:o:0}function Oc(i){return i?Wi(Ve(i),0,fn):0}function wr(i){if(typeof i=="number")return i;if(er(i))return yn;if(Dt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Dt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Sa(i);var h=kn.test(i);return h||Ss.test(i)?Cn(i.slice(2),h?2:8):ui.test(i)?yn:+i}function Nc(i){return Lr(i,Vn(i))}function ax(i){return i?Wi(Ve(i),-cn,cn):i===0?i:0}function gt(i){return i==null?"":$n(i)}var ox=hs(function(i,o){if($s(o)||Gn(o)){Lr(o,un(o),i);return}for(var h in o)$e.call(o,h)&&Ks(i,h,o[h])}),Dc=hs(function(i,o){Lr(o,Vn(o),i)}),uo=hs(function(i,o,h,p){Lr(o,Vn(o),i,p)}),lx=hs(function(i,o,h,p){Lr(o,un(o),i,p)}),ux=$r(nl);function cx(i,o){var h=fs(i);return o==null?h:u1(h,o)}var fx=ze(function(i,o){i=we(i);var h=-1,p=o.length,_=p>2?o[2]:n;for(_&&Nn(o[0],o[1],_)&&(p=1);++h<p;)for(var O=o[h],F=Vn(O),W=-1,G=F.length;++W<G;){var J=F[W],Q=i[J];(Q===n||vr(Q,Ot[J])&&!$e.call(i,J))&&(i[J]=O[J])}return i}),hx=ze(function(i){return i.push(n,Z1),an(Rc,n,i)});function dx(i,o){return Zr(i,Se(o,3),Br)}function gx(i,o){return Zr(i,Se(o,3),il)}function xx(i,o){return i==null?i:rl(i,Se(o,3),Vn)}function px(i,o){return i==null?i:g1(i,Se(o,3),Vn)}function wx(i,o){return i&&Br(i,Se(o,3))}function mx(i,o){return i&&il(i,Se(o,3))}function Ax(i){return i==null?[]:Xa(i,un(i))}function Cx(i){return i==null?[]:Xa(i,Vn(i))}function Pl(i,o,h){var p=i==null?n:Hi(i,o);return p===n?h:p}function Ex(i,o){return i!=null&&J1(i,o,Xh)}function Fl(i,o){return i!=null&&J1(i,o,Yh)}var _x=V1(function(i,o,h){o!=null&&typeof o.toString!="function"&&(o=Da.call(o)),i[o]=h},Ul(Xn)),bx=V1(function(i,o,h){o!=null&&typeof o.toString!="function"&&(o=Da.call(o)),$e.call(i,o)?i[o].push(h):i[o]=[h]},Se),Ix=ze(qs);function un(i){return Gn(i)?o1(i):ll(i)}function Vn(i){return Gn(i)?o1(i,!0):td(i)}function yx(i,o){var h={};return o=Se(o,3),Br(i,function(p,_,O){Jr(h,o(p,_,O),p)}),h}function vx(i,o){var h={};return o=Se(o,3),Br(i,function(p,_,O){Jr(h,_,o(p,_,O))}),h}var Tx=hs(function(i,o,h){Ya(i,o,h)}),Rc=hs(function(i,o,h,p){Ya(i,o,h,p)}),Sx=$r(function(i,o){var h={};if(i==null)return h;var p=!1;o=Le(o,function(O){return O=mi(O,i),p||(p=O.length>1),O}),Lr(i,_l(i),h),p&&(h=gr(h,V|oe|ue,_d));for(var _=o.length;_--;)gl(h,o[_]);return h});function Ox(i,o){return Mc(i,ao(Se(o)))}var Nx=$r(function(i,o){return i==null?{}:rd(i,o)});function Mc(i,o){if(i==null)return{};var h=Le(_l(i),function(p){return[p]});return o=Se(o),I1(i,h,function(p,_){return o(p,_[0])})}function Dx(i,o,h){o=mi(o,i);var p=-1,_=o.length;for(_||(_=1,i=n);++p<_;){var O=i==null?n:i[Pr(o[p])];O===n&&(p=_,O=h),i=ti(O)?O.call(i):O}return i}function Rx(i,o,h){return i==null?i:Js(i,o,h)}function Mx(i,o,h,p){return p=typeof p=="function"?p:n,i==null?i:Js(i,o,h,p)}var Bc=z1(un),Lc=z1(Vn);function Bx(i,o,h){var p=He(i),_=p||Ci(i)||xs(i);if(o=Se(o,4),h==null){var O=i&&i.constructor;_?h=p?new O:[]:Dt(i)?h=ti(O)?fs(Ba(i)):{}:h={}}return(_?Wn:Br)(i,function(F,W,G){return o(h,F,W,G)}),h}function Lx(i,o){return i==null?!0:gl(i,o)}function Px(i,o,h){return i==null?i:O1(i,o,wl(h))}function Fx(i,o,h,p){return p=typeof p=="function"?p:n,i==null?i:O1(i,o,wl(h),p)}function ps(i){return i==null?[]:di(i,un(i))}function kx(i){return i==null?[]:di(i,Vn(i))}function Ux(i,o,h){return h===n&&(h=o,o=n),h!==n&&(h=wr(h),h=h===h?h:0),o!==n&&(o=wr(o),o=o===o?o:0),Wi(wr(i),o,h)}function Wx(i,o,h){return o=ni(o),h===n?(h=o,o=0):h=ni(h),i=wr(i),zh(i,o,h)}function Hx(i,o,h){if(h&&typeof h!="boolean"&&Nn(i,o,h)&&(o=h=n),h===n&&(typeof o=="boolean"?(h=o,o=n):typeof i=="boolean"&&(h=i,i=n)),i===n&&o===n?(i=0,o=1):(i=ni(i),o===n?(o=i,i=0):o=ni(o)),i>o){var p=i;i=o,o=p}if(h||i%1||o%1){var _=s1();return _n(i+_*(o-i+Ni("1e-"+((_+"").length-1))),o)}return fl(i,o)}var Gx=ds(function(i,o,h){return o=o.toLowerCase(),i+(h?Pc(o):o)});function Pc(i){return kl(gt(i).toLowerCase())}function Fc(i){return i=gt(i),i&&i.replace(jt,Ws).replace(Yo,"")}function Vx(i,o,h){i=gt(i),o=$n(o);var p=i.length;h=h===n?p:Wi(Ve(h),0,p);var _=h;return h-=o.length,h>=0&&i.slice(h,_)==o}function Xx(i){return i=gt(i),i&&D.test(i)?i.replace(or,jo):i}function Yx(i){return i=gt(i),i&&Me.test(i)?i.replace(xe,"\\$&"):i}var zx=ds(function(i,o,h){return i+(h?"-":"")+o.toLowerCase()}),Kx=ds(function(i,o,h){return i+(h?" ":"")+o.toLowerCase()}),Zx=W1("toLowerCase");function qx(i,o,h){i=gt(i),o=Ve(o);var p=o?a(i):0;if(!o||p>=o)return i;var _=(o-p)/2;return Ja(ka(_),h)+i+Ja(Fa(_),h)}function jx(i,o,h){i=gt(i),o=Ve(o);var p=o?a(i):0;return o&&p<o?i+Ja(o-p,h):i}function Jx(i,o,h){i=gt(i),o=Ve(o);var p=o?a(i):0;return o&&p<o?Ja(o-p,h)+i:i}function Qx(i,o,h){return h||o==null?o=0:o&&(o=+o),sh(gt(i).replace(ge,""),o||0)}function $x(i,o,h){return(h?Nn(i,o,h):o===n)?o=1:o=Ve(o),hl(gt(i),o)}function ep(){var i=arguments,o=gt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var tp=ds(function(i,o,h){return i+(h?"_":"")+o.toLowerCase()});function np(i,o,h){return h&&typeof h!="number"&&Nn(i,o,h)&&(o=h=n),h=h===n?fn:h>>>0,h?(i=gt(i),i&&(typeof o=="string"||o!=null&&!Ll(o))&&(o=$n(o),!o&&gi(i))?Ai(u(i),0,h):i.split(o,h)):[]}var rp=ds(function(i,o,h){return i+(h?" ":"")+kl(o)});function ip(i,o,h){return i=gt(i),h=h==null?0:Wi(Ve(h),0,i.length),o=$n(o),i.slice(h,h+o.length)==o}function sp(i,o,h){var p=T.templateSettings;h&&Nn(i,o,h)&&(o=n),i=gt(i),o=uo({},o,p,K1);var _=uo({},o.imports,p.imports,K1),O=un(_),F=di(_,O),W,G,J=0,Q=o.interpolate||ct,ee="__p += '",de=Pe((o.escape||ct).source+"|"+Q.source+"|"+(Q===Y?ur:ct).source+"|"+(o.evaluate||ct).source+"|$","g"),Ae="//# sourceURL="+($e.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yr+"]")+`
`;i.replace(de,function(De,Je,nt,tr,Dn,nr){return nt||(nt=tr),ee+=i.slice(J,nr).replace(pa,Oa),Je&&(W=!0,ee+=`' +
__e(`+Je+`) +
'`),Dn&&(G=!0,ee+=`';
`+Dn+`;
__p += '`),nt&&(ee+=`' +
((__t = (`+nt+`)) == null ? '' : __t) +
'`),J=nr+De.length,De}),ee+=`';
`;var Ne=$e.call(o,"variable")&&o.variable;if(!Ne)ee=`with (obj) {
`+ee+`
}
`;else if(lr.test(Ne))throw new K(R);ee=(G?ee.replace(Gr,""):ee).replace(Rr,"$1").replace(li,"$1;"),ee="function("+(Ne||"obj")+`) {
`+(Ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ee+`return __p
}`;var Ye=Uc(function(){return q(O,Ae+"return "+ee).apply(n,F)});if(Ye.source=ee,Bl(Ye))throw Ye;return Ye}function ap(i){return gt(i).toLowerCase()}function op(i){return gt(i).toUpperCase()}function lp(i,o,h){if(i=gt(i),i&&(h||o===n))return Sa(i);if(!i||!(o=$n(o)))return i;var p=u(i),_=u(o),O=Us(p,_),F=Qn(p,_)+1;return Ai(p,O,F).join("")}function up(i,o,h){if(i=gt(i),i&&(h||o===n))return i.slice(0,c(i)+1);if(!i||!(o=$n(o)))return i;var p=u(i),_=Qn(p,u(o))+1;return Ai(p,0,_).join("")}function cp(i,o,h){if(i=gt(i),i&&(h||o===n))return i.replace(ge,"");if(!i||!(o=$n(o)))return i;var p=u(i),_=Us(p,u(o));return Ai(p,_).join("")}function fp(i,o){var h=pn,p=rn;if(Dt(o)){var _="separator"in o?o.separator:_;h="length"in o?Ve(o.length):h,p="omission"in o?$n(o.omission):p}i=gt(i);var O=i.length;if(gi(i)){var F=u(i);O=F.length}if(h>=O)return i;var W=h-a(p);if(W<1)return p;var G=F?Ai(F,0,W).join(""):i.slice(0,W);if(_===n)return G+p;if(F&&(W+=G.length-W),Ll(_)){if(i.slice(W).search(_)){var J,Q=G;for(_.global||(_=Pe(_.source,gt(Vr.exec(_))+"g")),_.lastIndex=0;J=_.exec(Q);)var ee=J.index;G=G.slice(0,ee===n?W:ee)}}else if(i.indexOf($n(_),W)!=W){var de=G.lastIndexOf(_);de>-1&&(G=G.slice(0,de))}return G+p}function hp(i){return i=gt(i),i&&$i.test(i)?i.replace(Ue,d):i}var dp=ds(function(i,o,h){return i+(h?" ":"")+o.toUpperCase()}),kl=W1("toUpperCase");function kc(i,o,h){return i=gt(i),o=h?n:o,o===n?Hs(i)?E(i):Kr(i):i.match(o)||[]}var Uc=ze(function(i,o){try{return an(i,n,o)}catch(h){return Bl(h)?h:new K(h)}}),gp=$r(function(i,o){return Wn(o,function(h){h=Pr(h),Jr(i,h,Rl(i[h],i))}),i});function xp(i){var o=i==null?0:i.length,h=Se();return i=o?Le(i,function(p){if(typeof p[1]!="function")throw new St(b);return[h(p[0]),p[1]]}):[],ze(function(p){for(var _=-1;++_<o;){var O=i[_];if(an(O[0],this,p))return an(O[1],this,p)}})}function pp(i){return Hh(gr(i,V))}function Ul(i){return function(){return i}}function wp(i,o){return i==null||i!==i?o:i}var mp=G1(),Ap=G1(!0);function Xn(i){return i}function Wl(i){return m1(typeof i=="function"?i:gr(i,V))}function Cp(i){return C1(gr(i,V))}function Ep(i,o){return E1(i,gr(o,V))}var _p=ze(function(i,o){return function(h){return qs(h,i,o)}}),bp=ze(function(i,o){return function(h){return qs(i,h,o)}});function Hl(i,o,h){var p=un(o),_=Xa(o,p);h==null&&!(Dt(o)&&(_.length||!p.length))&&(h=o,o=i,i=this,_=Xa(o,un(o)));var O=!(Dt(h)&&"chain"in h)||!!h.chain,F=ti(i);return Wn(_,function(W){var G=o[W];i[W]=G,F&&(i.prototype[W]=function(){var J=this.__chain__;if(O||J){var Q=i(this.__wrapped__),ee=Q.__actions__=Hn(this.__actions__);return ee.push({func:G,args:arguments,thisArg:i}),Q.__chain__=J,Q}return G.apply(i,Jn([this.value()],arguments))})}),i}function Ip(){return Vt._===this&&(Vt._=j0),this}function Gl(){}function yp(i){return i=Ve(i),ze(function(o){return _1(o,i)})}var vp=Al(Le),Tp=Al(va),Sp=Al(Ie);function Wc(i){return vl(i)?os(Pr(i)):id(i)}function Op(i){return function(o){return i==null?n:Hi(i,o)}}var Np=X1(),Dp=X1(!0);function Vl(){return[]}function Xl(){return!1}function Rp(){return{}}function Mp(){return""}function Bp(){return!0}function Lp(i,o){if(i=Ve(i),i<1||i>cn)return[];var h=fn,p=_n(i,fn);o=Se(o),i-=fn;for(var _=ks(p,o);++h<i;)o(h);return _}function Pp(i){return He(i)?Le(i,Pr):er(i)?[i]:Hn(ac(gt(i)))}function Fp(i){var o=++Jo;return gt(i)+o}var kp=ja(function(i,o){return i+o},0),Up=Cl("ceil"),Wp=ja(function(i,o){return i/o},1),Hp=Cl("floor");function Gp(i){return i&&i.length?Va(i,Xn,sl):n}function Vp(i,o){return i&&i.length?Va(i,Se(o,2),sl):n}function Xp(i){return as(i,Xn)}function Yp(i,o){return as(i,Se(o,2))}function zp(i){return i&&i.length?Va(i,Xn,ul):n}function Kp(i,o){return i&&i.length?Va(i,Se(o,2),ul):n}var Zp=ja(function(i,o){return i*o},1),qp=Cl("round"),jp=ja(function(i,o){return i-o},0);function Jp(i){return i&&i.length?Mi(i,Xn):0}function Qp(i,o){return i&&i.length?Mi(i,Se(o,2)):0}return T.after=C2,T.ary=wc,T.assign=ox,T.assignIn=Dc,T.assignInWith=uo,T.assignWith=lx,T.at=ux,T.before=mc,T.bind=Rl,T.bindAll=gp,T.bindKey=Ac,T.castArray=R2,T.chain=gc,T.chunk=Hd,T.compact=Gd,T.concat=Vd,T.cond=xp,T.conforms=pp,T.constant=Ul,T.countBy=Jg,T.create=cx,T.curry=Cc,T.curryRight=Ec,T.debounce=_c,T.defaults=fx,T.defaultsDeep=hx,T.defer=E2,T.delay=_2,T.difference=Xd,T.differenceBy=Yd,T.differenceWith=zd,T.drop=Kd,T.dropRight=Zd,T.dropRightWhile=qd,T.dropWhile=jd,T.fill=Jd,T.filter=$g,T.flatMap=n2,T.flatMapDeep=r2,T.flatMapDepth=i2,T.flatten=cc,T.flattenDeep=Qd,T.flattenDepth=$d,T.flip=b2,T.flow=mp,T.flowRight=Ap,T.fromPairs=eg,T.functions=Ax,T.functionsIn=Cx,T.groupBy=s2,T.initial=ng,T.intersection=rg,T.intersectionBy=ig,T.intersectionWith=sg,T.invert=_x,T.invertBy=bx,T.invokeMap=o2,T.iteratee=Wl,T.keyBy=l2,T.keys=un,T.keysIn=Vn,T.map=ro,T.mapKeys=yx,T.mapValues=vx,T.matches=Cp,T.matchesProperty=Ep,T.memoize=so,T.merge=Tx,T.mergeWith=Rc,T.method=_p,T.methodOf=bp,T.mixin=Hl,T.negate=ao,T.nthArg=yp,T.omit=Sx,T.omitBy=Ox,T.once=I2,T.orderBy=u2,T.over=vp,T.overArgs=y2,T.overEvery=Tp,T.overSome=Sp,T.partial=Ml,T.partialRight=bc,T.partition=c2,T.pick=Nx,T.pickBy=Mc,T.property=Wc,T.propertyOf=Op,T.pull=ug,T.pullAll=hc,T.pullAllBy=cg,T.pullAllWith=fg,T.pullAt=hg,T.range=Np,T.rangeRight=Dp,T.rearg=v2,T.reject=d2,T.remove=dg,T.rest=T2,T.reverse=Nl,T.sampleSize=x2,T.set=Rx,T.setWith=Mx,T.shuffle=p2,T.slice=gg,T.sortBy=A2,T.sortedUniq=Eg,T.sortedUniqBy=_g,T.split=np,T.spread=S2,T.tail=bg,T.take=Ig,T.takeRight=yg,T.takeRightWhile=vg,T.takeWhile=Tg,T.tap=Gg,T.throttle=O2,T.thru=no,T.toArray=Sc,T.toPairs=Bc,T.toPairsIn=Lc,T.toPath=Pp,T.toPlainObject=Nc,T.transform=Bx,T.unary=N2,T.union=Sg,T.unionBy=Og,T.unionWith=Ng,T.uniq=Dg,T.uniqBy=Rg,T.uniqWith=Mg,T.unset=Lx,T.unzip=Dl,T.unzipWith=dc,T.update=Px,T.updateWith=Fx,T.values=ps,T.valuesIn=kx,T.without=Bg,T.words=kc,T.wrap=D2,T.xor=Lg,T.xorBy=Pg,T.xorWith=Fg,T.zip=kg,T.zipObject=Ug,T.zipObjectDeep=Wg,T.zipWith=Hg,T.entries=Bc,T.entriesIn=Lc,T.extend=Dc,T.extendWith=uo,Hl(T,T),T.add=kp,T.attempt=Uc,T.camelCase=Gx,T.capitalize=Pc,T.ceil=Up,T.clamp=Ux,T.clone=M2,T.cloneDeep=L2,T.cloneDeepWith=P2,T.cloneWith=B2,T.conformsTo=F2,T.deburr=Fc,T.defaultTo=wp,T.divide=Wp,T.endsWith=Vx,T.eq=vr,T.escape=Xx,T.escapeRegExp=Yx,T.every=Qg,T.find=e2,T.findIndex=lc,T.findKey=dx,T.findLast=t2,T.findLastIndex=uc,T.findLastKey=gx,T.floor=Hp,T.forEach=xc,T.forEachRight=pc,T.forIn=xx,T.forInRight=px,T.forOwn=wx,T.forOwnRight=mx,T.get=Pl,T.gt=k2,T.gte=U2,T.has=Ex,T.hasIn=Fl,T.head=fc,T.identity=Xn,T.includes=a2,T.indexOf=tg,T.inRange=Wx,T.invoke=Ix,T.isArguments=Xi,T.isArray=He,T.isArrayBuffer=W2,T.isArrayLike=Gn,T.isArrayLikeObject=Wt,T.isBoolean=H2,T.isBuffer=Ci,T.isDate=G2,T.isElement=V2,T.isEmpty=X2,T.isEqual=Y2,T.isEqualWith=z2,T.isError=Bl,T.isFinite=K2,T.isFunction=ti,T.isInteger=Ic,T.isLength=oo,T.isMap=yc,T.isMatch=Z2,T.isMatchWith=q2,T.isNaN=j2,T.isNative=J2,T.isNil=$2,T.isNull=Q2,T.isNumber=vc,T.isObject=Dt,T.isObjectLike=kt,T.isPlainObject=ta,T.isRegExp=Ll,T.isSafeInteger=ex,T.isSet=Tc,T.isString=lo,T.isSymbol=er,T.isTypedArray=xs,T.isUndefined=tx,T.isWeakMap=nx,T.isWeakSet=rx,T.join=ag,T.kebabCase=zx,T.last=pr,T.lastIndexOf=og,T.lowerCase=Kx,T.lowerFirst=Zx,T.lt=ix,T.lte=sx,T.max=Gp,T.maxBy=Vp,T.mean=Xp,T.meanBy=Yp,T.min=zp,T.minBy=Kp,T.stubArray=Vl,T.stubFalse=Xl,T.stubObject=Rp,T.stubString=Mp,T.stubTrue=Bp,T.multiply=Zp,T.nth=lg,T.noConflict=Ip,T.noop=Gl,T.now=io,T.pad=qx,T.padEnd=jx,T.padStart=Jx,T.parseInt=Qx,T.random=Hx,T.reduce=f2,T.reduceRight=h2,T.repeat=$x,T.replace=ep,T.result=Dx,T.round=qp,T.runInContext=I,T.sample=g2,T.size=w2,T.snakeCase=tp,T.some=m2,T.sortedIndex=xg,T.sortedIndexBy=pg,T.sortedIndexOf=wg,T.sortedLastIndex=mg,T.sortedLastIndexBy=Ag,T.sortedLastIndexOf=Cg,T.startCase=rp,T.startsWith=ip,T.subtract=jp,T.sum=Jp,T.sumBy=Qp,T.template=sp,T.times=Lp,T.toFinite=ni,T.toInteger=Ve,T.toLength=Oc,T.toLower=ap,T.toNumber=wr,T.toSafeInteger=ax,T.toString=gt,T.toUpper=op,T.trim=lp,T.trimEnd=up,T.trimStart=cp,T.truncate=fp,T.unescape=hp,T.uniqueId=Fp,T.upperCase=dp,T.upperFirst=kl,T.each=xc,T.eachRight=pc,T.first=fc,Hl(T,function(){var i={};return Br(T,function(o,h){$e.call(T.prototype,h)||(i[h]=o)}),i}(),{chain:!1}),T.VERSION=w,Wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){T[i].placeholder=T}),Wn(["drop","take"],function(i,o){et.prototype[i]=function(h){h=h===n?1:en(Ve(h),0);var p=this.__filtered__&&!o?new et(this):this.clone();return p.__filtered__?p.__takeCount__=_n(h,p.__takeCount__):p.__views__.push({size:_n(h,fn),type:i+(p.__dir__<0?"Right":"")}),p},et.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),Wn(["filter","map","takeWhile"],function(i,o){var h=o+1,p=h==Nt||h==Rt;et.prototype[i]=function(_){var O=this.clone();return O.__iteratees__.push({iteratee:Se(_,3),type:h}),O.__filtered__=O.__filtered__||p,O}}),Wn(["head","last"],function(i,o){var h="take"+(o?"Right":"");et.prototype[i]=function(){return this[h](1).value()[0]}}),Wn(["initial","tail"],function(i,o){var h="drop"+(o?"":"Right");et.prototype[i]=function(){return this.__filtered__?new et(this):this[h](1)}}),et.prototype.compact=function(){return this.filter(Xn)},et.prototype.find=function(i){return this.filter(i).head()},et.prototype.findLast=function(i){return this.reverse().find(i)},et.prototype.invokeMap=ze(function(i,o){return typeof i=="function"?new et(this):this.map(function(h){return qs(h,i,o)})}),et.prototype.reject=function(i){return this.filter(ao(Se(i)))},et.prototype.slice=function(i,o){i=Ve(i);var h=this;return h.__filtered__&&(i>0||o<0)?new et(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),o!==n&&(o=Ve(o),h=o<0?h.dropRight(-o):h.take(o-i)),h)},et.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},et.prototype.toArray=function(){return this.take(fn)},Br(et.prototype,function(i,o){var h=/^(?:filter|find|map|reject)|While$/.test(o),p=/^(?:head|last)$/.test(o),_=T[p?"take"+(o=="last"?"Right":""):o],O=p||/^find/.test(o);!_||(T.prototype[o]=function(){var F=this.__wrapped__,W=p?[1]:arguments,G=F instanceof et,J=W[0],Q=G||He(F),ee=function(Je){var nt=_.apply(T,Jn([Je],W));return p&&de?nt[0]:nt};Q&&h&&typeof J=="function"&&J.length!=1&&(G=Q=!1);var de=this.__chain__,Ae=!!this.__actions__.length,Ne=O&&!de,Ye=G&&!Ae;if(!O&&Q){F=Ye?F:new et(this);var De=i.apply(F,W);return De.__actions__.push({func:no,args:[ee],thisArg:n}),new dr(De,de)}return Ne&&Ye?i.apply(this,W):(De=this.thru(ee),Ne?p?De.value()[0]:De.value():De)})}),Wn(["pop","push","shift","sort","splice","unshift"],function(i){var o=$t[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);T.prototype[i]=function(){var _=arguments;if(p&&!this.__chain__){var O=this.value();return o.apply(He(O)?O:[],_)}return this[h](function(F){return o.apply(He(F)?F:[],_)})}}),Br(et.prototype,function(i,o){var h=T[o];if(h){var p=h.name+"";$e.call(cs,p)||(cs[p]=[]),cs[p].push({name:o,func:h})}}),cs[qa(n,Re).name]=[{name:"wrapper",func:n}],et.prototype.clone=hh,et.prototype.reverse=dh,et.prototype.value=gh,T.prototype.at=Vg,T.prototype.chain=Xg,T.prototype.commit=Yg,T.prototype.next=zg,T.prototype.plant=Zg,T.prototype.reverse=qg,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=jg,T.prototype.first=T.prototype.head,Gs&&(T.prototype[Gs]=Kg),T},B=y();zr?((zr.exports=B)._=B,Ls._=B):Vt._=B}).call(kr)})(iu,iu.exports);var $p=iu.exports,vu={exports:{}},Cf=function(f,n){return function(){for(var m=new Array(arguments.length),x=0;x<m.length;x++)m[x]=arguments[x];return f.apply(n,m)}},ew=Cf,yi=Object.prototype.toString;function Tu(l){return Array.isArray(l)}function su(l){return typeof l=="undefined"}function tw(l){return l!==null&&!su(l)&&l.constructor!==null&&!su(l.constructor)&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function Ef(l){return yi.call(l)==="[object ArrayBuffer]"}function nw(l){return yi.call(l)==="[object FormData]"}function rw(l){var f;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?f=ArrayBuffer.isView(l):f=l&&l.buffer&&Ef(l.buffer),f}function iw(l){return typeof l=="string"}function sw(l){return typeof l=="number"}function _f(l){return l!==null&&typeof l=="object"}function Co(l){if(yi.call(l)!=="[object Object]")return!1;var f=Object.getPrototypeOf(l);return f===null||f===Object.prototype}function aw(l){return yi.call(l)==="[object Date]"}function ow(l){return yi.call(l)==="[object File]"}function lw(l){return yi.call(l)==="[object Blob]"}function bf(l){return yi.call(l)==="[object Function]"}function uw(l){return _f(l)&&bf(l.pipe)}function cw(l){return yi.call(l)==="[object URLSearchParams]"}function fw(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function hw(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Su(l,f){if(!(l===null||typeof l=="undefined"))if(typeof l!="object"&&(l=[l]),Tu(l))for(var n=0,w=l.length;n<w;n++)f.call(null,l[n],n,l);else for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&f.call(null,l[m],m,l)}function au(){var l={};function f(m,x){Co(l[x])&&Co(m)?l[x]=au(l[x],m):Co(m)?l[x]=au({},m):Tu(m)?l[x]=m.slice():l[x]=m}for(var n=0,w=arguments.length;n<w;n++)Su(arguments[n],f);return l}function dw(l,f,n){return Su(f,function(m,x){n&&typeof m=="function"?l[x]=ew(m,n):l[x]=m}),l}function gw(l){return l.charCodeAt(0)===65279&&(l=l.slice(1)),l}var zn={isArray:Tu,isArrayBuffer:Ef,isBuffer:tw,isFormData:nw,isArrayBufferView:rw,isString:iw,isNumber:sw,isObject:_f,isPlainObject:Co,isUndefined:su,isDate:aw,isFile:ow,isBlob:lw,isFunction:bf,isStream:uw,isURLSearchParams:cw,isStandardBrowserEnv:hw,forEach:Su,merge:au,extend:dw,trim:fw,stripBOM:gw},ws=zn;function Gc(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var If=function(f,n,w){if(!n)return f;var m;if(w)m=w(n);else if(ws.isURLSearchParams(n))m=n.toString();else{var x=[];ws.forEach(n,function(k,v){k===null||typeof k=="undefined"||(ws.isArray(k)?v=v+"[]":k=[k],ws.forEach(k,function(V){ws.isDate(V)?V=V.toISOString():ws.isObject(V)&&(V=JSON.stringify(V)),x.push(Gc(v)+"="+Gc(V))}))}),m=x.join("&")}if(m){var b=f.indexOf("#");b!==-1&&(f=f.slice(0,b)),f+=(f.indexOf("?")===-1?"?":"&")+m}return f},xw=zn;function Oo(){this.handlers=[]}Oo.prototype.use=function(f,n,w){return this.handlers.push({fulfilled:f,rejected:n,synchronous:w?w.synchronous:!1,runWhen:w?w.runWhen:null}),this.handlers.length-1};Oo.prototype.eject=function(f){this.handlers[f]&&(this.handlers[f]=null)};Oo.prototype.forEach=function(f){xw.forEach(this.handlers,function(w){w!==null&&f(w)})};var pw=Oo,ww=zn,mw=function(f,n){ww.forEach(f,function(m,x){x!==n&&x.toUpperCase()===n.toUpperCase()&&(f[n]=m,delete f[x])})},yf=function(f,n,w,m,x){return f.config=n,w&&(f.code=w),f.request=m,f.response=x,f.isAxiosError=!0,f.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},f},Aw=yf,vf=function(f,n,w,m,x){var b=new Error(f);return Aw(b,n,w,m,x)},Cw=vf,Ew=function(f,n,w){var m=w.config.validateStatus;!w.status||!m||m(w.status)?f(w):n(Cw("Request failed with status code "+w.status,w.config,null,w.request,w))},co=zn,_w=co.isStandardBrowserEnv()?function(){return{write:function(n,w,m,x,b,R){var k=[];k.push(n+"="+encodeURIComponent(w)),co.isNumber(m)&&k.push("expires="+new Date(m).toGMTString()),co.isString(x)&&k.push("path="+x),co.isString(b)&&k.push("domain="+b),R===!0&&k.push("secure"),document.cookie=k.join("; ")},read:function(n){var w=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return w?decodeURIComponent(w[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),bw=function(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)},Iw=function(f,n){return n?f.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):f},yw=bw,vw=Iw,Tw=function(f,n){return f&&!yw(n)?vw(f,n):n},Yl=zn,Sw=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ow=function(f){var n={},w,m,x;return f&&Yl.forEach(f.split(`
`),function(R){if(x=R.indexOf(":"),w=Yl.trim(R.substr(0,x)).toLowerCase(),m=Yl.trim(R.substr(x+1)),w){if(n[w]&&Sw.indexOf(w)>=0)return;w==="set-cookie"?n[w]=(n[w]?n[w]:[]).concat([m]):n[w]=n[w]?n[w]+", "+m:m}}),n},Vc=zn,Nw=Vc.isStandardBrowserEnv()?function(){var f=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),w;function m(x){var b=x;return f&&(n.setAttribute("href",b),b=n.href),n.setAttribute("href",b),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return w=m(window.location.href),function(b){var R=Vc.isString(b)?m(b):b;return R.protocol===w.protocol&&R.host===w.host}}():function(){return function(){return!0}}();function Ou(l){this.message=l}Ou.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Ou.prototype.__CANCEL__=!0;var No=Ou,fo=zn,Dw=Ew,Rw=_w,Mw=If,Bw=Tw,Lw=Ow,Pw=Nw,zl=vf,Fw=Ro,kw=No,Xc=function(f){return new Promise(function(w,m){var x=f.data,b=f.headers,R=f.responseType,k;function v(){f.cancelToken&&f.cancelToken.unsubscribe(k),f.signal&&f.signal.removeEventListener("abort",k)}fo.isFormData(x)&&delete b["Content-Type"];var P=new XMLHttpRequest;if(f.auth){var V=f.auth.username||"",oe=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";b.Authorization="Basic "+btoa(V+":"+oe)}var ue=Bw(f.baseURL,f.url);P.open(f.method.toUpperCase(),Mw(ue,f.params,f.paramsSerializer),!0),P.timeout=f.timeout;function rt(){if(!!P){var ie="getAllResponseHeaders"in P?Lw(P.getAllResponseHeaders()):null,Re=!R||R==="text"||R==="json"?P.responseText:P.response,Ee={data:Re,status:P.status,statusText:P.statusText,headers:ie,config:f,request:P};Dw(function(_e){w(_e),v()},function(_e){m(_e),v()},Ee),P=null}}if("onloadend"in P?P.onloadend=rt:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(rt)},P.onabort=function(){!P||(m(zl("Request aborted",f,"ECONNABORTED",P)),P=null)},P.onerror=function(){m(zl("Network Error",f,null,P)),P=null},P.ontimeout=function(){var Re=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",Ee=f.transitional||Fw.transitional;f.timeoutErrorMessage&&(Re=f.timeoutErrorMessage),m(zl(Re,f,Ee.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",P)),P=null},fo.isStandardBrowserEnv()){var le=(f.withCredentials||Pw(ue))&&f.xsrfCookieName?Rw.read(f.xsrfCookieName):void 0;le&&(b[f.xsrfHeaderName]=le)}"setRequestHeader"in P&&fo.forEach(b,function(Re,Ee){typeof x=="undefined"&&Ee.toLowerCase()==="content-type"?delete b[Ee]:P.setRequestHeader(Ee,Re)}),fo.isUndefined(f.withCredentials)||(P.withCredentials=!!f.withCredentials),R&&R!=="json"&&(P.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&P.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(k=function(ie){!P||(m(!ie||ie&&ie.type?new kw("canceled"):ie),P.abort(),P=null)},f.cancelToken&&f.cancelToken.subscribe(k),f.signal&&(f.signal.aborted?k():f.signal.addEventListener("abort",k))),x||(x=null),P.send(x)})},xn=zn,Yc=mw,Uw=yf,Ww={"Content-Type":"application/x-www-form-urlencoded"};function zc(l,f){!xn.isUndefined(l)&&xn.isUndefined(l["Content-Type"])&&(l["Content-Type"]=f)}function Hw(){var l;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(l=Xc),l}function Gw(l,f,n){if(xn.isString(l))try{return(f||JSON.parse)(l),xn.trim(l)}catch(w){if(w.name!=="SyntaxError")throw w}return(n||JSON.stringify)(l)}var Do={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Hw(),transformRequest:[function(f,n){return Yc(n,"Accept"),Yc(n,"Content-Type"),xn.isFormData(f)||xn.isArrayBuffer(f)||xn.isBuffer(f)||xn.isStream(f)||xn.isFile(f)||xn.isBlob(f)?f:xn.isArrayBufferView(f)?f.buffer:xn.isURLSearchParams(f)?(zc(n,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):xn.isObject(f)||n&&n["Content-Type"]==="application/json"?(zc(n,"application/json"),Gw(f)):f}],transformResponse:[function(f){var n=this.transitional||Do.transitional,w=n&&n.silentJSONParsing,m=n&&n.forcedJSONParsing,x=!w&&this.responseType==="json";if(x||m&&xn.isString(f)&&f.length)try{return JSON.parse(f)}catch(b){if(x)throw b.name==="SyntaxError"?Uw(b,this,"E_JSON_PARSE"):b}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};xn.forEach(["delete","get","head"],function(f){Do.headers[f]={}});xn.forEach(["post","put","patch"],function(f){Do.headers[f]=xn.merge(Ww)});var Ro=Do,Vw=zn,Xw=Ro,Yw=function(f,n,w){var m=this||Xw;return Vw.forEach(w,function(b){f=b.call(m,f,n)}),f},Tf=function(f){return!!(f&&f.__CANCEL__)},Kc=zn,Kl=Yw,zw=Tf,Kw=Ro,Zw=No;function Zl(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new Zw("canceled")}var qw=function(f){Zl(f),f.headers=f.headers||{},f.data=Kl.call(f,f.data,f.headers,f.transformRequest),f.headers=Kc.merge(f.headers.common||{},f.headers[f.method]||{},f.headers),Kc.forEach(["delete","get","head","post","put","patch","common"],function(m){delete f.headers[m]});var n=f.adapter||Kw.adapter;return n(f).then(function(m){return Zl(f),m.data=Kl.call(f,m.data,m.headers,f.transformResponse),m},function(m){return zw(m)||(Zl(f),m&&m.response&&(m.response.data=Kl.call(f,m.response.data,m.response.headers,f.transformResponse))),Promise.reject(m)})},rr=zn,Sf=function(f,n){n=n||{};var w={};function m(P,V){return rr.isPlainObject(P)&&rr.isPlainObject(V)?rr.merge(P,V):rr.isPlainObject(V)?rr.merge({},V):rr.isArray(V)?V.slice():V}function x(P){if(rr.isUndefined(n[P])){if(!rr.isUndefined(f[P]))return m(void 0,f[P])}else return m(f[P],n[P])}function b(P){if(!rr.isUndefined(n[P]))return m(void 0,n[P])}function R(P){if(rr.isUndefined(n[P])){if(!rr.isUndefined(f[P]))return m(void 0,f[P])}else return m(void 0,n[P])}function k(P){if(P in n)return m(f[P],n[P]);if(P in f)return m(void 0,f[P])}var v={url:b,method:b,data:b,baseURL:R,transformRequest:R,transformResponse:R,paramsSerializer:R,timeout:R,timeoutMessage:R,withCredentials:R,adapter:R,responseType:R,xsrfCookieName:R,xsrfHeaderName:R,onUploadProgress:R,onDownloadProgress:R,decompress:R,maxContentLength:R,maxBodyLength:R,transport:R,httpAgent:R,httpsAgent:R,cancelToken:R,socketPath:R,responseEncoding:R,validateStatus:k};return rr.forEach(Object.keys(f).concat(Object.keys(n)),function(V){var oe=v[V]||x,ue=oe(V);rr.isUndefined(ue)&&oe!==k||(w[V]=ue)}),w},Of={version:"0.25.0"},jw=Of.version,Nu={};["object","boolean","number","function","string","symbol"].forEach(function(l,f){Nu[l]=function(w){return typeof w===l||"a"+(f<1?"n ":" ")+l}});var Zc={};Nu.transitional=function(f,n,w){function m(x,b){return"[Axios v"+jw+"] Transitional option '"+x+"'"+b+(w?". "+w:"")}return function(x,b,R){if(f===!1)throw new Error(m(b," has been removed"+(n?" in "+n:"")));return n&&!Zc[b]&&(Zc[b]=!0,console.warn(m(b," has been deprecated since v"+n+" and will be removed in the near future"))),f?f(x,b,R):!0}};function Jw(l,f,n){if(typeof l!="object")throw new TypeError("options must be an object");for(var w=Object.keys(l),m=w.length;m-- >0;){var x=w[m],b=f[x];if(b){var R=l[x],k=R===void 0||b(R,x,l);if(k!==!0)throw new TypeError("option "+x+" must be "+k);continue}if(n!==!0)throw Error("Unknown option "+x)}}var Qw={assertOptions:Jw,validators:Nu},Nf=zn,$w=If,qc=pw,jc=qw,Mo=Sf,Df=Qw,ms=Df.validators;function fa(l){this.defaults=l,this.interceptors={request:new qc,response:new qc}}fa.prototype.request=function(f,n){if(typeof f=="string"?(n=n||{},n.url=f):n=f||{},!n.url)throw new Error("Provided config url is not valid");n=Mo(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var w=n.transitional;w!==void 0&&Df.assertOptions(w,{silentJSONParsing:ms.transitional(ms.boolean),forcedJSONParsing:ms.transitional(ms.boolean),clarifyTimeoutError:ms.transitional(ms.boolean)},!1);var m=[],x=!0;this.interceptors.request.forEach(function(ue){typeof ue.runWhen=="function"&&ue.runWhen(n)===!1||(x=x&&ue.synchronous,m.unshift(ue.fulfilled,ue.rejected))});var b=[];this.interceptors.response.forEach(function(ue){b.push(ue.fulfilled,ue.rejected)});var R;if(!x){var k=[jc,void 0];for(Array.prototype.unshift.apply(k,m),k=k.concat(b),R=Promise.resolve(n);k.length;)R=R.then(k.shift(),k.shift());return R}for(var v=n;m.length;){var P=m.shift(),V=m.shift();try{v=P(v)}catch(oe){V(oe);break}}try{R=jc(v)}catch(oe){return Promise.reject(oe)}for(;b.length;)R=R.then(b.shift(),b.shift());return R};fa.prototype.getUri=function(f){if(!f.url)throw new Error("Provided config url is not valid");return f=Mo(this.defaults,f),$w(f.url,f.params,f.paramsSerializer).replace(/^\?/,"")};Nf.forEach(["delete","get","head","options"],function(f){fa.prototype[f]=function(n,w){return this.request(Mo(w||{},{method:f,url:n,data:(w||{}).data}))}});Nf.forEach(["post","put","patch"],function(f){fa.prototype[f]=function(n,w,m){return this.request(Mo(m||{},{method:f,url:n,data:w}))}});var e3=fa,t3=No;function Es(l){if(typeof l!="function")throw new TypeError("executor must be a function.");var f;this.promise=new Promise(function(m){f=m});var n=this;this.promise.then(function(w){if(!!n._listeners){var m,x=n._listeners.length;for(m=0;m<x;m++)n._listeners[m](w);n._listeners=null}}),this.promise.then=function(w){var m,x=new Promise(function(b){n.subscribe(b),m=b}).then(w);return x.cancel=function(){n.unsubscribe(m)},x},l(function(m){n.reason||(n.reason=new t3(m),f(n.reason))})}Es.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Es.prototype.subscribe=function(f){if(this.reason){f(this.reason);return}this._listeners?this._listeners.push(f):this._listeners=[f]};Es.prototype.unsubscribe=function(f){if(!!this._listeners){var n=this._listeners.indexOf(f);n!==-1&&this._listeners.splice(n,1)}};Es.source=function(){var f,n=new Es(function(m){f=m});return{token:n,cancel:f}};var n3=Es,r3=function(f){return function(w){return f.apply(null,w)}},i3=zn,s3=function(f){return i3.isObject(f)&&f.isAxiosError===!0},Jc=zn,a3=Cf,Eo=e3,o3=Sf,l3=Ro;function Rf(l){var f=new Eo(l),n=a3(Eo.prototype.request,f);return Jc.extend(n,Eo.prototype,f),Jc.extend(n,f),n.create=function(m){return Rf(o3(l,m))},n}var Ur=Rf(l3);Ur.Axios=Eo;Ur.Cancel=No;Ur.CancelToken=n3;Ur.isCancel=Tf;Ur.VERSION=Of.version;Ur.all=function(f){return Promise.all(f)};Ur.spread=r3;Ur.isAxiosError=s3;vu.exports=Ur;vu.exports.default=Ur;var u3=vu.exports;window._=$p;window.axios=u3;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Mf=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),c3=l=>{let f=l.value.replace(/[^\d,]/g,"");return l.value=Mf(f),f};window.rupiah=c3;window.modelRupiah=Mf;var ou=!1,lu=!1,Zi=[],uu=-1;function f3(l){h3(l)}function h3(l){Zi.includes(l)||Zi.push(l),d3()}function Bf(l){let f=Zi.indexOf(l);f!==-1&&f>uu&&Zi.splice(f,1)}function d3(){!lu&&!ou&&(ou=!0,queueMicrotask(g3))}function g3(){ou=!1,lu=!0;for(let l=0;l<Zi.length;l++)Zi[l](),uu=l;Zi.length=0,uu=-1,lu=!1}var Is,Qi,ys,Lf,cu=!0;function x3(l){cu=!1,l(),cu=!0}function p3(l){Is=l.reactive,ys=l.release,Qi=f=>l.effect(f,{scheduler:n=>{cu?f3(n):n()}}),Lf=l.raw}function Qc(l){Qi=l}function w3(l){let f=()=>{};return[w=>{let m=Qi(w);return l._x_effects||(l._x_effects=new Set,l._x_runEffects=()=>{l._x_effects.forEach(x=>x())}),l._x_effects.add(m),f=()=>{m!==void 0&&(l._x_effects.delete(m),ys(m))},m},()=>{f()}]}function Pf(l,f){let n=!0,w,m=Qi(()=>{let x=l();JSON.stringify(x),n?w=x:queueMicrotask(()=>{f(x,w),w=x}),n=!1});return()=>ys(m)}function aa(l,f,n={}){l.dispatchEvent(new CustomEvent(f,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function _i(l,f){if(typeof ShadowRoot=="function"&&l instanceof ShadowRoot){Array.from(l.children).forEach(m=>_i(m,f));return}let n=!1;if(f(l,()=>n=!0),n)return;let w=l.firstElementChild;for(;w;)_i(w,f),w=w.nextElementSibling}function ii(l,...f){console.warn(`Alpine Warning: ${l}`,...f)}var $c=!1;function m3(){$c&&ii("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),$c=!0,document.body||ii("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),aa(document,"alpine:init"),aa(document,"alpine:initializing"),Pu(),E3(f=>si(f,_i)),Mu(f=>Ru(f)),zf((f,n)=>{Wu(f,n).forEach(w=>w())});let l=f=>!Bo(f.parentElement,!0);Array.from(document.querySelectorAll(Uf().join(","))).filter(l).forEach(f=>{si(f)}),aa(document,"alpine:initialized")}var Du=[],Ff=[];function kf(){return Du.map(l=>l())}function Uf(){return Du.concat(Ff).map(l=>l())}function Wf(l){Du.push(l)}function Hf(l){Ff.push(l)}function Bo(l,f=!1){return Lo(l,n=>{if((f?Uf():kf()).some(m=>n.matches(m)))return!0})}function Lo(l,f){if(!!l){if(f(l))return l;if(l._x_teleportBack&&(l=l._x_teleportBack),!!l.parentElement)return Lo(l.parentElement,f)}}function A3(l){return kf().some(f=>l.matches(f))}var Gf=[];function C3(l){Gf.push(l)}function si(l,f=_i,n=()=>{}){L3(()=>{f(l,(w,m)=>{n(w,m),Gf.forEach(x=>x(w,m)),Wu(w,w.attributes).forEach(x=>x()),w._x_ignore&&m()})})}function Ru(l){_i(l,f=>{Zf(f),_3(f)})}var Vf=[],Xf=[],Yf=[];function E3(l){Yf.push(l)}function Mu(l,f){typeof f=="function"?(l._x_cleanups||(l._x_cleanups=[]),l._x_cleanups.push(f)):(f=l,Xf.push(f))}function zf(l){Vf.push(l)}function Kf(l,f,n){l._x_attributeCleanups||(l._x_attributeCleanups={}),l._x_attributeCleanups[f]||(l._x_attributeCleanups[f]=[]),l._x_attributeCleanups[f].push(n)}function Zf(l,f){!l._x_attributeCleanups||Object.entries(l._x_attributeCleanups).forEach(([n,w])=>{(f===void 0||f.includes(n))&&(w.forEach(m=>m()),delete l._x_attributeCleanups[n])})}function _3(l){if(l._x_cleanups)for(;l._x_cleanups.length;)l._x_cleanups.pop()()}var Bu=new MutationObserver(ku),Lu=!1;function Pu(){Bu.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Lu=!0}function qf(){b3(),Bu.disconnect(),Lu=!1}var na=[];function b3(){let l=Bu.takeRecords();na.push(()=>l.length>0&&ku(l));let f=na.length;queueMicrotask(()=>{if(na.length===f)for(;na.length>0;)na.shift()()})}function nn(l){if(!Lu)return l();qf();let f=l();return Pu(),f}var Fu=!1,Io=[];function I3(){Fu=!0}function y3(){Fu=!1,ku(Io),Io=[]}function ku(l){if(Fu){Io=Io.concat(l);return}let f=new Set,n=new Set,w=new Map,m=new Map;for(let x=0;x<l.length;x++)if(!l[x].target._x_ignoreMutationObserver&&(l[x].type==="childList"&&(l[x].addedNodes.forEach(b=>b.nodeType===1&&f.add(b)),l[x].removedNodes.forEach(b=>b.nodeType===1&&n.add(b))),l[x].type==="attributes")){let b=l[x].target,R=l[x].attributeName,k=l[x].oldValue,v=()=>{w.has(b)||w.set(b,[]),w.get(b).push({name:R,value:b.getAttribute(R)})},P=()=>{m.has(b)||m.set(b,[]),m.get(b).push(R)};b.hasAttribute(R)&&k===null?v():b.hasAttribute(R)?(P(),v()):P()}m.forEach((x,b)=>{Zf(b,x)}),w.forEach((x,b)=>{Vf.forEach(R=>R(b,x))});for(let x of n)f.has(x)||(Xf.forEach(b=>b(x)),Ru(x));f.forEach(x=>{x._x_ignoreSelf=!0,x._x_ignore=!0});for(let x of f)n.has(x)||!x.isConnected||(delete x._x_ignoreSelf,delete x._x_ignore,Yf.forEach(b=>b(x)),x._x_ignore=!0,x._x_ignoreSelf=!0);f.forEach(x=>{delete x._x_ignoreSelf,delete x._x_ignore}),f=null,n=null,w=null,m=null}function jf(l){return da(_s(l))}function ha(l,f,n){return l._x_dataStack=[f,..._s(n||l)],()=>{l._x_dataStack=l._x_dataStack.filter(w=>w!==f)}}function _s(l){return l._x_dataStack?l._x_dataStack:typeof ShadowRoot=="function"&&l instanceof ShadowRoot?_s(l.host):l.parentNode?_s(l.parentNode):[]}function da(l){return new Proxy({objects:l},v3)}var v3={ownKeys({objects:l}){return Array.from(new Set(l.flatMap(f=>Object.keys(f))))},has({objects:l},f){return f==Symbol.unscopables?!1:l.some(n=>Object.prototype.hasOwnProperty.call(n,f))},get({objects:l},f,n){return f=="toJSON"?T3:Reflect.get(l.find(w=>Object.prototype.hasOwnProperty.call(w,f))||{},f,n)},set({objects:l},f,n,w){const m=l.find(b=>Object.prototype.hasOwnProperty.call(b,f))||l[l.length-1],x=Object.getOwnPropertyDescriptor(m,f);return(x==null?void 0:x.set)&&(x==null?void 0:x.get)?Reflect.set(m,f,n,w):Reflect.set(m,f,n)}};function T3(){return Reflect.ownKeys(this).reduce((f,n)=>(f[n]=Reflect.get(this,n),f),{})}function Jf(l){let f=w=>typeof w=="object"&&!Array.isArray(w)&&w!==null,n=(w,m="")=>{Object.entries(Object.getOwnPropertyDescriptors(w)).forEach(([x,{value:b,enumerable:R}])=>{if(R===!1||b===void 0)return;let k=m===""?x:`${m}.${x}`;typeof b=="object"&&b!==null&&b._x_interceptor?w[x]=b.initialize(l,k,x):f(b)&&b!==w&&!(b instanceof Element)&&n(b,k)})};return n(l)}function Qf(l,f=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(w,m,x){return l(this.initialValue,()=>S3(w,m),b=>fu(w,m,b),m,x)}};return f(n),w=>{if(typeof w=="object"&&w!==null&&w._x_interceptor){let m=n.initialize.bind(n);n.initialize=(x,b,R)=>{let k=w.initialize(x,b,R);return n.initialValue=k,m(x,b,R)}}else n.initialValue=w;return n}}function S3(l,f){return f.split(".").reduce((n,w)=>n[w],l)}function fu(l,f,n){if(typeof f=="string"&&(f=f.split(".")),f.length===1)l[f[0]]=n;else{if(f.length===0)throw error;return l[f[0]]||(l[f[0]]={}),fu(l[f[0]],f.slice(1),n)}}var $f={};function Or(l,f){$f[l]=f}function hu(l,f){return Object.entries($f).forEach(([n,w])=>{let m=null;function x(){if(m)return m;{let[b,R]=s0(f);return m={interceptor:Qf,...b},Mu(f,R),m}}Object.defineProperty(l,`$${n}`,{get(){return w(f,x())},enumerable:!1})}),l}function O3(l,f,n,...w){try{return n(...w)}catch(m){ua(m,l,f)}}function ua(l,f,n=void 0){l=Object.assign(l!=null?l:{message:"No error message given."},{el:f,expression:n}),console.warn(`Alpine Expression Error: ${l.message}

${n?'Expression: "'+n+`"

`:""}`,f),setTimeout(()=>{throw l},0)}var _o=!0;function e0(l){let f=_o;_o=!1;let n=l();return _o=f,n}function qi(l,f,n={}){let w;return Mn(l,f)(m=>w=m,n),w}function Mn(...l){return t0(...l)}var t0=n0;function N3(l){t0=l}function n0(l,f){let n={};hu(n,l);let w=[n,..._s(l)],m=typeof f=="function"?D3(w,f):M3(w,f,l);return O3.bind(null,l,f,m)}function D3(l,f){return(n=()=>{},{scope:w={},params:m=[]}={})=>{let x=f.apply(da([w,...l]),m);yo(n,x)}}var ql={};function R3(l,f){if(ql[l])return ql[l];let n=Object.getPrototypeOf(async function(){}).constructor,w=/^[\n\s]*if.*\(.*\)/.test(l.trim())||/^(let|const)\s/.test(l.trim())?`(async()=>{ ${l} })()`:l,x=(()=>{try{let b=new n(["__self","scope"],`with (scope) { __self.result = ${w} }; __self.finished = true; return __self.result;`);return Object.defineProperty(b,"name",{value:`[Alpine] ${l}`}),b}catch(b){return ua(b,f,l),Promise.resolve()}})();return ql[l]=x,x}function M3(l,f,n){let w=R3(f,n);return(m=()=>{},{scope:x={},params:b=[]}={})=>{w.result=void 0,w.finished=!1;let R=da([x,...l]);if(typeof w=="function"){let k=w(w,R).catch(v=>ua(v,n,f));w.finished?(yo(m,w.result,R,b,n),w.result=void 0):k.then(v=>{yo(m,v,R,b,n)}).catch(v=>ua(v,n,f)).finally(()=>w.result=void 0)}}}function yo(l,f,n,w,m){if(_o&&typeof f=="function"){let x=f.apply(n,w);x instanceof Promise?x.then(b=>yo(l,b,n,w)).catch(b=>ua(b,m,f)):l(x)}else typeof f=="object"&&f instanceof Promise?f.then(x=>l(x)):l(f)}var Uu="x-";function vs(l=""){return Uu+l}function B3(l){Uu=l}var du={};function zt(l,f){return du[l]=f,{before(n){if(!du[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${l}\` will use the default order of execution`);return}const w=Ki.indexOf(n);Ki.splice(w>=0?w:Ki.indexOf("DEFAULT"),0,l)}}}function Wu(l,f,n){if(f=Array.from(f),l._x_virtualDirectives){let x=Object.entries(l._x_virtualDirectives).map(([R,k])=>({name:R,value:k})),b=r0(x);x=x.map(R=>b.find(k=>k.name===R.name)?{name:`x-bind:${R.name}`,value:`"${R.value}"`}:R),f=f.concat(x)}let w={};return f.map(l0((x,b)=>w[x]=b)).filter(c0).map(F3(w,n)).sort(k3).map(x=>P3(l,x))}function r0(l){return Array.from(l).map(l0()).filter(f=>!c0(f))}var gu=!1,sa=new Map,i0=Symbol();function L3(l){gu=!0;let f=Symbol();i0=f,sa.set(f,[]);let n=()=>{for(;sa.get(f).length;)sa.get(f).shift()();sa.delete(f)},w=()=>{gu=!1,n()};l(n),w()}function s0(l){let f=[],n=R=>f.push(R),[w,m]=w3(l);return f.push(m),[{Alpine:xa,effect:w,cleanup:n,evaluateLater:Mn.bind(Mn,l),evaluate:qi.bind(qi,l)},()=>f.forEach(R=>R())]}function P3(l,f){let n=()=>{},w=du[f.type]||n,[m,x]=s0(l);Kf(l,f.original,x);let b=()=>{l._x_ignore||l._x_ignoreSelf||(w.inline&&w.inline(l,f,m),w=w.bind(w,l,f,m),gu?sa.get(i0).push(w):w())};return b.runCleanups=x,b}var a0=(l,f)=>({name:n,value:w})=>(n.startsWith(l)&&(n=n.replace(l,f)),{name:n,value:w}),o0=l=>l;function l0(l=()=>{}){return({name:f,value:n})=>{let{name:w,value:m}=u0.reduce((x,b)=>b(x),{name:f,value:n});return w!==f&&l(w,f),{name:w,value:m}}}var u0=[];function Hu(l){u0.push(l)}function c0({name:l}){return f0().test(l)}var f0=()=>new RegExp(`^${Uu}([^:^.]+)\\b`);function F3(l,f){return({name:n,value:w})=>{let m=n.match(f0()),x=n.match(/:([a-zA-Z0-9\-_:]+)/),b=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],R=f||l[n]||n;return{type:m?m[1]:null,value:x?x[1]:null,modifiers:b.map(k=>k.replace(".","")),expression:w,original:R}}}var xu="DEFAULT",Ki=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",xu,"teleport"];function k3(l,f){let n=Ki.indexOf(l.type)===-1?xu:l.type,w=Ki.indexOf(f.type)===-1?xu:f.type;return Ki.indexOf(n)-Ki.indexOf(w)}var pu=[],Gu=!1;function Vu(l=()=>{}){return queueMicrotask(()=>{Gu||setTimeout(()=>{wu()})}),new Promise(f=>{pu.push(()=>{l(),f()})})}function wu(){for(Gu=!1;pu.length;)pu.shift()()}function U3(){Gu=!0}function Xu(l,f){return Array.isArray(f)?ef(l,f.join(" ")):typeof f=="object"&&f!==null?W3(l,f):typeof f=="function"?Xu(l,f()):ef(l,f)}function ef(l,f){let n=m=>m.split(" ").filter(x=>!l.classList.contains(x)).filter(Boolean),w=m=>(l.classList.add(...m),()=>{l.classList.remove(...m)});return f=f===!0?f="":f||"",w(n(f))}function W3(l,f){let n=R=>R.split(" ").filter(Boolean),w=Object.entries(f).flatMap(([R,k])=>k?n(R):!1).filter(Boolean),m=Object.entries(f).flatMap(([R,k])=>k?!1:n(R)).filter(Boolean),x=[],b=[];return m.forEach(R=>{l.classList.contains(R)&&(l.classList.remove(R),b.push(R))}),w.forEach(R=>{l.classList.contains(R)||(l.classList.add(R),x.push(R))}),()=>{b.forEach(R=>l.classList.add(R)),x.forEach(R=>l.classList.remove(R))}}function Po(l,f){return typeof f=="object"&&f!==null?H3(l,f):G3(l,f)}function H3(l,f){let n={};return Object.entries(f).forEach(([w,m])=>{n[w]=l.style[w],w.startsWith("--")||(w=V3(w)),l.style.setProperty(w,m)}),setTimeout(()=>{l.style.length===0&&l.removeAttribute("style")}),()=>{Po(l,n)}}function G3(l,f){let n=l.getAttribute("style",f);return l.setAttribute("style",f),()=>{l.setAttribute("style",n||"")}}function V3(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mu(l,f=()=>{}){let n=!1;return function(){n?f.apply(this,arguments):(n=!0,l.apply(this,arguments))}}zt("transition",(l,{value:f,modifiers:n,expression:w},{evaluate:m})=>{typeof w=="function"&&(w=m(w)),w!==!1&&(!w||typeof w=="boolean"?Y3(l,n,f):X3(l,w,f))});function X3(l,f,n){h0(l,Xu,""),{enter:m=>{l._x_transition.enter.during=m},"enter-start":m=>{l._x_transition.enter.start=m},"enter-end":m=>{l._x_transition.enter.end=m},leave:m=>{l._x_transition.leave.during=m},"leave-start":m=>{l._x_transition.leave.start=m},"leave-end":m=>{l._x_transition.leave.end=m}}[n](f)}function Y3(l,f,n){h0(l,Po);let w=!f.includes("in")&&!f.includes("out")&&!n,m=w||f.includes("in")||["enter"].includes(n),x=w||f.includes("out")||["leave"].includes(n);f.includes("in")&&!w&&(f=f.filter((Re,Ee)=>Ee<f.indexOf("out"))),f.includes("out")&&!w&&(f=f.filter((Re,Ee)=>Ee>f.indexOf("out")));let b=!f.includes("opacity")&&!f.includes("scale"),R=b||f.includes("opacity"),k=b||f.includes("scale"),v=R?0:1,P=k?ra(f,"scale",95)/100:1,V=ra(f,"delay",0)/1e3,oe=ra(f,"origin","center"),ue="opacity, transform",rt=ra(f,"duration",150)/1e3,le=ra(f,"duration",75)/1e3,ie="cubic-bezier(0.4, 0.0, 0.2, 1)";m&&(l._x_transition.enter.during={transformOrigin:oe,transitionDelay:`${V}s`,transitionProperty:ue,transitionDuration:`${rt}s`,transitionTimingFunction:ie},l._x_transition.enter.start={opacity:v,transform:`scale(${P})`},l._x_transition.enter.end={opacity:1,transform:"scale(1)"}),x&&(l._x_transition.leave.during={transformOrigin:oe,transitionDelay:`${V}s`,transitionProperty:ue,transitionDuration:`${le}s`,transitionTimingFunction:ie},l._x_transition.leave.start={opacity:1,transform:"scale(1)"},l._x_transition.leave.end={opacity:v,transform:`scale(${P})`})}function h0(l,f,n={}){l._x_transition||(l._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(w=()=>{},m=()=>{}){Au(l,f,{during:this.enter.during,start:this.enter.start,end:this.enter.end},w,m)},out(w=()=>{},m=()=>{}){Au(l,f,{during:this.leave.during,start:this.leave.start,end:this.leave.end},w,m)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(l,f,n,w){const m=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let x=()=>m(n);if(f){l._x_transition&&(l._x_transition.enter||l._x_transition.leave)?l._x_transition.enter&&(Object.entries(l._x_transition.enter.during).length||Object.entries(l._x_transition.enter.start).length||Object.entries(l._x_transition.enter.end).length)?l._x_transition.in(n):x():l._x_transition?l._x_transition.in(n):x();return}l._x_hidePromise=l._x_transition?new Promise((b,R)=>{l._x_transition.out(()=>{},()=>b(w)),l._x_transitioning&&l._x_transitioning.beforeCancel(()=>R({isFromCancelledTransition:!0}))}):Promise.resolve(w),queueMicrotask(()=>{let b=d0(l);b?(b._x_hideChildren||(b._x_hideChildren=[]),b._x_hideChildren.push(l)):m(()=>{let R=k=>{let v=Promise.all([k._x_hidePromise,...(k._x_hideChildren||[]).map(R)]).then(([P])=>P());return delete k._x_hidePromise,delete k._x_hideChildren,v};R(l).catch(k=>{if(!k.isFromCancelledTransition)throw k})})})};function d0(l){let f=l.parentNode;if(!!f)return f._x_hidePromise?f:d0(f)}function Au(l,f,{during:n,start:w,end:m}={},x=()=>{},b=()=>{}){if(l._x_transitioning&&l._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(w).length===0&&Object.keys(m).length===0){x(),b();return}let R,k,v;z3(l,{start(){R=f(l,w)},during(){k=f(l,n)},before:x,end(){R(),v=f(l,m)},after:b,cleanup(){k(),v()}})}function z3(l,f){let n,w,m,x=mu(()=>{nn(()=>{n=!0,w||f.before(),m||(f.end(),wu()),f.after(),l.isConnected&&f.cleanup(),delete l._x_transitioning})});l._x_transitioning={beforeCancels:[],beforeCancel(b){this.beforeCancels.push(b)},cancel:mu(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();x()}),finish:x},nn(()=>{f.start(),f.during()}),U3(),requestAnimationFrame(()=>{if(n)return;let b=Number(getComputedStyle(l).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,R=Number(getComputedStyle(l).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;b===0&&(b=Number(getComputedStyle(l).animationDuration.replace("s",""))*1e3),nn(()=>{f.before()}),w=!0,requestAnimationFrame(()=>{n||(nn(()=>{f.end()}),wu(),setTimeout(l._x_transitioning.finish,b+R),m=!0)})})}function ra(l,f,n){if(l.indexOf(f)===-1)return n;const w=l[l.indexOf(f)+1];if(!w||f==="scale"&&isNaN(w))return n;if(f==="duration"||f==="delay"){let m=w.match(/([0-9]+)ms/);if(m)return m[1]}return f==="origin"&&["top","right","left","center","bottom"].includes(l[l.indexOf(f)+2])?[w,l[l.indexOf(f)+2]].join(" "):w}var bi=!1;function ga(l,f=()=>{}){return(...n)=>bi?f(...n):l(...n)}function K3(l){return(...f)=>bi&&l(...f)}var g0=[];function Fo(l){g0.push(l)}function Z3(l,f){g0.forEach(n=>n(l,f)),bi=!0,x0(()=>{si(f,(n,w)=>{w(n,()=>{})})}),bi=!1}var Cu=!1;function q3(l,f){f._x_dataStack||(f._x_dataStack=l._x_dataStack),bi=!0,Cu=!0,x0(()=>{j3(f)}),bi=!1,Cu=!1}function j3(l){let f=!1;si(l,(w,m)=>{_i(w,(x,b)=>{if(f&&A3(x))return b();f=!0,m(x,b)})})}function x0(l){let f=Qi;Qc((n,w)=>{let m=f(n);return ys(m),()=>{}}),l(),Qc(f)}function p0(l,f,n,w=[]){switch(l._x_bindings||(l._x_bindings=Is({})),l._x_bindings[f]=n,f=w.includes("camel")?im(f):f,f){case"value":J3(l,n);break;case"style":$3(l,n);break;case"class":Q3(l,n);break;case"selected":case"checked":em(l,f,n);break;default:w0(l,f,n);break}}function J3(l,f){if(l.type==="radio")l.attributes.value===void 0&&(l.value=f),window.fromModel&&(typeof f=="boolean"?l.checked=bo(l.value)===f:l.checked=tf(l.value,f));else if(l.type==="checkbox")Number.isInteger(f)?l.value=f:!Array.isArray(f)&&typeof f!="boolean"&&![null,void 0].includes(f)?l.value=String(f):Array.isArray(f)?l.checked=f.some(n=>tf(n,l.value)):l.checked=!!f;else if(l.tagName==="SELECT")rm(l,f);else{if(l.value===f)return;l.value=f===void 0?"":f}}function Q3(l,f){l._x_undoAddedClasses&&l._x_undoAddedClasses(),l._x_undoAddedClasses=Xu(l,f)}function $3(l,f){l._x_undoAddedStyles&&l._x_undoAddedStyles(),l._x_undoAddedStyles=Po(l,f)}function em(l,f,n){w0(l,f,n),nm(l,f,n)}function w0(l,f,n){[null,void 0,!1].includes(n)&&sm(f)?l.removeAttribute(f):(m0(f)&&(n=f),tm(l,f,n))}function tm(l,f,n){l.getAttribute(f)!=n&&l.setAttribute(f,n)}function nm(l,f,n){l[f]!==n&&(l[f]=n)}function rm(l,f){const n=[].concat(f).map(w=>w+"");Array.from(l.options).forEach(w=>{w.selected=n.includes(w.value)})}function im(l){return l.toLowerCase().replace(/-(\w)/g,(f,n)=>n.toUpperCase())}function tf(l,f){return l==f}function bo(l){return[1,"1","true","on","yes",!0].includes(l)?!0:[0,"0","false","off","no",!1].includes(l)?!1:l?Boolean(l):null}function m0(l){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(l)}function sm(l){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(l)}function am(l,f,n){return l._x_bindings&&l._x_bindings[f]!==void 0?l._x_bindings[f]:A0(l,f,n)}function om(l,f,n,w=!0){if(l._x_bindings&&l._x_bindings[f]!==void 0)return l._x_bindings[f];if(l._x_inlineBindings&&l._x_inlineBindings[f]!==void 0){let m=l._x_inlineBindings[f];return m.extract=w,e0(()=>qi(l,m.expression))}return A0(l,f,n)}function A0(l,f,n){let w=l.getAttribute(f);return w===null?typeof n=="function"?n():n:w===""?!0:m0(f)?!![f,"true"].includes(w):w}function C0(l,f){var n;return function(){var w=this,m=arguments,x=function(){n=null,l.apply(w,m)};clearTimeout(n),n=setTimeout(x,f)}}function E0(l,f){let n;return function(){let w=this,m=arguments;n||(l.apply(w,m),n=!0,setTimeout(()=>n=!1,f))}}function _0({get:l,set:f},{get:n,set:w}){let m=!0,x,b=Qi(()=>{let R=l(),k=n();if(m)w(jl(R)),m=!1;else{let v=JSON.stringify(R),P=JSON.stringify(k);v!==x?w(jl(R)):v!==P&&f(jl(k))}x=JSON.stringify(l()),JSON.stringify(n())});return()=>{ys(b)}}function jl(l){return typeof l=="object"?JSON.parse(JSON.stringify(l)):l}function lm(l){(Array.isArray(l)?l:[l]).forEach(n=>n(xa))}var Yi={},nf=!1;function um(l,f){if(nf||(Yi=Is(Yi),nf=!0),f===void 0)return Yi[l];Yi[l]=f,typeof f=="object"&&f!==null&&f.hasOwnProperty("init")&&typeof f.init=="function"&&Yi[l].init(),Jf(Yi[l])}function cm(){return Yi}var b0={};function fm(l,f){let n=typeof f!="function"?()=>f:f;return l instanceof Element?I0(l,n()):(b0[l]=n,()=>{})}function hm(l){return Object.entries(b0).forEach(([f,n])=>{Object.defineProperty(l,f,{get(){return(...w)=>n(...w)}})}),l}function I0(l,f,n){let w=[];for(;w.length;)w.pop()();let m=Object.entries(f).map(([b,R])=>({name:b,value:R})),x=r0(m);return m=m.map(b=>x.find(R=>R.name===b.name)?{name:`x-bind:${b.name}`,value:`"${b.value}"`}:b),Wu(l,m,n).map(b=>{w.push(b.runCleanups),b()}),()=>{for(;w.length;)w.pop()()}}var y0={};function dm(l,f){y0[l]=f}function gm(l,f){return Object.entries(y0).forEach(([n,w])=>{Object.defineProperty(l,n,{get(){return(...m)=>w.bind(f)(...m)},enumerable:!1})}),l}var xm={get reactive(){return Is},get release(){return ys},get effect(){return Qi},get raw(){return Lf},version:"3.13.5",flushAndStopDeferringMutations:y3,dontAutoEvaluateFunctions:e0,disableEffectScheduling:x3,startObservingMutations:Pu,stopObservingMutations:qf,setReactivityEngine:p3,onAttributeRemoved:Kf,onAttributesAdded:zf,closestDataStack:_s,skipDuringClone:ga,onlyDuringClone:K3,addRootSelector:Wf,addInitSelector:Hf,interceptClone:Fo,addScopeToNode:ha,deferMutations:I3,mapAttributes:Hu,evaluateLater:Mn,interceptInit:C3,setEvaluator:N3,mergeProxies:da,extractProp:om,findClosest:Lo,onElRemoved:Mu,closestRoot:Bo,destroyTree:Ru,interceptor:Qf,transition:Au,setStyles:Po,mutateDom:nn,directive:zt,entangle:_0,throttle:E0,debounce:C0,evaluate:qi,initTree:si,nextTick:Vu,prefixed:vs,prefix:B3,plugin:lm,magic:Or,store:um,start:m3,clone:q3,cloneNode:Z3,bound:am,$data:jf,watch:Pf,walk:_i,data:dm,bind:fm},xa=xm;function pm(l,f){const n=Object.create(null),w=l.split(",");for(let m=0;m<w.length;m++)n[w[m]]=!0;return f?m=>!!n[m.toLowerCase()]:m=>!!n[m]}var wm=Object.freeze({});Object.freeze([]);var mm=Object.prototype.hasOwnProperty,ko=(l,f)=>mm.call(l,f),ji=Array.isArray,oa=l=>v0(l)==="[object Map]",Am=l=>typeof l=="string",Yu=l=>typeof l=="symbol",Uo=l=>l!==null&&typeof l=="object",Cm=Object.prototype.toString,v0=l=>Cm.call(l),T0=l=>v0(l).slice(8,-1),zu=l=>Am(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,Em=l=>{const f=Object.create(null);return n=>f[n]||(f[n]=l(n))},_m=Em(l=>l.charAt(0).toUpperCase()+l.slice(1)),S0=(l,f)=>l!==f&&(l===l||f===f),Eu=new WeakMap,ia=[],Fr,Ji=Symbol("iterate"),_u=Symbol("Map key iterate");function bm(l){return l&&l._isEffect===!0}function Im(l,f=wm){bm(l)&&(l=l.raw);const n=Tm(l,f);return f.lazy||n(),n}function ym(l){l.active&&(O0(l),l.options.onStop&&l.options.onStop(),l.active=!1)}var vm=0;function Tm(l,f){const n=function(){if(!n.active)return l();if(!ia.includes(n)){O0(n);try{return Om(),ia.push(n),Fr=n,l()}finally{ia.pop(),N0(),Fr=ia[ia.length-1]}}};return n.id=vm++,n.allowRecurse=!!f.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=l,n.deps=[],n.options=f,n}function O0(l){const{deps:f}=l;if(f.length){for(let n=0;n<f.length;n++)f[n].delete(l);f.length=0}}var bs=!0,Ku=[];function Sm(){Ku.push(bs),bs=!1}function Om(){Ku.push(bs),bs=!0}function N0(){const l=Ku.pop();bs=l===void 0?!0:l}function Sr(l,f,n){if(!bs||Fr===void 0)return;let w=Eu.get(l);w||Eu.set(l,w=new Map);let m=w.get(n);m||w.set(n,m=new Set),m.has(Fr)||(m.add(Fr),Fr.deps.push(m),Fr.options.onTrack&&Fr.options.onTrack({effect:Fr,target:l,type:f,key:n}))}function Ii(l,f,n,w,m,x){const b=Eu.get(l);if(!b)return;const R=new Set,k=P=>{P&&P.forEach(V=>{(V!==Fr||V.allowRecurse)&&R.add(V)})};if(f==="clear")b.forEach(k);else if(n==="length"&&ji(l))b.forEach((P,V)=>{(V==="length"||V>=w)&&k(P)});else switch(n!==void 0&&k(b.get(n)),f){case"add":ji(l)?zu(n)&&k(b.get("length")):(k(b.get(Ji)),oa(l)&&k(b.get(_u)));break;case"delete":ji(l)||(k(b.get(Ji)),oa(l)&&k(b.get(_u)));break;case"set":oa(l)&&k(b.get(Ji));break}const v=P=>{P.options.onTrigger&&P.options.onTrigger({effect:P,target:l,key:n,type:f,newValue:w,oldValue:m,oldTarget:x}),P.options.scheduler?P.options.scheduler(P):P()};R.forEach(v)}var Nm=pm("__proto__,__v_isRef,__isVue"),D0=new Set(Object.getOwnPropertyNames(Symbol).map(l=>Symbol[l]).filter(Yu)),Dm=R0(),Rm=R0(!0),rf=Mm();function Mm(){const l={};return["includes","indexOf","lastIndexOf"].forEach(f=>{l[f]=function(...n){const w=yt(this);for(let x=0,b=this.length;x<b;x++)Sr(w,"get",x+"");const m=w[f](...n);return m===-1||m===!1?w[f](...n.map(yt)):m}}),["push","pop","shift","unshift","splice"].forEach(f=>{l[f]=function(...n){Sm();const w=yt(this)[f].apply(this,n);return N0(),w}}),l}function R0(l=!1,f=!1){return function(w,m,x){if(m==="__v_isReactive")return!l;if(m==="__v_isReadonly")return l;if(m==="__v_raw"&&x===(l?f?qm:P0:f?Zm:L0).get(w))return w;const b=ji(w);if(!l&&b&&ko(rf,m))return Reflect.get(rf,m,x);const R=Reflect.get(w,m,x);return(Yu(m)?D0.has(m):Nm(m))||(l||Sr(w,"get",m),f)?R:bu(R)?!b||!zu(m)?R.value:R:Uo(R)?l?F0(R):Ju(R):R}}var Bm=Lm();function Lm(l=!1){return function(n,w,m,x){let b=n[w];if(!l&&(m=yt(m),b=yt(b),!ji(n)&&bu(b)&&!bu(m)))return b.value=m,!0;const R=ji(n)&&zu(w)?Number(w)<n.length:ko(n,w),k=Reflect.set(n,w,m,x);return n===yt(x)&&(R?S0(m,b)&&Ii(n,"set",w,m,b):Ii(n,"add",w,m)),k}}function Pm(l,f){const n=ko(l,f),w=l[f],m=Reflect.deleteProperty(l,f);return m&&n&&Ii(l,"delete",f,void 0,w),m}function Fm(l,f){const n=Reflect.has(l,f);return(!Yu(f)||!D0.has(f))&&Sr(l,"has",f),n}function km(l){return Sr(l,"iterate",ji(l)?"length":Ji),Reflect.ownKeys(l)}var Um={get:Dm,set:Bm,deleteProperty:Pm,has:Fm,ownKeys:km},Wm={get:Rm,set(l,f){return console.warn(`Set operation on key "${String(f)}" failed: target is readonly.`,l),!0},deleteProperty(l,f){return console.warn(`Delete operation on key "${String(f)}" failed: target is readonly.`,l),!0}},Zu=l=>Uo(l)?Ju(l):l,qu=l=>Uo(l)?F0(l):l,ju=l=>l,Wo=l=>Reflect.getPrototypeOf(l);function ho(l,f,n=!1,w=!1){l=l.__v_raw;const m=yt(l),x=yt(f);f!==x&&!n&&Sr(m,"get",f),!n&&Sr(m,"get",x);const{has:b}=Wo(m),R=w?ju:n?qu:Zu;if(b.call(m,f))return R(l.get(f));if(b.call(m,x))return R(l.get(x));l!==m&&l.get(f)}function go(l,f=!1){const n=this.__v_raw,w=yt(n),m=yt(l);return l!==m&&!f&&Sr(w,"has",l),!f&&Sr(w,"has",m),l===m?n.has(l):n.has(l)||n.has(m)}function xo(l,f=!1){return l=l.__v_raw,!f&&Sr(yt(l),"iterate",Ji),Reflect.get(l,"size",l)}function sf(l){l=yt(l);const f=yt(this);return Wo(f).has.call(f,l)||(f.add(l),Ii(f,"add",l,l)),this}function af(l,f){f=yt(f);const n=yt(this),{has:w,get:m}=Wo(n);let x=w.call(n,l);x?B0(n,w,l):(l=yt(l),x=w.call(n,l));const b=m.call(n,l);return n.set(l,f),x?S0(f,b)&&Ii(n,"set",l,f,b):Ii(n,"add",l,f),this}function of(l){const f=yt(this),{has:n,get:w}=Wo(f);let m=n.call(f,l);m?B0(f,n,l):(l=yt(l),m=n.call(f,l));const x=w?w.call(f,l):void 0,b=f.delete(l);return m&&Ii(f,"delete",l,void 0,x),b}function lf(){const l=yt(this),f=l.size!==0,n=oa(l)?new Map(l):new Set(l),w=l.clear();return f&&Ii(l,"clear",void 0,void 0,n),w}function po(l,f){return function(w,m){const x=this,b=x.__v_raw,R=yt(b),k=f?ju:l?qu:Zu;return!l&&Sr(R,"iterate",Ji),b.forEach((v,P)=>w.call(m,k(v),k(P),x))}}function wo(l,f,n){return function(...w){const m=this.__v_raw,x=yt(m),b=oa(x),R=l==="entries"||l===Symbol.iterator&&b,k=l==="keys"&&b,v=m[l](...w),P=n?ju:f?qu:Zu;return!f&&Sr(x,"iterate",k?_u:Ji),{next(){const{value:V,done:oe}=v.next();return oe?{value:V,done:oe}:{value:R?[P(V[0]),P(V[1])]:P(V),done:oe}},[Symbol.iterator](){return this}}}}function Ei(l){return function(...f){{const n=f[0]?`on key "${f[0]}" `:"";console.warn(`${_m(l)} operation ${n}failed: target is readonly.`,yt(this))}return l==="delete"?!1:this}}function Hm(){const l={get(x){return ho(this,x)},get size(){return xo(this)},has:go,add:sf,set:af,delete:of,clear:lf,forEach:po(!1,!1)},f={get(x){return ho(this,x,!1,!0)},get size(){return xo(this)},has:go,add:sf,set:af,delete:of,clear:lf,forEach:po(!1,!0)},n={get(x){return ho(this,x,!0)},get size(){return xo(this,!0)},has(x){return go.call(this,x,!0)},add:Ei("add"),set:Ei("set"),delete:Ei("delete"),clear:Ei("clear"),forEach:po(!0,!1)},w={get(x){return ho(this,x,!0,!0)},get size(){return xo(this,!0)},has(x){return go.call(this,x,!0)},add:Ei("add"),set:Ei("set"),delete:Ei("delete"),clear:Ei("clear"),forEach:po(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{l[x]=wo(x,!1,!1),n[x]=wo(x,!0,!1),f[x]=wo(x,!1,!0),w[x]=wo(x,!0,!0)}),[l,n,f,w]}var[Gm,Vm,Xm,Ym]=Hm();function M0(l,f){const n=f?l?Ym:Xm:l?Vm:Gm;return(w,m,x)=>m==="__v_isReactive"?!l:m==="__v_isReadonly"?l:m==="__v_raw"?w:Reflect.get(ko(n,m)&&m in w?n:w,m,x)}var zm={get:M0(!1,!1)},Km={get:M0(!0,!1)};function B0(l,f,n){const w=yt(n);if(w!==n&&f.call(l,w)){const m=T0(l);console.warn(`Reactive ${m} contains both the raw and reactive versions of the same object${m==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var L0=new WeakMap,Zm=new WeakMap,P0=new WeakMap,qm=new WeakMap;function jm(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jm(l){return l.__v_skip||!Object.isExtensible(l)?0:jm(T0(l))}function Ju(l){return l&&l.__v_isReadonly?l:k0(l,!1,Um,zm,L0)}function F0(l){return k0(l,!0,Wm,Km,P0)}function k0(l,f,n,w,m){if(!Uo(l))return console.warn(`value cannot be made reactive: ${String(l)}`),l;if(l.__v_raw&&!(f&&l.__v_isReactive))return l;const x=m.get(l);if(x)return x;const b=Jm(l);if(b===0)return l;const R=new Proxy(l,b===2?w:n);return m.set(l,R),R}function yt(l){return l&&yt(l.__v_raw)||l}function bu(l){return Boolean(l&&l.__v_isRef===!0)}Or("nextTick",()=>Vu);Or("dispatch",l=>aa.bind(aa,l));Or("watch",(l,{evaluateLater:f,cleanup:n})=>(w,m)=>{let x=f(w),R=Pf(()=>{let k;return x(v=>k=v),k},m);n(R)});Or("store",cm);Or("data",l=>jf(l));Or("root",l=>Bo(l));Or("refs",l=>(l._x_refs_proxy||(l._x_refs_proxy=da(Qm(l))),l._x_refs_proxy));function Qm(l){let f=[],n=l;for(;n;)n._x_refs&&f.push(n._x_refs),n=n.parentNode;return f}var Jl={};function U0(l){return Jl[l]||(Jl[l]=0),++Jl[l]}function $m(l,f){return Lo(l,n=>{if(n._x_ids&&n._x_ids[f])return!0})}function eA(l,f){l._x_ids||(l._x_ids={}),l._x_ids[f]||(l._x_ids[f]=U0(f))}Or("id",(l,{cleanup:f})=>(n,w=null)=>{let m=`${n}${w?`-${w}`:""}`;return tA(l,m,f,()=>{let x=$m(l,n),b=x?x._x_ids[n]:U0(n);return w?`${n}-${b}-${w}`:`${n}-${b}`})});Fo((l,f)=>{l._x_id&&(f._x_id=l._x_id)});function tA(l,f,n,w){if(l._x_id||(l._x_id={}),l._x_id[f])return l._x_id[f];let m=w();return l._x_id[f]=m,n(()=>{delete l._x_id[f]}),m}Or("el",l=>l);W0("Focus","focus","focus");W0("Persist","persist","persist");function W0(l,f,n){Or(f,w=>ii(`You can't use [$${f}] without first installing the "${l}" plugin here: https://alpinejs.dev/plugins/${n}`,w))}zt("modelable",(l,{expression:f},{effect:n,evaluateLater:w,cleanup:m})=>{let x=w(f),b=()=>{let P;return x(V=>P=V),P},R=w(`${f} = __placeholder`),k=P=>R(()=>{},{scope:{__placeholder:P}}),v=b();k(v),queueMicrotask(()=>{if(!l._x_model)return;l._x_removeModelListeners.default();let P=l._x_model.get,V=l._x_model.set,oe=_0({get(){return P()},set(ue){V(ue)}},{get(){return b()},set(ue){k(ue)}});m(oe)})});zt("teleport",(l,{modifiers:f,expression:n},{cleanup:w})=>{l.tagName.toLowerCase()!=="template"&&ii("x-teleport can only be used on a <template> tag",l);let m=uf(n),x=l.content.cloneNode(!0).firstElementChild;l._x_teleport=x,x._x_teleportBack=l,l.setAttribute("data-teleport-template",!0),x.setAttribute("data-teleport-target",!0),l._x_forwardEvents&&l._x_forwardEvents.forEach(R=>{x.addEventListener(R,k=>{k.stopPropagation(),l.dispatchEvent(new k.constructor(k.type,k))})}),ha(x,{},l);let b=(R,k,v)=>{v.includes("prepend")?k.parentNode.insertBefore(R,k):v.includes("append")?k.parentNode.insertBefore(R,k.nextSibling):k.appendChild(R)};nn(()=>{b(x,m,f),si(x),x._x_ignore=!0}),l._x_teleportPutBack=()=>{let R=uf(n);nn(()=>{b(l._x_teleport,R,f)})},w(()=>x.remove())});var nA=document.createElement("div");function uf(l){let f=ga(()=>document.querySelector(l),()=>nA)();return f||ii(`Cannot find x-teleport element for selector: "${l}"`),f}var H0=()=>{};H0.inline=(l,{modifiers:f},{cleanup:n})=>{f.includes("self")?l._x_ignoreSelf=!0:l._x_ignore=!0,n(()=>{f.includes("self")?delete l._x_ignoreSelf:delete l._x_ignore})};zt("ignore",H0);zt("effect",ga((l,{expression:f},{effect:n})=>{n(Mn(l,f))}));function Iu(l,f,n,w){let m=l,x=k=>w(k),b={},R=(k,v)=>P=>v(k,P);if(n.includes("dot")&&(f=rA(f)),n.includes("camel")&&(f=iA(f)),n.includes("passive")&&(b.passive=!0),n.includes("capture")&&(b.capture=!0),n.includes("window")&&(m=window),n.includes("document")&&(m=document),n.includes("debounce")){let k=n[n.indexOf("debounce")+1]||"invalid-wait",v=vo(k.split("ms")[0])?Number(k.split("ms")[0]):250;x=C0(x,v)}if(n.includes("throttle")){let k=n[n.indexOf("throttle")+1]||"invalid-wait",v=vo(k.split("ms")[0])?Number(k.split("ms")[0]):250;x=E0(x,v)}return n.includes("prevent")&&(x=R(x,(k,v)=>{v.preventDefault(),k(v)})),n.includes("stop")&&(x=R(x,(k,v)=>{v.stopPropagation(),k(v)})),n.includes("self")&&(x=R(x,(k,v)=>{v.target===l&&k(v)})),(n.includes("away")||n.includes("outside"))&&(m=document,x=R(x,(k,v)=>{l.contains(v.target)||v.target.isConnected!==!1&&(l.offsetWidth<1&&l.offsetHeight<1||l._x_isShown!==!1&&k(v))})),n.includes("once")&&(x=R(x,(k,v)=>{k(v),m.removeEventListener(f,x,b)})),x=R(x,(k,v)=>{aA(f)&&oA(v,n)||k(v)}),m.addEventListener(f,x,b),()=>{m.removeEventListener(f,x,b)}}function rA(l){return l.replace(/-/g,".")}function iA(l){return l.toLowerCase().replace(/-(\w)/g,(f,n)=>n.toUpperCase())}function vo(l){return!Array.isArray(l)&&!isNaN(l)}function sA(l){return[" ","_"].includes(l)?l:l.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function aA(l){return["keydown","keyup"].includes(l)}function oA(l,f){let n=f.filter(x=>!["window","document","prevent","stop","once","capture"].includes(x));if(n.includes("debounce")){let x=n.indexOf("debounce");n.splice(x,vo((n[x+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let x=n.indexOf("throttle");n.splice(x,vo((n[x+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&cf(l.key).includes(n[0]))return!1;const m=["ctrl","shift","alt","meta","cmd","super"].filter(x=>n.includes(x));return n=n.filter(x=>!m.includes(x)),!(m.length>0&&m.filter(b=>((b==="cmd"||b==="super")&&(b="meta"),l[`${b}Key`])).length===m.length&&cf(l.key).includes(n[0]))}function cf(l){if(!l)return[];l=sA(l);let f={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return f[l]=l,Object.keys(f).map(n=>{if(f[n]===l)return n}).filter(n=>n)}zt("model",(l,{modifiers:f,expression:n},{effect:w,cleanup:m})=>{let x=l;f.includes("parent")&&(x=l.parentNode);let b=Mn(x,n),R;typeof n=="string"?R=Mn(x,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?R=Mn(x,`${n()} = __placeholder`):R=()=>{};let k=()=>{let oe;return b(ue=>oe=ue),ff(oe)?oe.get():oe},v=oe=>{let ue;b(rt=>ue=rt),ff(ue)?ue.set(oe):R(()=>{},{scope:{__placeholder:oe}})};typeof n=="string"&&l.type==="radio"&&nn(()=>{l.hasAttribute("name")||l.setAttribute("name",n)});var P=l.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(l.type)||f.includes("lazy")?"change":"input";let V=bi?()=>{}:Iu(l,P,f,oe=>{v(lA(l,f,oe,k()))});if(f.includes("fill")&&([void 0,null,""].includes(k())||l.type==="checkbox"&&Array.isArray(k()))&&l.dispatchEvent(new Event(P,{})),l._x_removeModelListeners||(l._x_removeModelListeners={}),l._x_removeModelListeners.default=V,m(()=>l._x_removeModelListeners.default()),l.form){let oe=Iu(l.form,"reset",[],ue=>{Vu(()=>l._x_model&&l._x_model.set(l.value))});m(()=>oe())}l._x_model={get(){return k()},set(oe){v(oe)}},l._x_forceModelUpdate=oe=>{oe===void 0&&typeof n=="string"&&n.match(/\./)&&(oe=""),window.fromModel=!0,nn(()=>p0(l,"value",oe)),delete window.fromModel},w(()=>{let oe=k();f.includes("unintrusive")&&document.activeElement.isSameNode(l)||l._x_forceModelUpdate(oe)})});function lA(l,f,n,w){return nn(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(l.type==="checkbox")if(Array.isArray(w)){let m=null;return f.includes("number")?m=Ql(n.target.value):f.includes("boolean")?m=bo(n.target.value):m=n.target.value,n.target.checked?w.concat([m]):w.filter(x=>!uA(x,m))}else return n.target.checked;else return l.tagName.toLowerCase()==="select"&&l.multiple?f.includes("number")?Array.from(n.target.selectedOptions).map(m=>{let x=m.value||m.text;return Ql(x)}):f.includes("boolean")?Array.from(n.target.selectedOptions).map(m=>{let x=m.value||m.text;return bo(x)}):Array.from(n.target.selectedOptions).map(m=>m.value||m.text):f.includes("number")?Ql(n.target.value):f.includes("boolean")?bo(n.target.value):f.includes("trim")?n.target.value.trim():n.target.value})}function Ql(l){let f=l?parseFloat(l):null;return cA(f)?f:l}function uA(l,f){return l==f}function cA(l){return!Array.isArray(l)&&!isNaN(l)}function ff(l){return l!==null&&typeof l=="object"&&typeof l.get=="function"&&typeof l.set=="function"}zt("cloak",l=>queueMicrotask(()=>nn(()=>l.removeAttribute(vs("cloak")))));Hf(()=>`[${vs("init")}]`);zt("init",ga((l,{expression:f},{evaluate:n})=>typeof f=="string"?!!f.trim()&&n(f,{},!1):n(f,{},!1)));zt("text",(l,{expression:f},{effect:n,evaluateLater:w})=>{let m=w(f);n(()=>{m(x=>{nn(()=>{l.textContent=x})})})});zt("html",(l,{expression:f},{effect:n,evaluateLater:w})=>{let m=w(f);n(()=>{m(x=>{nn(()=>{l.innerHTML=x,l._x_ignoreSelf=!0,si(l),delete l._x_ignoreSelf})})})});Hu(a0(":",o0(vs("bind:"))));var G0=(l,{value:f,modifiers:n,expression:w,original:m},{effect:x})=>{if(!f){let R={};hm(R),Mn(l,w)(v=>{I0(l,v,m)},{scope:R});return}if(f==="key")return fA(l,w);if(l._x_inlineBindings&&l._x_inlineBindings[f]&&l._x_inlineBindings[f].extract)return;let b=Mn(l,w);x(()=>b(R=>{R===void 0&&typeof w=="string"&&w.match(/\./)&&(R=""),nn(()=>p0(l,f,R,n))}))};G0.inline=(l,{value:f,modifiers:n,expression:w})=>{!f||(l._x_inlineBindings||(l._x_inlineBindings={}),l._x_inlineBindings[f]={expression:w,extract:!1})};zt("bind",G0);function fA(l,f){l._x_keyExpression=f}Wf(()=>`[${vs("data")}]`);zt("data",(l,{expression:f},{cleanup:n})=>{if(hA(l))return;f=f===""?"{}":f;let w={};hu(w,l);let m={};gm(m,w);let x=qi(l,f,{scope:m});(x===void 0||x===!0)&&(x={}),hu(x,l);let b=Is(x);Jf(b);let R=ha(l,b);b.init&&qi(l,b.init),n(()=>{b.destroy&&qi(l,b.destroy),R()})});Fo((l,f)=>{l._x_dataStack&&(f._x_dataStack=l._x_dataStack,f.setAttribute("data-has-alpine-state",!0))});function hA(l){return bi?Cu?!0:l.hasAttribute("data-has-alpine-state"):!1}zt("show",(l,{modifiers:f,expression:n},{effect:w})=>{let m=Mn(l,n);l._x_doHide||(l._x_doHide=()=>{nn(()=>{l.style.setProperty("display","none",f.includes("important")?"important":void 0)})}),l._x_doShow||(l._x_doShow=()=>{nn(()=>{l.style.length===1&&l.style.display==="none"?l.removeAttribute("style"):l.style.removeProperty("display")})});let x=()=>{l._x_doHide(),l._x_isShown=!1},b=()=>{l._x_doShow(),l._x_isShown=!0},R=()=>setTimeout(b),k=mu(V=>V?b():x(),V=>{typeof l._x_toggleAndCascadeWithTransitions=="function"?l._x_toggleAndCascadeWithTransitions(l,V,b,x):V?R():x()}),v,P=!0;w(()=>m(V=>{!P&&V===v||(f.includes("immediate")&&(V?R():x()),k(V),v=V,P=!1)}))});zt("for",(l,{expression:f},{effect:n,cleanup:w})=>{let m=gA(f),x=Mn(l,m.items),b=Mn(l,l._x_keyExpression||"index");l._x_prevKeys=[],l._x_lookup={},n(()=>dA(l,m,x,b)),w(()=>{Object.values(l._x_lookup).forEach(R=>R.remove()),delete l._x_prevKeys,delete l._x_lookup})});function dA(l,f,n,w){let m=b=>typeof b=="object"&&!Array.isArray(b),x=l;n(b=>{xA(b)&&b>=0&&(b=Array.from(Array(b).keys(),ie=>ie+1)),b===void 0&&(b=[]);let R=l._x_lookup,k=l._x_prevKeys,v=[],P=[];if(m(b))b=Object.entries(b).map(([ie,Re])=>{let Ee=hf(f,Re,ie,b);w(fe=>P.push(fe),{scope:{index:ie,...Ee}}),v.push(Ee)});else for(let ie=0;ie<b.length;ie++){let Re=hf(f,b[ie],ie,b);w(Ee=>P.push(Ee),{scope:{index:ie,...Re}}),v.push(Re)}let V=[],oe=[],ue=[],rt=[];for(let ie=0;ie<k.length;ie++){let Re=k[ie];P.indexOf(Re)===-1&&ue.push(Re)}k=k.filter(ie=>!ue.includes(ie));let le="template";for(let ie=0;ie<P.length;ie++){let Re=P[ie],Ee=k.indexOf(Re);if(Ee===-1)k.splice(ie,0,Re),V.push([le,ie]);else if(Ee!==ie){let fe=k.splice(ie,1)[0],_e=k.splice(Ee-1,1)[0];k.splice(ie,0,_e),k.splice(Ee,0,fe),oe.push([fe,_e])}else rt.push(Re);le=Re}for(let ie=0;ie<ue.length;ie++){let Re=ue[ie];R[Re]._x_effects&&R[Re]._x_effects.forEach(Bf),R[Re].remove(),R[Re]=null,delete R[Re]}for(let ie=0;ie<oe.length;ie++){let[Re,Ee]=oe[ie],fe=R[Re],_e=R[Ee],_t=document.createElement("div");nn(()=>{_e||ii('x-for ":key" is undefined or invalid',x),_e.after(_t),fe.after(_e),_e._x_currentIfEl&&_e.after(_e._x_currentIfEl),_t.before(fe),fe._x_currentIfEl&&fe.after(fe._x_currentIfEl),_t.remove()}),_e._x_refreshXForScope(v[P.indexOf(Ee)])}for(let ie=0;ie<V.length;ie++){let[Re,Ee]=V[ie],fe=Re==="template"?x:R[Re];fe._x_currentIfEl&&(fe=fe._x_currentIfEl);let _e=v[Ee],_t=P[Ee],Fe=document.importNode(x.content,!0).firstElementChild,te=Is(_e);ha(Fe,te,x),Fe._x_refreshXForScope=ke=>{Object.entries(ke).forEach(([ne,pn])=>{te[ne]=pn})},nn(()=>{fe.after(Fe),si(Fe)}),typeof _t=="object"&&ii("x-for key cannot be an object, it must be a string or an integer",x),R[_t]=Fe}for(let ie=0;ie<rt.length;ie++)R[rt[ie]]._x_refreshXForScope(v[P.indexOf(rt[ie])]);x._x_prevKeys=P})}function gA(l){let f=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,w=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,m=l.match(w);if(!m)return;let x={};x.items=m[2].trim();let b=m[1].replace(n,"").trim(),R=b.match(f);return R?(x.item=b.replace(f,"").trim(),x.index=R[1].trim(),R[2]&&(x.collection=R[2].trim())):x.item=b,x}function hf(l,f,n,w){let m={};return/^\[.*\]$/.test(l.item)&&Array.isArray(f)?l.item.replace("[","").replace("]","").split(",").map(b=>b.trim()).forEach((b,R)=>{m[b]=f[R]}):/^\{.*\}$/.test(l.item)&&!Array.isArray(f)&&typeof f=="object"?l.item.replace("{","").replace("}","").split(",").map(b=>b.trim()).forEach(b=>{m[b]=f[b]}):m[l.item]=f,l.index&&(m[l.index]=n),l.collection&&(m[l.collection]=w),m}function xA(l){return!Array.isArray(l)&&!isNaN(l)}function V0(){}V0.inline=(l,{expression:f},{cleanup:n})=>{let w=Bo(l);w._x_refs||(w._x_refs={}),w._x_refs[f]=l,n(()=>delete w._x_refs[f])};zt("ref",V0);zt("if",(l,{expression:f},{effect:n,cleanup:w})=>{l.tagName.toLowerCase()!=="template"&&ii("x-if can only be used on a <template> tag",l);let m=Mn(l,f),x=()=>{if(l._x_currentIfEl)return l._x_currentIfEl;let R=l.content.cloneNode(!0).firstElementChild;return ha(R,{},l),nn(()=>{l.after(R),si(R)}),l._x_currentIfEl=R,l._x_undoIf=()=>{_i(R,k=>{k._x_effects&&k._x_effects.forEach(Bf)}),R.remove(),delete l._x_currentIfEl},R},b=()=>{!l._x_undoIf||(l._x_undoIf(),delete l._x_undoIf)};n(()=>m(R=>{R?x():b()})),w(()=>l._x_undoIf&&l._x_undoIf())});zt("id",(l,{expression:f},{evaluate:n})=>{n(f).forEach(m=>eA(l,m))});Fo((l,f)=>{l._x_ids&&(f._x_ids=l._x_ids)});Hu(a0("@",o0(vs("on:"))));zt("on",ga((l,{value:f,modifiers:n,expression:w},{cleanup:m})=>{let x=w?Mn(l,w):()=>{};l.tagName.toLowerCase()==="template"&&(l._x_forwardEvents||(l._x_forwardEvents=[]),l._x_forwardEvents.includes(f)||l._x_forwardEvents.push(f));let b=Iu(l,f,n,R=>{x(()=>{},{scope:{$event:R},params:[R]})});m(()=>b())}));Ho("Collapse","collapse","collapse");Ho("Intersect","intersect","intersect");Ho("Focus","trap","focus");Ho("Mask","mask","mask");function Ho(l,f,n){zt(f,w=>ii(`You can't use [x-${f}] without first installing the "${l}" plugin here: https://alpinejs.dev/plugins/${n}`,w))}xa.setEvaluator(n0);xa.setReactivityEngine({reactive:Ju,effect:Im,release:ym,raw:yt});var pA=xa,Qu=pA,tn;(function(l){l[l.QR_CODE=0]="QR_CODE",l[l.AZTEC=1]="AZTEC",l[l.CODABAR=2]="CODABAR",l[l.CODE_39=3]="CODE_39",l[l.CODE_93=4]="CODE_93",l[l.CODE_128=5]="CODE_128",l[l.DATA_MATRIX=6]="DATA_MATRIX",l[l.MAXICODE=7]="MAXICODE",l[l.ITF=8]="ITF",l[l.EAN_13=9]="EAN_13",l[l.EAN_8=10]="EAN_8",l[l.PDF_417=11]="PDF_417",l[l.RSS_14=12]="RSS_14",l[l.RSS_EXPANDED=13]="RSS_EXPANDED",l[l.UPC_A=14]="UPC_A",l[l.UPC_E=15]="UPC_E",l[l.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tn||(tn={}));tn.QR_CODE,tn.AZTEC,tn.CODABAR,tn.CODE_39,tn.CODE_93,tn.CODE_128,tn.DATA_MATRIX,tn.MAXICODE,tn.ITF,tn.EAN_13,tn.EAN_8,tn.PDF_417,tn.RSS_14,tn.RSS_EXPANDED,tn.UPC_A,tn.UPC_E,tn.UPC_EAN_EXTENSION;var df;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.URL=1]="URL"})(df||(df={}));var To;(function(l){l[l.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",l[l.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(To||(To={}));var wA=function(){function l(){}return l.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",l.SCAN_DEFAULT_FPS=2,l.DEFAULT_DISABLE_FLIP=!1,l.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,l.DEFAULT_SUPPORTED_SCAN_TYPE=[To.SCAN_TYPE_CAMERA,To.SCAN_TYPE_FILE],l}(),gf;(function(l){l[l.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",l[l.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",l[l.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(gf||(gf={}));var xf={exports:{}};(function(l,f){(function(n,w){w(f)})(kr,function(n){function w(C){return C==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,e){C.__proto__=e}||function(C,e){for(var t in e)e.hasOwnProperty(t)&&(C[t]=e[t])};function x(C,e){m(C,e);function t(){this.constructor=C}C.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function b(C,e){var t=Object.setPrototypeOf;t?t(C,e):C.__proto__=e}function R(C,e){e===void 0&&(e=C.constructor);var t=Error.captureStackTrace;t&&t(C,e)}var k=function(C){x(e,C);function e(t){var r=this.constructor,s=C.call(this,t)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),b(s,r.prototype),R(s),s}return e}(Error);class v extends k{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}v.kind="Exception";class P extends v{}P.kind="ArgumentException";class V extends v{}V.kind="IllegalArgumentException";class oe{constructor(e){if(this.binarizer=e,e===null)throw new V("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,s){const a=this.binarizer.getLuminanceSource().crop(e,t,r,s);return new oe(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new oe(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new oe(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ue extends v{static getChecksumInstance(){return new ue}}ue.kind="ChecksumException";class rt{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class le{static arraycopy(e,t,r,s,a){for(;a--;)r[s++]=e[t++]}static currentTimeMillis(){return Date.now()}}class ie extends v{}ie.kind="IndexOutOfBoundsException";class Re extends ie{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}Re.kind="ArrayIndexOutOfBoundsException";class Ee{static fill(e,t){for(let r=0,s=e.length;r<s;r++)e[r]=t}static fillWithin(e,t,r,s){Ee.rangeCheck(e.length,t,r);for(let a=t;a<r;a++)e[a]=s}static rangeCheck(e,t,r){if(t>r)throw new V("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new Re(t);if(r>e)throw new Re(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(a=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(a=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const s=r-t,a=new Int32Array(s);return le.arraycopy(e,t,a,0,s),a}static binarySearch(e,t,r){r===void 0&&(r=Ee.numberComparator);let s=0,a=e.length-1;for(;s<=a;){const u=a+s>>1,c=r(t,e[u]);if(c>0)s=u+1;else if(c<0)a=u-1;else return u}return-s-1}static numberComparator(e,t){return e-t}}class fe{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}fe.MIN_VALUE_32_BITS=-2147483648,fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _e{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=_e.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=_e.makeArray(e);le.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let s=Math.floor(e/32),a=r[s];a&=~((1<<(e&31))-1);const u=r.length;for(;a===0;){if(++s===u)return t;a=r[s]}const c=s*32+fe.numberOfTrailingZeros(a);return c>t?t:c}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let s=Math.floor(e/32),a=~r[s];a&=~((1<<(e&31))-1);const u=r.length;for(;a===0;){if(++s===u)return t;a=~r[s]}const c=s*32+fe.numberOfTrailingZeros(a);return c>t?t:c}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new V;if(t===e)return;t--;const r=Math.floor(e/32),s=Math.floor(t/32),a=this.bits;for(let u=r;u<=s;u++){const c=u>r?0:e&31,d=u<s?31:t&31,g=(2<<d)-(1<<c);a[u]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new V;if(t===e)return!0;t--;const s=Math.floor(e/32),a=Math.floor(t/32),u=this.bits;for(let c=s;c<=a;c++){const d=c>s?0:e&31,g=c<a?31:t&31,A=(2<<g)-(1<<d)&4294967295;if((u[c]&A)!==(r?A:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new V("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new V("Sizes don't match");const t=this.bits;for(let r=0,s=t.length;r<s;r++)t[r]^=e.bits[r]}toBytes(e,t,r,s){for(let a=0;a<s;a++){let u=0;for(let c=0;c<8;c++)this.get(e)&&(u|=1<<7-c),e++;t[r+a]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,s=this.bits;for(let a=0;a<r;a++){let u=s[a];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[t-a]=u}if(this.size!==r*32){const a=r*32-this.size;let u=e[0]>>>a;for(let c=1;c<r;c++){const d=e[c];u|=d<<32-a,e[c-1]=u,u=d>>>a}e[r-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof _e))return!1;const t=e;return this.size===t.size&&Ee.equals(this.bits,t.bits)}hashCode(){return 31*this.size+Ee.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new _e(this.size,this.bits.slice())}}var _t;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(_t||(_t={}));var Fe=_t;class te extends v{static getFormatInstance(){return new te}}te.kind="FormatException";var ke;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(ke||(ke={}));class ne{constructor(e,t,r,...s){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,ne.VALUE_IDENTIFIER_TO_ECI.set(e,this),ne.NAME_TO_ECI.set(r,this);const a=this.values;for(let u=0,c=a.length;u!==c;u++){const d=a[u];ne.VALUES_TO_ECI.set(d,this)}for(const u of s)ne.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new te("incorect value");const t=ne.VALUES_TO_ECI.get(e);if(t===void 0)throw new te("incorect value");return t}static getCharacterSetECIByName(e){const t=ne.NAME_TO_ECI.get(e);if(t===void 0)throw new te("incorect value");return t}equals(e){if(!(e instanceof ne))return!1;const t=e;return this.getName()===t.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(ke.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(ke.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(ke.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(ke.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(ke.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(ke.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(ke.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(ke.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(ke.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(ke.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(ke.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(ke.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(ke.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(ke.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(ke.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(ke.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(ke.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(ke.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(ke.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(ke.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(ke.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(ke.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(ke.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(ke.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(ke.Big5,28,"Big5"),ne.GB18030=new ne(ke.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(ke.EUC_KR,30,"EUC_KR","EUC-KR");class pn extends v{}pn.kind="UnsupportedOperationException";class rn{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!rn.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder=="undefined"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ne?e:ne.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(rn.isDecodeFallbackSupported(r)){let s="";for(let a=0,u=e.length;a<u;a++){let c=e[a].toString(16);c.length<2&&(c="0"+c),s+="%"+c}return decodeURIComponent(s)}if(r.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new pn(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ne.UTF8)||e.equals(ne.ISO8859_1)||e.equals(ne.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let a=0;a<r.length;a++)s.push(r[a].charCodeAt(0));return new Uint8Array(s)}}class ve{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return rn.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get(Fe.CHARACTER_SET)!==void 0)return t.get(Fe.CHARACTER_SET).toString();const r=e.length;let s=!0,a=!0,u=!0,c=0,d=0,g=0,A=0,E=0,y=0,B=0,I=0,S=0,N=0,U=0;const K=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let q=0;q<r&&(s||a||u);q++){const j=e[q]&255;u&&(c>0?(j&128)===0?u=!1:c--:(j&128)!==0&&((j&64)===0?u=!1:(c++,(j&32)===0?d++:(c++,(j&16)===0?g++:(c++,(j&8)===0?A++:u=!1))))),s&&(j>127&&j<160?s=!1:j>159&&(j<192||j===215||j===247)&&U++),a&&(E>0?j<64||j===127||j>252?a=!1:E--:j===128||j===160||j>239?a=!1:j>160&&j<224?(y++,I=0,B++,B>S&&(S=B)):j>127?(E++,B=0,I++,I>N&&(N=I)):(B=0,I=0))}return u&&c>0&&(u=!1),a&&E>0&&(a=!1),u&&(K||d+g+A>0)?ve.UTF8:a&&(ve.ASSUME_SHIFT_JIS||S>=3||N>=3)?ve.SHIFT_JIS:s&&a?S===2&&y===2||U*10>=r?ve.SHIFT_JIS:ve.ISO88591:s?ve.ISO88591:a?ve.SHIFT_JIS:u?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function s(u,c,d,g,A,E){if(u==="%%")return"%";if(t[++r]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let y=A?parseInt(A.substr(1)):void 0,B;switch(E){case"s":B=t[r];break;case"c":B=t[r][0];break;case"f":B=parseFloat(t[r]).toFixed(u);break;case"p":B=parseFloat(t[r]).toPrecision(u);break;case"e":B=parseFloat(t[r]).toExponential(u);break;case"x":B=parseInt(t[r]).toString(y||16);break;case"d":B=parseFloat(parseInt(t[r],y||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(y);let I=parseInt(d),S=d&&d[0]+""=="0"?"0":" ";for(;B.length<I;)B=c!==void 0?B+S:S+B;return B}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,s)}static getBytes(e,t){return rn.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}ve.SHIFT_JIS=ne.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=ne.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=ne.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Ke{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let s=t;t<t+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class Nt{constructor(e,t,r,s){if(this.width=e,this.height=t,this.rowSize=r,this.bits=s,t==null&&(t=e),this.height=t,e<1||t<1)throw new V("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,s=new Nt(r,t);for(let a=0;a<t;a++){const u=e[a];for(let c=0;c<r;c++)u[c]&&s.set(c,a)}return s}static parseFromString(e,t,r){if(e===null)throw new V("stringRepresentation cannot be null");const s=new Array(e.length);let a=0,u=0,c=-1,d=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(a>u){if(c===-1)c=a-u;else if(a-u!==c)throw new V("row lengths do not match");u=a,d++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,s[a]=!0,a++;else if(e.substring(g,g+r.length)===r)g+=r.length,s[a]=!1,a++;else throw new V("illegal character encountered: "+e.substring(g));if(a>u){if(c===-1)c=a-u;else if(a-u!==c)throw new V("row lengths do not match");d++}const A=new Nt(c,d);for(let E=0;E<a;E++)s[E]&&A.set(Math.floor(E%c),Math.floor(E/c));return A}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new V("input matrix dimensions do not match");const t=new _e(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let a=0,u=this.height;a<u;a++){const c=a*r,d=e.getRow(a,t).getBitArray();for(let g=0;g<r;g++)s[c+g]^=d[g]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,s){if(t<0||e<0)throw new V("Left and top must be nonnegative");if(s<1||r<1)throw new V("Height and width must be at least 1");const a=e+r,u=t+s;if(u>this.height||a>this.width)throw new V("The region must fit inside the matrix");const c=this.rowSize,d=this.bits;for(let g=t;g<u;g++){const A=g*c;for(let E=e;E<a;E++)d[A+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new _e(this.width):t.clear();const r=this.rowSize,s=this.bits,a=e*r;for(let u=0;u<r;u++)t.setBulk(u*32,s[a+u]);return t}setRow(e,t){le.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new _e(e),s=new _e(e);for(let a=0,u=Math.floor((t+1)/2);a<u;a++)r=this.getRow(a,r),s=this.getRow(t-1-a,s),r.reverse(),s.reverse(),this.setRow(a,s),this.setRow(t-1-a,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,s=this.bits;let a=e,u=t,c=-1,d=-1;for(let g=0;g<t;g++)for(let A=0;A<r;A++){const E=s[g*r+A];if(E!==0){if(g<u&&(u=g),g>d&&(d=g),A*32<a){let y=0;for(;(E<<31-y&4294967295)===0;)y++;A*32+y<a&&(a=A*32+y)}if(A*32+31>c){let y=31;for(;E>>>y===0;)y--;A*32+y>c&&(c=A*32+y)}}}return c<a||d<u?null:Int32Array.from([a,u,c-a+1,d-u+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const s=r/e;let a=r%e*32;const u=t[r];let c=0;for(;(u<<31-c&4294967295)===0;)c++;return a+=c,Int32Array.from([a,s])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let a=Math.floor(r%e)*32;const u=t[r];let c=31;for(;u>>>c===0;)c--;return a+=c,Int32Array.from([a,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Nt))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Ee.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ee.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let s=new Ke;for(let a=0,u=this.height;a<u;a++){for(let c=0,d=this.width;c<d;c++)s.append(this.get(c,a)?e:t);s.append(r)}return s.toString()}clone(){return new Nt(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends v{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class Rt extends rt{constructor(e){super(e),this.luminances=Rt.EMPTY,this.buckets=new Int32Array(Rt.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),s=r.getWidth();t==null||t.getSize()<s?t=new _e(s):t.clear(),this.initArrays(s);const a=r.getRow(e,this.luminances),u=this.buckets;for(let d=0;d<s;d++)u[(a[d]&255)>>Rt.LUMINANCE_SHIFT]++;const c=Rt.estimateBlackPoint(u);if(s<3)for(let d=0;d<s;d++)(a[d]&255)<c&&t.set(d);else{let d=a[0]&255,g=a[1]&255;for(let A=1;A<s-1;A++){const E=a[A+1]&255;(g*4-d-E)/2<c&&t.set(A),d=g,g=E}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),s=new Nt(t,r);this.initArrays(t);const a=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(r*d/5),A=e.getRow(g,this.luminances),E=Math.floor(t*4/5);for(let y=Math.floor(t/5);y<E;y++){const B=A[y]&255;a[B>>Rt.LUMINANCE_SHIFT]++}}const u=Rt.estimateBlackPoint(a),c=e.getMatrix();for(let d=0;d<r;d++){const g=d*t;for(let A=0;A<t;A++)(c[g+A]&255)<u&&s.set(A,d)}return s}createBinarizer(e){return new Rt(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<Rt.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,s=0,a=0;for(let A=0;A<t;A++)e[A]>a&&(s=A,a=e[A]),e[A]>r&&(r=e[A]);let u=0,c=0;for(let A=0;A<t;A++){const E=A-s,y=e[A]*E*E;y>c&&(u=A,c=y)}if(s>u){const A=s;s=u,u=A}if(u-s<=t/16)throw new Z;let d=u-1,g=-1;for(let A=u-1;A>s;A--){const E=A-s,y=E*E*(u-A)*(r-e[A]);y>g&&(d=A,g=y)}return d<<Rt.LUMINANCE_SHIFT}}Rt.LUMINANCE_BITS=5,Rt.LUMINANCE_SHIFT=8-Rt.LUMINANCE_BITS,Rt.LUMINANCE_BUCKETS=1<<Rt.LUMINANCE_BITS,Rt.EMPTY=Uint8ClampedArray.from([0]);class Oe extends Rt{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=Oe.MINIMUM_DIMENSION&&r>=Oe.MINIMUM_DIMENSION){const s=e.getMatrix();let a=t>>Oe.BLOCK_SIZE_POWER;(t&Oe.BLOCK_SIZE_MASK)!==0&&a++;let u=r>>Oe.BLOCK_SIZE_POWER;(r&Oe.BLOCK_SIZE_MASK)!==0&&u++;const c=Oe.calculateBlackPoints(s,a,u,t,r),d=new Nt(t,r);Oe.calculateThresholdForBlock(s,a,u,t,r,c,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Oe(e)}static calculateThresholdForBlock(e,t,r,s,a,u,c){const d=a-Oe.BLOCK_SIZE,g=s-Oe.BLOCK_SIZE;for(let A=0;A<r;A++){let E=A<<Oe.BLOCK_SIZE_POWER;E>d&&(E=d);const y=Oe.cap(A,2,r-3);for(let B=0;B<t;B++){let I=B<<Oe.BLOCK_SIZE_POWER;I>g&&(I=g);const S=Oe.cap(B,2,t-3);let N=0;for(let K=-2;K<=2;K++){const q=u[y+K];N+=q[S-2]+q[S-1]+q[S]+q[S+1]+q[S+2]}const U=N/25;Oe.thresholdBlock(e,I,E,U,s,c)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,s,a,u){for(let c=0,d=r*a+t;c<Oe.BLOCK_SIZE;c++,d+=a)for(let g=0;g<Oe.BLOCK_SIZE;g++)(e[d+g]&255)<=s&&u.set(t+g,r+c)}static calculateBlackPoints(e,t,r,s,a){const u=a-Oe.BLOCK_SIZE,c=s-Oe.BLOCK_SIZE,d=new Array(r);for(let g=0;g<r;g++){d[g]=new Int32Array(t);let A=g<<Oe.BLOCK_SIZE_POWER;A>u&&(A=u);for(let E=0;E<t;E++){let y=E<<Oe.BLOCK_SIZE_POWER;y>c&&(y=c);let B=0,I=255,S=0;for(let U=0,K=A*s+y;U<Oe.BLOCK_SIZE;U++,K+=s){for(let q=0;q<Oe.BLOCK_SIZE;q++){const j=e[K+q]&255;B+=j,j<I&&(I=j),j>S&&(S=j)}if(S-I>Oe.MIN_DYNAMIC_RANGE)for(U++,K+=s;U<Oe.BLOCK_SIZE;U++,K+=s)for(let q=0;q<Oe.BLOCK_SIZE;q++)B+=e[K+q]&255}let N=B>>Oe.BLOCK_SIZE_POWER*2;if(S-I<=Oe.MIN_DYNAMIC_RANGE&&(N=I/2,g>0&&E>0)){const U=(d[g-1][E]+2*d[g][E-1]+d[g-1][E-1])/4;I<U&&(N=U)}d[g][E]=N}}return d}}Oe.BLOCK_SIZE_POWER=3,Oe.BLOCK_SIZE=1<<Oe.BLOCK_SIZE_POWER,Oe.BLOCK_SIZE_MASK=Oe.BLOCK_SIZE-1,Oe.MINIMUM_DIMENSION=Oe.BLOCK_SIZE*5,Oe.MIN_DYNAMIC_RANGE=24;class cn{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,s){throw new pn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pn("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Ke;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let a=0;a<this.width;a++){const u=s[a]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()}}class Kn extends cn{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),s=this.getWidth();for(let a=0;a<s;a++)r[a]=255-(r[a]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let s=0;s<t;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,s){return new Kn(this.delegate.crop(e,t,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Kn(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Kn(this.delegate.rotateCounterClockwise45())}}class yn extends cn{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=yn.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return yn.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const s=new Uint8ClampedArray(t*r);for(let a=0,u=0,c=e.length;a<c;a+=4,u++){let d;if(e[a+3]===0)d=255;else{const A=e[a],E=e[a+1],y=e[a+2];d=306*A+601*E+117*y+512>>10}s[u]=d}return s}getRow(e,t){if(e<0||e>=this.getHeight())throw new V("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return t===null?t=this.buffer.slice(s,s+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(s,s+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,s){return super.crop(e,t,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),s=e*yn.DEGREE_TO_RADIANS,a=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(s))*a+Math.abs(Math.sin(s))*u),d=Math.ceil(Math.abs(Math.sin(s))*a+Math.abs(Math.cos(s))*u);return t.width=c,t.height=d,r.translate(c/2,d/2),r.rotate(s),r.drawImage(this.canvas,a/-2,u/-2),this.buffer=yn.makeBufferFromCanvasImageData(t),this}invert(){return new Kn(this)}}yn.DEGREE_TO_RADIANS=Math.PI/180;class fn{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Kt=(globalThis||kr||self||window||void 0)&&(globalThis||kr||self||window||void 0).__awaiter||function(C,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(A){try{g(r.next(A))}catch(E){u(E)}}function d(A){try{g(r.throw(A))}catch(E){u(E)}}function g(A){A.done?a(A.value):s(A.value).then(c,d)}g((r=r.apply(C,e||[])).next())})};class Ar{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Kt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const a=r.deviceId||r.id,u=r.label||`Video device ${t.length+1}`,c=r.groupId,d={deviceId:a,label:u,kind:s,groupId:c};t.push(d)}return t})}getVideoInputDevices(){return Kt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new fn(t.deviceId,t.label))})}findDeviceById(e){return Kt(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return Kt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return Kt(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,t)})}decodeOnceFromConstraints(e,t){return Kt(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return Kt(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return Kt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return Kt(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const a={video:s};return yield this.decodeFromConstraints(a,t,r)})}decodeFromConstraints(e,t,r){return Kt(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,t,r)})}decodeFromStream(e,t,r){return Kt(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return Kt(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Kt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new P(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new P(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new P("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new P("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new P("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new P("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new P("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new P("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,t);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Kt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return Kt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e=="undefined"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document!="undefined"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const s=(a,u)=>{if(this._stopAsyncDecode){u(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);a(c)}catch(c){const d=t&&c instanceof Z,A=(c instanceof ue||c instanceof te)&&r;if(d||A)return setTimeout(s,this._timeBetweenDecodingAttempts,a,u);u(c)}};return new Promise((a,u)=>s(a,u))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);t(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){t(null,s);const a=s instanceof ue||s instanceof te,u=s instanceof Z;(a||u)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new yn(t),s=new Oe(r);return new oe(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,s;return typeof e!="undefined"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=s+"px",t.width=r,t.height=s,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Zt{constructor(e,t,r=t==null?0:8*t.length,s,a,u=le.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=s,this.format=a,this.timestamp=u,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=s,this.format=a,this.resultMetadata=null,u==null?this.timestamp=le.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);le.arraycopy(t,0,r,0,t.length),le.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var wn;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wn||(wn={}));var me=wn,Nr;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Nr||(Nr={}));var st=Nr;class mn{constructor(e,t,r,s,a=-1,u=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wr{exp(e){return this.expTable[e]}log(e){if(e===0)throw new V;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class Mt{constructor(e,t){if(t.length===0)throw new V;this.field=e;const r=t.length;if(r>1&&t[0]===0){let s=1;for(;s<r&&t[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),le.arraycopy(t,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let u=0,c=t.length;u!==c;u++){const d=t[u];r=Wr.addOrSubtract(r,d)}return r}r=t[0];const s=t.length,a=this.field;for(let u=1;u<s;u++)r=Wr.addOrSubtract(a.multiply(e,r),t[u]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new V("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const u=t;t=r,r=u}let s=new Int32Array(r.length);const a=r.length-t.length;le.arraycopy(r,0,s,0,a);for(let u=a;u<r.length;u++)s[u]=Wr.addOrSubtract(t[u-a],r[u]);return new Mt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new V("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,s=e.coefficients,a=s.length,u=new Int32Array(r+a-1),c=this.field;for(let d=0;d<r;d++){const g=t[d];for(let A=0;A<a;A++)u[d+A]=Wr.addOrSubtract(u[d+A],c.multiply(g,s[A]))}return new Mt(c,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,s=new Int32Array(t),a=this.coefficients;for(let u=0;u<t;u++)s[u]=r.multiply(a[u],e);return new Mt(r,s)}multiplyByMonomial(e,t){if(e<0)throw new V;if(t===0)return this.field.getZero();const r=this.coefficients,s=r.length,a=new Int32Array(s+e),u=this.field;for(let c=0;c<s;c++)a[c]=u.multiply(r[c],t);return new Mt(u,a)}divide(e){if(!this.field.equals(e.field))throw new V("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new V("Divide by 0");const t=this.field;let r=t.getZero(),s=this;const a=e.getCoefficient(e.getDegree()),u=t.inverse(a);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const c=s.getDegree()-e.getDegree(),d=t.multiply(s.getCoefficient(s.getDegree()),u),g=e.multiplyByMonomial(c,d),A=t.buildMonomial(c,d);r=r.addOrSubtract(A),s=s.addOrSubtract(g)}return[r,s]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class Bn extends v{}Bn.kind="ArithmeticException";class Qe extends Wr{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const s=new Int32Array(t);let a=1;for(let c=0;c<t;c++)s[c]=a,a*=2,a>=t&&(a^=e,a&=t-1);this.expTable=s;const u=new Int32Array(t);for(let c=0;c<t-1;c++)u[s[c]]=c;this.logTable=u,this.zero=new Mt(this,Int32Array.from([0])),this.one=new Mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new V;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new Mt(this,r)}inverse(e){if(e===0)throw new Bn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+fe.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Qe.AZTEC_DATA_12=new Qe(4201,4096,1),Qe.AZTEC_DATA_10=new Qe(1033,1024,1),Qe.AZTEC_DATA_6=new Qe(67,64,1),Qe.AZTEC_PARAM=new Qe(19,16,1),Qe.QR_CODE_FIELD_256=new Qe(285,256,0),Qe.DATA_MATRIX_FIELD_256=new Qe(301,256,1),Qe.AZTEC_DATA_8=Qe.DATA_MATRIX_FIELD_256,Qe.MAXICODE_FIELD_64=Qe.AZTEC_DATA_6;class Gt extends v{}Gt.kind="ReedSolomonException";class qt extends v{}qt.kind="IllegalStateException";class Hr{constructor(e){this.field=e}decode(e,t){const r=this.field,s=new Mt(r,e),a=new Int32Array(t);let u=!0;for(let B=0;B<t;B++){const I=s.evaluateAt(r.exp(B+r.getGeneratorBase()));a[a.length-1-B]=I,I!==0&&(u=!1)}if(u)return;const c=new Mt(r,a),d=this.runEuclideanAlgorithm(r.buildMonomial(t,1),c,t),g=d[0],A=d[1],E=this.findErrorLocations(g),y=this.findErrorMagnitudes(A,E);for(let B=0;B<E.length;B++){const I=e.length-1-r.log(E[B]);if(I<0)throw new Gt("Bad error location");e[I]=Qe.addOrSubtract(e[I],y[B])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const B=e;e=t,t=B}const s=this.field;let a=e,u=t,c=s.getZero(),d=s.getOne();for(;u.getDegree()>=(r/2|0);){let B=a,I=c;if(a=u,c=d,a.isZero())throw new Gt("r_{i-1} was zero");u=B;let S=s.getZero();const N=a.getCoefficient(a.getDegree()),U=s.inverse(N);for(;u.getDegree()>=a.getDegree()&&!u.isZero();){const K=u.getDegree()-a.getDegree(),q=s.multiply(u.getCoefficient(u.getDegree()),U);S=S.addOrSubtract(s.buildMonomial(K,q)),u=u.addOrSubtract(a.multiplyByMonomial(K,q))}if(d=S.multiply(c).addOrSubtract(I),u.getDegree()>=a.getDegree())throw new qt("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new Gt("sigmaTilde(0) was zero");const A=s.inverse(g),E=d.multiplyScalar(A),y=u.multiplyScalar(A);return[E,y]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let s=0;const a=this.field;for(let u=1;u<a.getSize()&&s<t;u++)e.evaluateAt(u)===0&&(r[s]=a.inverse(u),s++);if(s!==t)throw new Gt("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,s=new Int32Array(r),a=this.field;for(let u=0;u<r;u++){const c=a.inverse(t[u]);let d=1;for(let g=0;g<r;g++)if(u!==g){const A=a.multiply(t[g],c),E=(A&1)===0?A|1:A&-2;d=a.multiply(d,E)}s[u]=a.multiply(e.evaluateAt(c),a.inverse(d)),a.getGeneratorBase()!==0&&(s[u]=a.multiply(s[u],c))}return s}}var ht;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(ht||(ht={}));class at{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),s=this.correctBits(r),a=at.convertBoolArrayToByteArray(s),u=at.getEncodedData(s),c=new mn(a,u,null,null);return c.setNumBits(s.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=ht.UPPER,s=ht.UPPER,a="",u=0;for(;u<t;)if(s===ht.BINARY){if(t-u<5)break;let c=at.readCode(e,u,5);if(u+=5,c===0){if(t-u<11)break;c=at.readCode(e,u,11)+31,u+=11}for(let d=0;d<c;d++){if(t-u<8){u=t;break}const g=at.readCode(e,u,8);a+=ve.castAsNonUtf8Char(g),u+=8}s=r}else{let c=s===ht.DIGIT?4:5;if(t-u<c)break;let d=at.readCode(e,u,c);u+=c;let g=at.getCharacter(s,d);g.startsWith("CTRL_")?(r=s,s=at.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=s)):(a+=g,s=r)}return a}static getTable(e){switch(e){case"L":return ht.LOWER;case"P":return ht.PUNCT;case"M":return ht.MIXED;case"D":return ht.DIGIT;case"B":return ht.BINARY;case"U":default:return ht.UPPER}}static getCharacter(e,t){switch(e){case ht.UPPER:return at.UPPER_TABLE[t];case ht.LOWER:return at.LOWER_TABLE[t];case ht.MIXED:return at.MIXED_TABLE[t];case ht.PUNCT:return at.PUNCT_TABLE[t];case ht.DIGIT:return at.DIGIT_TABLE[t];default:throw new qt("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=Qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=Qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=Qe.AZTEC_DATA_10):(r=12,t=Qe.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),a=e.length/r;if(a<s)throw new te;let u=e.length%r,c=new Int32Array(a);for(let y=0;y<a;y++,u+=r)c[y]=at.readCode(e,u,r);try{new Hr(t).decode(c,a-s)}catch(y){throw new te(y)}let d=(1<<r)-1,g=0;for(let y=0;y<s;y++){let B=c[y];if(B===0||B===d)throw new te;(B===1||B===d-1)&&g++}let A=new Array(s*r-g),E=0;for(let y=0;y<s;y++){let B=c[y];if(B===1||B===d-1)A.fill(B>1,E,E+r-1),E+=r-1;else for(let I=r-1;I>=0;--I)A[E++]=(B&1<<I)!==0}return A}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(t?11:14)+r*4,a=new Int32Array(s),u=new Array(this.totalBitsInLayer(r,t));if(t)for(let c=0;c<a.length;c++)a[c]=c;else{let c=s+1+2*fe.truncDivision(fe.truncDivision(s,2)-1,15),d=s/2,g=fe.truncDivision(c,2);for(let A=0;A<d;A++){let E=A+fe.truncDivision(A,15);a[d-A-1]=g-E-1,a[d+A]=g+E+1}}for(let c=0,d=0;c<r;c++){let g=(r-c)*4+(t?9:12),A=c*2,E=s-1-A;for(let y=0;y<g;y++){let B=y*2;for(let I=0;I<2;I++)u[d+B+I]=e.get(a[A+I],a[A+y]),u[d+2*g+B+I]=e.get(a[A+y],a[E-I]),u[d+4*g+B+I]=e.get(a[E-I],a[E-y]),u[d+6*g+B+I]=e.get(a[E-y],a[A+I])}d+=g*8}return u}static readCode(e,t,r){let s=0;for(let a=t;a<t+r;a++)s<<=1,e[a]&&(s|=1);return s}static readByte(e,t){let r=e.length-t;return r>=8?at.readCode(e,t,8):at.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=at.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}at.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],at.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],at.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],at.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],at.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Xe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,s){const a=e-r,u=t-s;return Math.sqrt(a*a+u*u)}static sum(e){let t=0;for(let r=0,s=e.length;r!==s;r++)t+=e[r];return t}}class ar{static floatToIntBits(e){return e}}ar.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof he){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*ar.floatToIntBits(this.x)+ar.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let a,u,c;if(r>=t&&r>=s?(u=e[0],a=e[1],c=e[2]):s>=r&&s>=t?(u=e[1],a=e[0],c=e[2]):(u=e[2],a=e[0],c=e[1]),this.crossProductZ(a,u,c)<0){const d=a;a=c,c=d}e[0]=a,e[1]=u,e[2]=c}static distance(e,t){return Xe.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const s=t.x,a=t.y;return(r.x-s)*(e.y-a)-(r.y-a)*(e.x-s)}}class Zn{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Cr extends Zn{constructor(e,t,r,s,a){super(e,t),this.compact=r,this.nbDatablocks=s,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ln{constructor(e,t,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Ln.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=s-a,this.downInit=s+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,s=this.downInit,a=!1,u=!0,c=!1,d=!1,g=!1,A=!1,E=!1;const y=this.width,B=this.height;for(;u;){u=!1;let I=!0;for(;(I||!d)&&t<y;)I=this.containsBlackPoint(r,s,t,!1),I?(t++,u=!0,d=!0):d||t++;if(t>=y){a=!0;break}let S=!0;for(;(S||!g)&&s<B;)S=this.containsBlackPoint(e,t,s,!0),S?(s++,u=!0,g=!0):g||s++;if(s>=B){a=!0;break}let N=!0;for(;(N||!A)&&e>=0;)N=this.containsBlackPoint(r,s,e,!1),N?(e--,u=!0,A=!0):A||e--;if(e<0){a=!0;break}let U=!0;for(;(U||!E)&&r>=0;)U=this.containsBlackPoint(e,t,r,!0),U?(r--,u=!0,E=!0):E||r--;if(r<0){a=!0;break}u&&(c=!0)}if(!a&&c){const I=t-e;let S=null;for(let q=1;S===null&&q<I;q++)S=this.getBlackPointOnSegment(e,s-q,e+q,s);if(S==null)throw new Z;let N=null;for(let q=1;N===null&&q<I;q++)N=this.getBlackPointOnSegment(e,r+q,e+q,r);if(N==null)throw new Z;let U=null;for(let q=1;U===null&&q<I;q++)U=this.getBlackPointOnSegment(t,r+q,t-q,r);if(U==null)throw new Z;let K=null;for(let q=1;K===null&&q<I;q++)K=this.getBlackPointOnSegment(t,s-q,t-q,s);if(K==null)throw new Z;return this.centerEdges(K,S,U,N)}else throw new Z}getBlackPointOnSegment(e,t,r,s){const a=Xe.round(Xe.distance(e,t,r,s)),u=(r-e)/a,c=(s-t)/a,d=this.image;for(let g=0;g<a;g++){const A=Xe.round(e+g*u),E=Xe.round(t+g*c);if(d.get(A,E))return new he(A,E)}return null}centerEdges(e,t,r,s){const a=e.getX(),u=e.getY(),c=t.getX(),d=t.getY(),g=r.getX(),A=r.getY(),E=s.getX(),y=s.getY(),B=Ln.CORR;return a<this.width/2?[new he(E-B,y+B),new he(c+B,d+B),new he(g-B,A-B),new he(a+B,u-B)]:[new he(E+B,y+B),new he(c+B,d-B),new he(g-B,A+B),new he(a-B,u-B)]}containsBlackPoint(e,t,r,s){const a=this.image;if(s){for(let u=e;u<=t;u++)if(a.get(u,r))return!0}else for(let u=e;u<=t;u++)if(a.get(r,u))return!0;return!1}}Ln.INIT_SIZE=10,Ln.CORR=1;class Pn{static checkAndNudgePoints(e,t){const r=e.getWidth(),s=e.getHeight();let a=!0;for(let u=0;u<t.length&&a;u+=2){const c=Math.floor(t[u]),d=Math.floor(t[u+1]);if(c<-1||c>r||d<-1||d>s)throw new Z;a=!1,c===-1?(t[u]=0,a=!0):c===r&&(t[u]=r-1,a=!0),d===-1?(t[u+1]=0,a=!0):d===s&&(t[u+1]=s-1,a=!0)}a=!0;for(let u=t.length-2;u>=0&&a;u-=2){const c=Math.floor(t[u]),d=Math.floor(t[u+1]);if(c<-1||c>r||d<-1||d>s)throw new Z;a=!1,c===-1?(t[u]=0,a=!0):c===r&&(t[u]=r-1,a=!0),d===-1?(t[u+1]=0,a=!0):d===s&&(t[u+1]=s-1,a=!0)}}}class vn{constructor(e,t,r,s,a,u,c,d,g){this.a11=e,this.a21=t,this.a31=r,this.a12=s,this.a22=a,this.a32=u,this.a13=c,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(e,t,r,s,a,u,c,d,g,A,E,y,B,I,S,N){const U=vn.quadrilateralToSquare(e,t,r,s,a,u,c,d);return vn.squareToQuadrilateral(g,A,E,y,B,I,S,N).times(U)}transformPoints(e){const t=e.length,r=this.a11,s=this.a12,a=this.a13,u=this.a21,c=this.a22,d=this.a23,g=this.a31,A=this.a32,E=this.a33;for(let y=0;y<t;y+=2){const B=e[y],I=e[y+1],S=a*B+d*I+E;e[y]=(r*B+u*I+g)/S,e[y+1]=(s*B+c*I+A)/S}}transformPointsWithValues(e,t){const r=this.a11,s=this.a12,a=this.a13,u=this.a21,c=this.a22,d=this.a23,g=this.a31,A=this.a32,E=this.a33,y=e.length;for(let B=0;B<y;B++){const I=e[B],S=t[B],N=a*I+d*S+E;e[B]=(r*I+u*S+g)/N,t[B]=(s*I+c*S+A)/N}}static squareToQuadrilateral(e,t,r,s,a,u,c,d){const g=e-r+a-c,A=t-s+u-d;if(g===0&&A===0)return new vn(r-e,a-r,e,s-t,u-s,t,0,0,1);{const E=r-a,y=c-a,B=s-u,I=d-u,S=E*I-y*B,N=(g*I-y*A)/S,U=(E*A-g*B)/S;return new vn(r-e+N*r,c-e+U*c,e,s-t+N*s,d-t+U*d,t,N,U,1)}}static quadrilateralToSquare(e,t,r,s,a,u,c,d){return vn.squareToQuadrilateral(e,t,r,s,a,u,c,d).buildAdjoint()}buildAdjoint(){return new vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new vn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Er extends Pn{sampleGrid(e,t,r,s,a,u,c,d,g,A,E,y,B,I,S,N,U,K,q){const j=vn.quadrilateralToQuadrilateral(s,a,u,c,d,g,A,E,y,B,I,S,N,U,K,q);return this.sampleGridWithTransform(e,t,r,j)}sampleGridWithTransform(e,t,r,s){if(t<=0||r<=0)throw new Z;const a=new Nt(t,r),u=new Float32Array(2*t);for(let c=0;c<r;c++){const d=u.length,g=c+.5;for(let A=0;A<d;A+=2)u[A]=A/2+.5,u[A+1]=g;s.transformPoints(u),Pn.checkAndNudgePoints(e,u);try{for(let A=0;A<d;A+=2)e.get(Math.floor(u[A]),Math.floor(u[A+1]))&&a.set(A/2,c)}catch{throw new Z}}return a}}class hn{static setGridSampler(e){hn.gridSampler=e}static getInstance(){return hn.gridSampler}}hn.gridSampler=new Er;class Bt{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ai{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let u=r[0];r[0]=r[2],r[2]=u}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new Cr(s,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Z;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let s=0;for(let u=0;u<4;u++){let c=r[(this.shift+u)%4];this.compact?(s<<=7,s+=c>>1&127):(s<<=10,s+=(c>>2&31<<5)+(c>>1&31))}let a=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(e,t){let r=0;e.forEach((s,a,u)=>{let c=(s>>t-2<<1)+(s&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(fe.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Z}getCorrectedParameterData(e,t){let r,s;t?(r=7,s=2):(r=10,s=4);let a=r-s,u=new Int32Array(r);for(let d=r-1;d>=0;--d)u[d]=e&15,e>>=4;try{new Hr(Qe.AZTEC_PARAM).decode(u,a)}catch{throw new Z}let c=0;for(let d=0;d<s;d++)c=(c<<4)+u[d];return c}getBullsEyeCorners(e){let t=e,r=e,s=e,a=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(t,u,1,-1),y=this.getFirstDifferent(r,u,1,1),B=this.getFirstDifferent(s,u,-1,1),I=this.getFirstDifferent(a,u,-1,-1);if(this.nbCenterLayers>2){let S=this.distancePoint(I,E)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(S<.75||S>1.25||!this.isWhiteOrBlackRectangle(E,y,B,I))break}t=E,r=y,s=B,a=I,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let c=new he(t.getX()+.5,t.getY()-.5),d=new he(r.getX()+.5,r.getY()+.5),g=new he(s.getX()-.5,s.getY()+.5),A=new he(a.getX()-.5,a.getY()-.5);return this.expandSquare([c,d,g,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,s;try{let c=new Ln(this.image).detect();e=c[0],t=c[1],r=c[2],s=c[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Bt(d+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Bt(d+7,g+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Bt(d-7,g+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Bt(d-7,g-7),!1,-1,-1).toResultPoint()}let a=Xe.round((e.getX()+s.getX()+t.getX()+r.getX())/4),u=Xe.round((e.getY()+s.getY()+t.getY()+r.getY())/4);try{let c=new Ln(this.image,15,a,u).detect();e=c[0],t=c[1],r=c[2],s=c[3]}catch{e=this.getFirstDifferent(new Bt(a+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Bt(a+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Bt(a-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Bt(a-7,u-7),!1,-1,-1).toResultPoint()}return a=Xe.round((e.getX()+s.getX()+t.getX()+r.getX())/4),u=Xe.round((e.getY()+s.getY()+t.getY()+r.getY())/4),new Bt(a,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,s,a){let u=hn.getInstance(),c=this.getDimension(),d=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return u.sampleGrid(e,c,c,d,d,g,d,g,g,d,g,t.getX(),t.getY(),r.getX(),r.getY(),s.getX(),s.getY(),a.getX(),a.getY())}sampleLine(e,t,r){let s=0,a=this.distanceResultPoint(e,t),u=a/r,c=e.getX(),d=e.getY(),g=u*(t.getX()-e.getX())/a,A=u*(t.getY()-e.getY())/a;for(let E=0;E<r;E++)this.image.get(Xe.round(c+E*g),Xe.round(d+E*A))&&(s|=1<<r-E-1);return s}isWhiteOrBlackRectangle(e,t,r,s){let a=3;e=new Bt(e.getX()-a,e.getY()+a),t=new Bt(t.getX()-a,t.getY()-a),r=new Bt(r.getX()+a,r.getY()-a),s=new Bt(s.getX()+a,s.getY()+a);let u=this.getColor(s,e);if(u===0)return!1;let c=this.getColor(e,t);return c!==u||(c=this.getColor(t,r),c!==u)?!1:(c=this.getColor(r,s),c===u)}getColor(e,t){let r=this.distancePoint(e,t),s=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,u=0,c=e.getX(),d=e.getY(),g=this.image.get(e.getX(),e.getY()),A=Math.ceil(r);for(let y=0;y<A;y++)c+=s,d+=a,this.image.get(Xe.round(c),Xe.round(d))!==g&&u++;let E=u/r;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(e,t,r,s){let a=e.getX()+r,u=e.getY()+s;for(;this.isValid(a,u)&&this.image.get(a,u)===t;)a+=r,u+=s;for(a-=r,u-=s;this.isValid(a,u)&&this.image.get(a,u)===t;)a+=r;for(a-=r;this.isValid(a,u)&&this.image.get(a,u)===t;)u+=s;return u-=s,new Bt(a,u)}expandSquare(e,t,r){let s=r/(2*t),a=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,g=new he(c+s*a,d+s*u),A=new he(c-s*a,d-s*u);a=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let E=new he(c+s*a,d+s*u),y=new he(c-s*a,d-s*u);return[g,E,A,y]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=Xe.round(e.getX()),r=Xe.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return Xe.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return Xe.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(fe.truncDivision(this.nbLayers-4,8)+1)+15}}class Dr{decode(e,t=null){let r=null,s=new ai(e.getBlackMatrix()),a=null,u=null;try{let A=s.detectMirror(!1);a=A.getPoints(),this.reportFoundResultPoints(t,a),u=new at().decode(A)}catch(A){r=A}if(u==null)try{let A=s.detectMirror(!0);a=A.getPoints(),this.reportFoundResultPoints(t,a),u=new at().decode(A)}catch(A){throw r!=null?r:A}let c=new Zt(u.getText(),u.getRawBytes(),u.getNumBits(),a,me.AZTEC,le.currentTimeMillis()),d=u.getByteSegments();d!=null&&c.putMetadata(st.BYTE_SEGMENTS,d);let g=u.getECLevel();return g!=null&&c.putMetadata(st.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,t){if(e!=null){let r=e.get(Fe.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((s,a,u)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class oi extends Ar{constructor(e=500){super(new Dr,e)}}class Ct{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(Fe.TRY_HARDER)===!0&&e.isRotateSupported()){const a=e.rotateCounterClockwise(),u=this.doDecode(a,t),c=u.getResultMetadata();let d=270;c!==null&&c.get(st.ORIENTATION)===!0&&(d=d+c.get(st.ORIENTATION)%360),u.putMetadata(st.ORIENTATION,d);const g=u.getResultPoints();if(g!==null){const A=a.getHeight();for(let E=0;E<g.length;E++)g[E]=new he(A-g[E].getY()-1,g[E].getX())}return u}else throw new Z}}reset(){}doDecode(e,t){const r=e.getWidth(),s=e.getHeight();let a=new _e(r);const u=t&&t.get(Fe.TRY_HARDER)===!0,c=Math.max(1,s>>(u?8:5));let d;u?d=s:d=15;const g=Math.trunc(s/2);for(let A=0;A<d;A++){const E=Math.trunc((A+1)/2),y=(A&1)===0,B=g+c*(y?E:-E);if(B<0||B>=s)break;try{a=e.getBlackRow(B,a)}catch{continue}for(let I=0;I<2;I++){if(I===1&&(a.reverse(),t&&t.get(Fe.NEED_RESULT_POINT_CALLBACK)===!0)){const S=new Map;t.forEach((N,U)=>S.set(U,N)),S.delete(Fe.NEED_RESULT_POINT_CALLBACK),t=S}try{const S=this.decodeRow(B,a,t);if(I===1){S.putMetadata(st.ORIENTATION,180);const N=S.getResultPoints();N!==null&&(N[0]=new he(r-N[0].getX()-1,N[0].getY()),N[1]=new he(r-N[1].getX()-1,N[1].getY()))}return S}catch{}}}throw new Z}static recordPattern(e,t,r){const s=r.length;for(let g=0;g<s;g++)r[g]=0;const a=e.getSize();if(t>=a)throw new Z;let u=!e.get(t),c=0,d=t;for(;d<a;){if(e.get(d)!==u)r[c]++;else{if(++c===s)break;r[c]=1,u=!u}d++}if(!(c===s||c===s-1&&d===a))throw new Z}static recordPatternInReverse(e,t,r){let s=r.length,a=e.get(t);for(;t>0&&s>=0;)e.get(--t)!==a&&(s--,a=!a);if(s>=0)throw new Z;Ct.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const s=e.length;let a=0,u=0;for(let g=0;g<s;g++)a+=e[g],u+=t[g];if(a<u)return Number.POSITIVE_INFINITY;const c=a/u;r*=c;let d=0;for(let g=0;g<s;g++){const A=e[g],E=t[g]*c,y=A>E?A-E:E-A;if(y>r)return Number.POSITIVE_INFINITY;d+=y}return d/a}}class se extends Ct{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let s=0,a=Int32Array.from([0,0,0,0,0,0]),u=r,c=!1;const d=6;for(let g=r;g<t;g++)if(e.get(g)!==c)a[s]++;else{if(s===d-1){let A=se.MAX_AVG_VARIANCE,E=-1;for(let y=se.CODE_START_A;y<=se.CODE_START_C;y++){const B=Ct.patternMatchVariance(a,se.CODE_PATTERNS[y],se.MAX_INDIVIDUAL_VARIANCE);B<A&&(A=B,E=y)}if(E>=0&&e.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,E]);u+=a[0]+a[1],a=a.slice(2,a.length-1),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,c=!c}throw new Z}static decodeCode(e,t,r){Ct.recordPattern(e,r,t);let s=se.MAX_AVG_VARIANCE,a=-1;for(let u=0;u<se.CODE_PATTERNS.length;u++){const c=se.CODE_PATTERNS[u],d=this.patternMatchVariance(t,c,se.MAX_INDIVIDUAL_VARIANCE);d<s&&(s=d,a=u)}if(a>=0)return a;throw new Z}decodeRow(e,t,r){const s=r&&r.get(Fe.ASSUME_GS1)===!0,a=se.findStartPattern(t),u=a[2];let c=0;const d=new Uint8Array(20);d[c++]=u;let g;switch(u){case se.CODE_START_A:g=se.CODE_CODE_A;break;case se.CODE_START_B:g=se.CODE_CODE_B;break;case se.CODE_START_C:g=se.CODE_CODE_C;break;default:throw new te}let A=!1,E=!1,y="",B=a[0],I=a[1];const S=Int32Array.from([0,0,0,0,0,0]);let N=0,U=0,K=u,q=0,j=!0,we=!1,Pe=!1;for(;!A;){const $e=E;switch(E=!1,N=U,U=se.decodeCode(t,S,I),d[c++]=U,U!==se.CODE_STOP&&(j=!0),U!==se.CODE_STOP&&(q++,K+=q*U),B=I,I+=S.reduce((Jo,Na)=>Jo+Na,0),U){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new te}switch(g){case se.CODE_CODE_A:if(U<64)Pe===we?y+=String.fromCharCode(" ".charCodeAt(0)+U):y+=String.fromCharCode(" ".charCodeAt(0)+U+128),Pe=!1;else if(U<96)Pe===we?y+=String.fromCharCode(U-64):y+=String.fromCharCode(U+64),Pe=!1;else switch(U!==se.CODE_STOP&&(j=!1),U){case se.CODE_FNC_1:s&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!we&&Pe?(we=!0,Pe=!1):we&&Pe?(we=!1,Pe=!1):Pe=!0;break;case se.CODE_SHIFT:E=!0,g=se.CODE_CODE_B;break;case se.CODE_CODE_B:g=se.CODE_CODE_B;break;case se.CODE_CODE_C:g=se.CODE_CODE_C;break;case se.CODE_STOP:A=!0;break}break;case se.CODE_CODE_B:if(U<96)Pe===we?y+=String.fromCharCode(" ".charCodeAt(0)+U):y+=String.fromCharCode(" ".charCodeAt(0)+U+128),Pe=!1;else switch(U!==se.CODE_STOP&&(j=!1),U){case se.CODE_FNC_1:s&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!we&&Pe?(we=!0,Pe=!1):we&&Pe?(we=!1,Pe=!1):Pe=!0;break;case se.CODE_SHIFT:E=!0,g=se.CODE_CODE_A;break;case se.CODE_CODE_A:g=se.CODE_CODE_A;break;case se.CODE_CODE_C:g=se.CODE_CODE_C;break;case se.CODE_STOP:A=!0;break}break;case se.CODE_CODE_C:if(U<100)U<10&&(y+="0"),y+=U;else switch(U!==se.CODE_STOP&&(j=!1),U){case se.CODE_FNC_1:s&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case se.CODE_CODE_A:g=se.CODE_CODE_A;break;case se.CODE_CODE_B:g=se.CODE_CODE_B;break;case se.CODE_STOP:A=!0;break}break}$e&&(g=g===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const En=I-B;if(I=t.getNextUnset(I),!t.isRange(I,Math.min(t.getSize(),I+(I-B)/2),!1))throw new Z;if(K-=q*N,K%103!==N)throw new ue;const St=y.length;if(St===0)throw new Z;St>0&&j&&(g===se.CODE_CODE_C?y=y.substring(0,St-2):y=y.substring(0,St-1));const $t=(a[1]+a[0])/2,wt=B+En/2,Ot=d.length,ln=new Uint8Array(Ot);for(let $e=0;$e<Ot;$e++)ln[$e]=d[$e];const Ir=[new he($t,e),new he(wt,e)];return new Zt(y,ln,0,Ir,me.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class Be extends Ct{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let a=Be.findAsteriskPattern(t,s),u=t.getNextSet(a[1]),c=t.getSize(),d,g;do{Be.recordPattern(t,u,s);let S=Be.toNarrowWidePattern(s);if(S<0)throw new Z;d=Be.patternToChar(S),this.decodeRowResult+=d,g=u;for(let N of s)u+=N;u=t.getNextSet(u)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let S of s)A+=S;let E=u-g-A;if(u!==c&&E*2<A)throw new Z;if(this.usingCheckDigit){let S=this.decodeRowResult.length-1,N=0;for(let U=0;U<S;U++)N+=Be.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(U));if(this.decodeRowResult.charAt(S)!==Be.ALPHABET_STRING.charAt(N%43))throw new ue;this.decodeRowResult=this.decodeRowResult.substring(0,S)}if(this.decodeRowResult.length===0)throw new Z;let y;this.extendedMode?y=Be.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let B=(a[1]+a[0])/2,I=g+A/2;return new Zt(y,null,0,[new he(B,e),new he(I,e)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),s=e.getNextSet(0),a=0,u=s,c=!1,d=t.length;for(let g=s;g<r;g++)if(e.get(g)!==c)t[a]++;else{if(a===d-1){if(this.toNarrowWidePattern(t)===Be.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=t[0]+t[1],t.copyWithin(0,2,2+a-1),t[a-1]=0,t[a]=0,a--}else a++;t[a]=1,c=!c}throw new Z}static toNarrowWidePattern(e){let t=e.length,r=0,s;do{let a=2147483647;for(let d of e)d<a&&d>r&&(a=d);r=a,s=0;let u=0,c=0;for(let d=0;d<t;d++){let g=e[d];g>r&&(c|=1<<t-1-d,s++,u+=g)}if(s===3){for(let d=0;d<t&&s>0;d++){let g=e[d];if(g>r&&(s--,g*2>=u))return-1}return c}}while(s>3);return-1}static patternToChar(e){for(let t=0;t<Be.CHARACTER_ENCODINGS.length;t++)if(Be.CHARACTER_ENCODINGS[t]===e)return Be.ALPHABET_STRING.charAt(t);if(e===Be.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(e){let t=e.length,r="";for(let s=0;s<t;s++){let a=e.charAt(s);if(a==="+"||a==="$"||a==="%"||a==="/"){let u=e.charAt(s+1),c="\0";switch(a){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new te;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new te;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="\x7F";else throw new te;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new te;break}r+=c,s++}else r+=a}return r}}Be.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Be.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Be.ASTERISK_ENCODING=148;class tt extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let s=this.decodeStart(t),a=this.decodeEnd(t),u=new Ke;tt.decodeMiddle(t,s[1],a[0],u);let c=u.toString(),d=null;r!=null&&(d=r.get(Fe.ALLOWED_LENGTHS)),d==null&&(d=tt.DEFAULT_ALLOWED_LENGTHS);let g=c.length,A=!1,E=0;for(let I of d){if(g===I){A=!0;break}I>E&&(E=I)}if(!A&&g>E&&(A=!0),!A)throw new te;const y=[new he(s[1],e),new he(a[0],e)];return new Zt(c,null,0,y,me.ITF,new Date().getTime())}static decodeMiddle(e,t,r,s){let a=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(a.fill(0),u.fill(0),c.fill(0);t<r;){Ct.recordPattern(e,t,a);for(let g=0;g<5;g++){let A=2*g;u[g]=a[A],c[g]=a[A+1]}let d=tt.decodeDigit(u);s.append(d.toString()),d=this.decodeDigit(c),s.append(d.toString()),a.forEach(function(g){t+=g})}}decodeStart(e){let t=tt.skipWhiteSpace(e),r=tt.findGuardPattern(e,t,tt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let s=t-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new Z}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new Z;return r}decodeEnd(e){e.reverse();try{let t=tt.skipWhiteSpace(e),r;try{r=tt.findGuardPattern(e,t,tt.END_PATTERN_REVERSED[0])}catch(a){a instanceof Z&&(r=tt.findGuardPattern(e,t,tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let s=r.length,a=new Int32Array(s),u=e.getSize(),c=!1,d=0,g=t;a.fill(0);for(let A=t;A<u;A++)if(e.get(A)!==c)a[d]++;else{if(d===s-1){if(Ct.patternMatchVariance(a,r,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return[g,A];g+=a[0]+a[1],le.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,c=!c}throw new Z}static decodeDigit(e){let t=tt.MAX_AVG_VARIANCE,r=-1,s=tt.PATTERNS.length;for(let a=0;a<s;a++){let u=tt.PATTERNS[a],c=Ct.patternMatchVariance(e,u,tt.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,r=a):c===t&&(r=-1)}if(r>=0)return r%10;throw new Z}}tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],tt.MAX_AVG_VARIANCE=.38,tt.MAX_INDIVIDUAL_VARIANCE=.5,tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],tt.START_PATTERN=Int32Array.from([1,1,1,1]),tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,s=0,a=Int32Array.from([0,0,0]);for(;!t;){a=Int32Array.from([0,0,0]),r=dt.findGuardPattern(e,s,!1,this.START_END_PATTERN,a);let u=r[0];s=r[1];let c=u-(s-u);c>=0&&(t=e.isRange(c,u,!1))}return r}static checkChecksum(e){return dt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return dt.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let s=t-1;s>=0;s-=2){let a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new te;r+=a}r*=3;for(let s=t-2;s>=0;s-=2){let a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new te;r+=a}return(1e3-r)%10}static decodeEnd(e,t){return dt.findGuardPattern(e,t,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,s){return this.findGuardPattern(e,t,r,s,new Int32Array(s.length))}static findGuardPattern(e,t,r,s,a){let u=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let c=0,d=t,g=s.length,A=r;for(let E=t;E<u;E++)if(e.get(E)!==A)a[c]++;else{if(c===g-1){if(Ct.patternMatchVariance(a,s,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([d,E]);d+=a[0]+a[1];let y=a.slice(2,a.length-1);for(let B=0;B<c-1;B++)a[B]=y[B];a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,A=!A}throw new Z}static decodeDigit(e,t,r,s){this.recordPattern(e,r,t);let a=this.MAX_AVG_VARIANCE,u=-1,c=s.length;for(let d=0;d<c;d++){let g=s[d],A=Ct.patternMatchVariance(t,g,dt.MAX_INDIVIDUAL_VARIANCE);A<a&&(a=A,u=d)}if(u>=0)return u;throw new Z}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let s=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,s),u=s.toString(),c=Gr.parseExtensionString(u),d=[new he((r[0]+r[1])/2,e),new he(a,e)],g=new Zt(u,null,0,d,me.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=e.getSize(),u=t[1],c=0;for(let g=0;g<5&&u<a;g++){let A=dt.decodeDigit(e,s,u,dt.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let E of s)u+=E;A>=10&&(c|=1<<4-g),g!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new Z;let d=this.determineCheckDigit(c);if(Gr.extensionChecksum(r.toString())!==d)throw new Z;return u}static extensionChecksum(e){let t=e.length,r=0;for(let s=t-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let s=t-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new Z}static parseExtensionString(e){if(e.length!==5)return null;let t=Gr.parseExtension5String(e);return t==null?null:new Map([[st.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),a=r%100,u=a<10?"0"+a:a.toString();return t+s+"."+u}}class Rr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let s=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,s),u=s.toString(),c=Rr.parseExtensionString(u),d=[new he((r[0]+r[1])/2,e),new he(a,e)],g=new Zt(u,null,0,d,me.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=e.getSize(),u=t[1],c=0;for(let d=0;d<2&&u<a;d++){let g=dt.decodeDigit(e,s,u,dt.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let A of s)u+=A;g>=10&&(c|=1<<1-d),d!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new Z;if(parseInt(r.toString())%4!==c)throw new Z;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[st.ISSUE_NUMBER,parseInt(e)]])}}class li{static decodeRow(e,t,r){let s=dt.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gr().decodeRow(e,t,s)}catch{return new Rr().decodeRow(e,t,s)}}}li.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ue extends dt{constructor(){super(),this.decodeRowStringBuffer="",Ue.L_AND_G_PATTERNS=Ue.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Ue.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let s=0;s<t.length;s++)r[s]=t[t.length-s-1];Ue.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let s=Ue.findStartGuardPattern(t),a=r==null?null:r.get(Fe.NEED_RESULT_POINT_CALLBACK);if(a!=null){const j=new he((s[0]+s[1])/2,e);a.foundPossibleResultPoint(j)}let u=this.decodeMiddle(t,s,this.decodeRowStringBuffer),c=u.rowOffset,d=u.resultString;if(a!=null){const j=new he(c,e);a.foundPossibleResultPoint(j)}let g=this.decodeEnd(t,c);if(a!=null){const j=new he((g[0]+g[1])/2,e);a.foundPossibleResultPoint(j)}let A=g[1],E=A+(A-g[0]);if(E>=t.getSize()||!t.isRange(A,E,!1))throw new Z;let y=d.toString();if(y.length<8)throw new te;if(!Ue.checkChecksum(y))throw new ue;let B=(s[1]+s[0])/2,I=(g[1]+g[0])/2,S=this.getBarcodeFormat(),N=[new he(B,e),new he(I,e)],U=new Zt(y,null,0,N,S,new Date().getTime()),K=0;try{let j=li.decodeRow(e,t,g[1]);U.putMetadata(st.UPC_EAN_EXTENSION,j.getText()),U.putAllMetadata(j.getResultMetadata()),U.addResultPoints(j.getResultPoints()),K=j.getText().length}catch{}let q=r==null?null:r.get(Fe.ALLOWED_EAN_EXTENSIONS);if(q!=null){let j=!1;for(let we in q)if(K.toString()===we){j=!0;break}if(!j)throw new Z}return U}decodeEnd(e,t){return Ue.findGuardPattern(e,t,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ue.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return Ue.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let s=t-1;s>=0;s-=2){let a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new te;r+=a}r*=3;for(let s=t-2;s>=0;s-=2){let a=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new te;r+=a}return(1e3-r)%10}}class or extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=e.getSize(),u=t[1],c=0;for(let g=0;g<6&&u<a;g++){let A=Ue.decodeDigit(e,s,u,Ue.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let E of s)u+=E;A>=10&&(c|=1<<5-g)}r=or.determineFirstDigit(r,c),u=Ue.findGuardPattern(e,u,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<a;g++){let A=Ue.decodeDigit(e,s,u,Ue.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A);for(let E of s)u+=E}return{rowOffset:u,resultString:r}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e,e;throw new Z}}or.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class $i extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=e.getSize(),u=t[1];for(let d=0;d<4&&u<a;d++){let g=Ue.decodeDigit(e,s,u,Ue.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+g);for(let A of s)u+=A}u=Ue.findGuardPattern(e,u,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&u<a;d++){let g=Ue.decodeDigit(e,s,u,Ue.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+g);for(let A of s)u+=A}return{rowOffset:u,resultString:r}}getBarcodeFormat(){return me.EAN_8}}class D extends Ue{constructor(){super(...arguments),this.ean13Reader=new or}getBarcodeFormat(){return me.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new Zt(t.substring(1),null,null,e.getResultPoints(),me.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new Z}reset(){this.ean13Reader.reset()}}class L extends Ue{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const s=this.decodeMiddleCounters.map(g=>g);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const a=e.getSize();let u=t[1],c=0;for(let g=0;g<6&&u<a;g++){const A=L.decodeDigit(e,s,u,L.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let E of s)u+=E;A>=10&&(c|=1<<5-g)}let d=L.determineNumSysAndCheckDigit(r,c);return{rowOffset:u,resultString:d}}decodeEnd(e,t){return L.findGuardPatternWithoutCounters(e,t,!0,L.MIDDLE_END_PATTERN)}checkChecksum(e){return Ue.checkChecksum(L.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let a=String.fromCharCode("0".charCodeAt(0)+r),u=String.fromCharCode("0".charCodeAt(0)+s);return a+e+u}throw Z.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(a=>a.charCodeAt(0)),r=new Ke;r.append(e.charAt(0));let s=t[5];switch(s){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(s),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}L.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),L.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class H extends Ct{constructor(e){super();let t=e==null?null:e.get(Fe.POSSIBLE_FORMATS),r=[];w(t)?(r.push(new or),r.push(new D),r.push(new $i),r.push(new L)):(t.indexOf(me.EAN_13)>-1&&r.push(new or),t.indexOf(me.UPC_A)>-1&&r.push(new D),t.indexOf(me.EAN_8)>-1&&r.push(new $i),t.indexOf(me.UPC_E)>-1&&r.push(new L)),this.readers=r}decodeRow(e,t,r){for(let s of this.readers)try{const a=s.decodeRow(e,t,r),u=a.getBarcodeFormat()===me.EAN_13&&a.getText().charAt(0)==="0",c=r==null?null:r.get(Fe.POSSIBLE_FORMATS),d=c==null||c.includes(me.UPC_A);if(u&&d){const g=a.getRawBytes(),A=new Zt(a.getText().substring(1),g,g?g.length:null,a.getResultPoints(),me.UPC_A);return A.putAllMetadata(a.getResultMetadata()),A}return a}catch{}throw new Z}reset(){for(let e of this.readers)e.reset()}}class Y extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(Ct.patternMatchVariance(e,t[r],Y.MAX_INDIVIDUAL_VARIANCE)<Y.MAX_AVG_VARIANCE)return r;throw new Z}static count(e){return Xe.sum(new Int32Array(e))}static increment(e,t){let r=0,s=t[0];for(let a=1;a<e.length;a++)t[a]>s&&(s=t[a],r=a);e[r]++}static decrement(e,t){let r=0,s=t[0];for(let a=1;a<e.length;a++)t[a]<s&&(s=t[a],r=a);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],s=t/r;if(s>=Y.MIN_FINDER_PATTERN_RATIO&&s<=Y.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of e)c>u&&(u=c),c<a&&(a=c);return u<10*a}return!1}}Y.MAX_AVG_VARIANCE=.2,Y.MAX_INDIVIDUAL_VARIANCE=.45,Y.MIN_FINDER_PATTERN_RATIO=9.5/12,Y.MAX_FINDER_PATTERN_RATIO=12.5/14;class re{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof re))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ce{constructor(e,t,r,s,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new he(r,a)),this.resultPoints.push(new he(s,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ce))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class ye{constructor(){}static getRSSvalue(e,t,r){let s=0;for(let d of e)s+=d;let a=0,u=0,c=e.length;for(let d=0;d<c-1;d++){let g;for(g=1,u|=1<<d;g<e[d];g++,u&=~(1<<d)){let A=ye.combins(s-g-1,c-d-2);if(r&&u===0&&s-g-(c-d-1)>=c-d-1&&(A-=ye.combins(s-g-(c-d),c-d-2)),c-d-1>1){let E=0;for(let y=s-g-(c-d-2);y>t;y--)E+=ye.combins(s-g-y-1,c-d-3);A-=E*(c-1-d)}else s-g>t&&A--;a+=A}s-=g}return a}static combins(e,t){let r,s;e-t>t?(s=t,r=e-t):(s=e-t,r=t);let a=1,u=1;for(let c=e;c>r;c--)a*=c,u<=s&&(a/=u,u++);for(;u<=s;)a/=u,u++;return a}}class xe{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,s=new _e(r),a=0,c=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)(c&1<<d)!=0&&s.set(a),a++;for(let d=1;d<e.length;++d){let g=e[d],A=g.getLeftChar().getValue();for(let E=11;E>=0;--E)(A&1<<E)!=0&&s.set(a),a++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let y=11;y>=0;--y)(E&1<<y)!=0&&s.set(a),a++}}return s}}class Me{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ge{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class pe extends ge{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===pe.FNC1}}pe.FNC1="$";class Ze extends ge{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class bt extends ge{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new te;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===bt.FNC1}isSecondDigitFNC1(){return this.secondDigit===bt.FNC1}isAnyFNC1(){return this.firstDigit===bt.FNC1||this.secondDigit===bt.FNC1}}bt.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Z;let t=e.substring(0,2);for(let a of ae.TWO_DIGIT_DATA_LENGTH)if(a[0]===t)return a[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,a[2],e):ae.processFixedAI(2,a[1],e);if(e.length<3)throw new Z;let r=e.substring(0,3);for(let a of ae.THREE_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,a[2],e):ae.processFixedAI(3,a[1],e);for(let a of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,a[2],e):ae.processFixedAI(4,a[1],e);if(e.length<4)throw new Z;let s=e.substring(0,4);for(let a of ae.FOUR_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,a[2],e):ae.processFixedAI(4,a[1],e);throw new Z}static processFixedAI(e,t,r){if(r.length<e)throw new Z;let s=r.substring(0,e);if(r.length<e+t)throw new Z;let a=r.substring(e,e+t),u=r.substring(e+t),c="("+s+")"+a,d=ae.parseFieldsInGeneralPurpose(u);return d==null?c:c+d}static processVariableAI(e,t,r){let s=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;let u=r.substring(e,a),c=r.substring(a),d="("+s+")"+u,g=ae.parseFieldsInGeneralPurpose(c);return g==null?d:d+g}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class Fn{constructor(e){this.buffer=new Ke,this.information=e}decodeAllCodes(e,t){let r=t,s=null;do{let a=this.decodeGeneralPurposeField(r,s),u=ae.parseFieldsInGeneralPurpose(a.getNewString());if(u!=null&&e.append(u),a.isRemaining()?s=""+a.getRemainingValue():s=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(e,4);return a===0?new bt(this.information.getSize(),bt.FNC1,bt.FNC1):new bt(this.information.getSize(),a-1,bt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,s=(t-8)%11;return new bt(e+7,r,s)}extractNumericValueFromBitArray(e,t){return Fn.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let s=0;for(let a=0;a<r;++a)e.get(t+a)&&(s|=1<<r-a-1);return s}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ze(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ze(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Ze(this.current.getPosition(),this.buffer.toString()):t=new Ze(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Me(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Ze(this.current.getPosition(),this.buffer.toString());return new Me(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Me(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Ze(this.current.getPosition(),this.buffer.toString());return new Me(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Me(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Ze(this.current.getPosition(),this.buffer.toString());return new Me(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Me(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new pe(e+5,pe.FNC1);if(t>=5&&t<15)return new pe(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new pe(e+7,""+(r+1));if(r>=90&&r<116)return new pe(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),a;switch(s){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new te}return new pe(e+8,a)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new pe(e+5,pe.FNC1);if(t>=5&&t<15)return new pe(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new pe(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new qt("Decoding invalid alphanumeric value: "+r)}return new pe(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class lr{constructor(e){this.information=e,this.generalDecoder=new Fn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class sn extends lr{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let s=0;s<4;++s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*s,10);a/100===0&&e.append("0"),a/10===0&&e.append("0"),e.append(a)}sn.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let s=0;s<13;s++){let a=e.charAt(s+t).charCodeAt(0)-"0".charCodeAt(0);r+=(s&1)===0?3*a:a}r=10-r%10,r===10&&(r=0),e.append(r)}}sn.GTIN_SIZE=40;class ur extends sn{constructor(e){super(e)}parseInformation(){let e=new Ke;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ur.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,ur.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,ur.HEADER_SIZE+44)}}ur.HEADER_SIZE=1+1+2;class Vr extends lr{constructor(e){super(e)}parseInformation(){let e=new Ke;return this.getGeneralDecoder().decodeAllCodes(e,Vr.HEADER_SIZE)}}Vr.HEADER_SIZE=2+1+2;class ui extends sn{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,s);let a=this.checkWeight(s),u=1e5;for(let c=0;c<5;++c)a/u===0&&e.append("0"),u/=10;e.append(a)}}class kn extends ui{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=kn.HEADER_SIZE+ui.GTIN_SIZE+kn.WEIGHT_SIZE)throw new Z;let e=new Ke;return this.encodeCompressedGtin(e,kn.HEADER_SIZE),this.encodeCompressedWeight(e,kn.HEADER_SIZE+ui.GTIN_SIZE,kn.WEIGHT_SIZE),e.toString()}}kn.HEADER_SIZE=4+1,kn.WEIGHT_SIZE=15;class Ts extends kn{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ss extends kn{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Un extends sn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Un.HEADER_SIZE+sn.GTIN_SIZE)throw new Z;let e=new Ke;this.encodeCompressedGtin(e,Un.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+sn.GTIN_SIZE,Un.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Un.HEADER_SIZE+sn.GTIN_SIZE+Un.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Un.HEADER_SIZE=5+1+2,Un.LAST_DIGIT_SIZE=2;class jt extends sn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<jt.HEADER_SIZE+sn.GTIN_SIZE)throw new Z;let e=new Ke;this.encodeCompressedGtin(e,jt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(jt.HEADER_SIZE+sn.GTIN_SIZE,jt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(jt.HEADER_SIZE+sn.GTIN_SIZE+jt.LAST_DIGIT_SIZE,jt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(jt.HEADER_SIZE+sn.GTIN_SIZE+jt.LAST_DIGIT_SIZE+jt.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}jt.HEADER_SIZE=5+1+2,jt.LAST_DIGIT_SIZE=2,jt.FIRST_THREE_DIGITS_SIZE=10;class ct extends ui{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE+ct.DATE_SIZE)throw new Z;let e=new Ke;return this.encodeCompressedGtin(e,ct.HEADER_SIZE),this.encodeCompressedWeight(e,ct.HEADER_SIZE+ct.GTIN_SIZE,ct.WEIGHT_SIZE),this.encodeCompressedDate(e,ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,ct.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let a=r%12+1;r/=12;let u=r;u/10==0&&e.append("0"),e.append(u),a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}ct.HEADER_SIZE=7+1,ct.WEIGHT_SIZE=20,ct.DATE_SIZE=16;function pa(C){try{if(C.get(1))return new ur(C);if(!C.get(2))return new Vr(C);switch(Fn.extractNumericValueFromBitArray(C,1,4)){case 4:return new Ts(C);case 5:return new Ss(C)}switch(Fn.extractNumericValueFromBitArray(C,1,5)){case 12:return new Un(C);case 13:return new jt(C)}switch(Fn.extractNumericValueFromBitArray(C,1,7)){case 56:return new ct(C,"310","11");case 57:return new ct(C,"320","11");case 58:return new ct(C,"310","13");case 59:return new ct(C,"320","13");case 60:return new ct(C,"310","15");case 61:return new ct(C,"320","15");case 62:return new ct(C,"310","17");case 63:return new ct(C,"320","17")}}catch(e){throw console.log(e),new qt("unknown decoder: "+C)}}class qn{constructor(e,t,r,s){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof qn?qn.equalsOrNull(e.leftchar,t.leftchar)&&qn.equalsOrNull(e.rightchar,t.rightchar)&&qn.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:qn.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Os{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Os?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((s,a)=>{t.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(r=!0)})}),r}}class $ extends Y{constructor(e){super(...arguments),this.pairs=new Array($.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return $.constructResult(this.decodeRow2pairs(e,t))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,$.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(a){if(a instanceof Z){if(!this.pairs.length)throw new Z;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new Z}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!$.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(s);try{return this.checkRows(a,r+1)}catch(u){this.verbose&&console.log(u)}}throw new Z}static isValidSequence(e){for(let t of $.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=t[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,s=!1,a=!1;for(;r<this.rows.length;){let u=this.rows[r];if(u.getRowNumber()>e){a=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),r++}a||s||$.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Os(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let a of e)if(qn.equals(s,a))break}}static isPartialRow(e,t){for(let r of t){let s=!0;for(let a of e){let u=!1;for(let c of r.getPairs())if(a.equals(c)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=xe.buildBitArray(e),s=pa(t).parseInformation(),a=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),c=[a[0],a[1],u[0],u[1]];return new Zt(s,null,null,c,me.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),a=2;for(let c=1;c<this.pairs.size();++c){let d=this.pairs.get(c);s+=d.getLeftChar().getChecksumPortion(),a++;let g=d.getRightChar();g!=null&&(s+=g.getChecksumPortion(),a++)}return s%=211,211*(a-4)+s==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let s=t.length%2==0;this.startFromEven&&(s=!s);let a,u=!0,c=-1;do this.findNextPair(e,t,c),a=this.parseFoundFinderPattern(e,r,s),a==null?c=$.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let d=this.decodeDataCharacter(e,a,s,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new Z;let g;try{g=this.decodeDataCharacter(e,a,s,!1)}catch(A){g=null,this.verbose&&console.log(A)}return new qn(d,g,a,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=e.getSize(),u;r>=0?u=r:this.isEmptyPair(t)?u=0:u=t[t.length-1].getFinderPattern().getStartEnd()[1];let c=t.length%2!=0;this.startFromEven&&(c=!c);let d=!1;for(;u<a&&(d=!e.get(u),!!d);)u++;let g=0,A=u;for(let E=u;E<a;E++)if(e.get(E)!=d)s[g]++;else{if(g==3){if(c&&$.reverseCounters(s),$.isFinderPattern(s)){this.startEnd[0]=A,this.startEnd[1]=E;return}c&&$.reverseCounters(s),A+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,g--}else g++;s[g]=1,d=!d}throw new Z}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let s=e[r];e[r]=e[t-r-1],e[t-r-1]=s}}parseFoundFinderPattern(e,t,r){let s,a,u;if(r){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,s=this.startEnd[0]-g,a=g,u=this.startEnd[1]}else a=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let c=this.getDecodeFinderCounters();le.arraycopy(c,0,c,1,c.length-1),c[0]=s;let d;try{d=this.parseFinderValue(c,$.FINDER_PATTERNS)}catch{return null}return new ce(d,[a,u],a,u,t)}decodeDataCharacter(e,t,r,s){let a=this.getDataCharacterCounters();for(let wt=0;wt<a.length;wt++)a[wt]=0;if(s)$.recordPatternInReverse(e,t.getStartEnd()[0],a);else{$.recordPattern(e,t.getStartEnd()[1],a);for(let wt=0,Ot=a.length-1;wt<Ot;wt++,Ot--){let ln=a[wt];a[wt]=a[Ot],a[Ot]=ln}}let u=17,c=Xe.sum(new Int32Array(a))/u,d=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(c-d)/d>.3)throw new Z;let g=this.getOddCounts(),A=this.getEvenCounts(),E=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let wt=0;wt<a.length;wt++){let Ot=1*a[wt]/c,ln=Ot+.5;if(ln<1){if(Ot<.3)throw new Z;ln=1}else if(ln>8){if(Ot>8.7)throw new Z;ln=8}let Ir=wt/2;(wt&1)==0?(g[Ir]=ln,E[Ir]=Ot-ln):(A[Ir]=ln,y[Ir]=Ot-ln)}this.adjustOddEvenCounts(u);let B=4*t.getValue()+(r?0:2)+(s?0:1)-1,I=0,S=0;for(let wt=g.length-1;wt>=0;wt--){if($.isNotA1left(t,r,s)){let Ot=$.WEIGHTS[B][2*wt];S+=g[wt]*Ot}I+=g[wt]}let N=0;for(let wt=A.length-1;wt>=0;wt--)if($.isNotA1left(t,r,s)){let Ot=$.WEIGHTS[B][2*wt+1];N+=A[wt]*Ot}let U=S+N;if((I&1)!=0||I>13||I<4)throw new Z;let K=(13-I)/2,q=$.SYMBOL_WIDEST[K],j=9-q,we=ye.getRSSvalue(g,q,!0),Pe=ye.getRSSvalue(A,j,!1),En=$.EVEN_TOTAL_SUBSET[K],St=$.GSUM[K],$t=we*En+Pe+St;return new re($t,U)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=Xe.sum(new Int32Array(this.getOddCounts())),r=Xe.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1;t>13?a=!0:t<4&&(s=!0);let u=!1,c=!1;r>13?c=!0:r<4&&(u=!0);let d=t+r-e,g=(t&1)==1,A=(r&1)==0;if(d==1)if(g){if(A)throw new Z;a=!0}else{if(!A)throw new Z;c=!0}else if(d==-1)if(g){if(A)throw new Z;s=!0}else{if(!A)throw new Z;u=!0}else if(d==0){if(g){if(!A)throw new Z;t<r?(s=!0,c=!0):(a=!0,u=!0)}else if(A)throw new Z}else throw new Z;if(s){if(a)throw new Z;$.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&$.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new Z;$.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&$.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$.SYMBOL_WIDEST=[7,5,4,3,1],$.EVEN_TOTAL_SUBSET=[4,20,52,104,204],$.GSUM=[0,348,1388,2948,3988],$.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],$.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],$.FINDER_PAT_A=0,$.FINDER_PAT_B=1,$.FINDER_PAT_C=2,$.FINDER_PAT_D=3,$.FINDER_PAT_E=4,$.FINDER_PAT_F=5,$.FINDER_PATTERN_SEQUENCES=[[$.FINDER_PAT_A,$.FINDER_PAT_A],[$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B],[$.FINDER_PAT_A,$.FINDER_PAT_C,$.FINDER_PAT_B,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_C],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F]],$.MAX_PAIRS=11;class Go extends re{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends Y{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const s=this.decodePair(t,!1,e,r);It.addOrTally(this.possibleLeftPairs,s),t.reverse();let a=this.decodePair(t,!0,e,r);It.addOrTally(this.possibleRightPairs,a),t.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&It.checkChecksum(u,c))return It.constructResult(u,c)}throw new Z}static addOrTally(e,t){if(t==null)return;let r=!1;for(let s of e)if(s.getValue()===t.getValue()){s.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),s=new String(r).toString(),a=new Ke;for(let g=13-s.length;g>0;g--)a.append("0");a.append(s);let u=0;for(let g=0;g<13;g++){let A=a.charAt(g).charCodeAt(0)-"0".charCodeAt(0);u+=(g&1)===0?3*A:A}u=10-u%10,u===10&&(u=0),a.append(u.toString());let c=e.getFinderPattern().getResultPoints(),d=t.getFinderPattern().getResultPoints();return new Zt(a.toString(),null,0,[c[0],c[1],d[0],d[1]],me.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,t,r,s){try{let a=this.findFinderPattern(e,t),u=this.parseFoundFinderPattern(e,r,t,a),c=s==null?null:s.get(Fe.NEED_RESULT_POINT_CALLBACK);if(c!=null){let A=(a[0]+a[1])/2;t&&(A=e.getSize()-1-A),c.foundPossibleResultPoint(new he(A,r))}let d=this.decodeDataCharacter(e,u,!0),g=this.decodeDataCharacter(e,u,!1);return new Go(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,t,r){let s=this.getDataCharacterCounters();for(let N=0;N<s.length;N++)s[N]=0;if(r)Ct.recordPatternInReverse(e,t.getStartEnd()[0],s);else{Ct.recordPattern(e,t.getStartEnd()[1]+1,s);for(let N=0,U=s.length-1;N<U;N++,U--){let K=s[N];s[N]=s[U],s[U]=K}}let a=r?16:15,u=Xe.sum(new Int32Array(s))/a,c=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let N=0;N<s.length;N++){let U=s[N]/u,K=Math.floor(U+.5);K<1?K=1:K>8&&(K=8);let q=Math.floor(N/2);(N&1)===0?(c[q]=K,g[q]=U-K):(d[q]=K,A[q]=U-K)}this.adjustOddEvenCounts(r,a);let E=0,y=0;for(let N=c.length-1;N>=0;N--)y*=9,y+=c[N],E+=c[N];let B=0,I=0;for(let N=d.length-1;N>=0;N--)B*=9,B+=d[N],I+=d[N];let S=y+3*B;if(r){if((E&1)!==0||E>12||E<4)throw new Z;let N=(12-E)/2,U=It.OUTSIDE_ODD_WIDEST[N],K=9-U,q=ye.getRSSvalue(c,U,!1),j=ye.getRSSvalue(d,K,!0),we=It.OUTSIDE_EVEN_TOTAL_SUBSET[N],Pe=It.OUTSIDE_GSUM[N];return new re(q*we+j+Pe,S)}else{if((I&1)!==0||I>10||I<4)throw new Z;let N=(10-I)/2,U=It.INSIDE_ODD_WIDEST[N],K=9-U,q=ye.getRSSvalue(c,U,!0),j=ye.getRSSvalue(d,K,!1),we=It.INSIDE_ODD_TOTAL_SUBSET[N],Pe=It.INSIDE_GSUM[N];return new re(j*we+q+Pe,S)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),a=!1,u=0;for(;u<s&&(a=!e.get(u),t!==a);)u++;let c=0,d=u;for(let g=u;g<s;g++)if(e.get(g)!==a)r[c]++;else{if(c===3){if(Y.isFinderPattern(r))return[d,g];d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,c--}else c++;r[c]=1,a=!a}throw new Z}parseFoundFinderPattern(e,t,r,s){let a=e.get(s[0]),u=s[0]-1;for(;u>=0&&a!==e.get(u);)u--;u++;const c=s[0]-u,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);le.arraycopy(d,0,g,1,d.length-1),g[0]=c;const A=this.parseFinderValue(g,It.FINDER_PATTERNS);let E=u,y=s[1];return r&&(E=e.getSize()-1-E,y=e.getSize()-1-y),new ce(A,[u,s[1]],E,y,t)}adjustOddEvenCounts(e,t){let r=Xe.sum(new Int32Array(this.getOddCounts())),s=Xe.sum(new Int32Array(this.getEvenCounts())),a=!1,u=!1,c=!1,d=!1;e?(r>12?u=!0:r<4&&(a=!0),s>12?d=!0:s<4&&(c=!0)):(r>11?u=!0:r<5&&(a=!0),s>10?d=!0:s<4&&(c=!0));let g=r+s-t,A=(r&1)===(e?1:0),E=(s&1)===1;if(g===1)if(A){if(E)throw new Z;u=!0}else{if(!E)throw new Z;d=!0}else if(g===-1)if(A){if(E)throw new Z;a=!0}else{if(!E)throw new Z;c=!0}else if(g===0){if(A){if(!E)throw new Z;r<s?(a=!0,d=!0):(u=!0,c=!0)}else if(E)throw new Z}else throw new Z;if(a){if(u)throw new Z;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new Z;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Xr extends Ct{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get(Fe.POSSIBLE_FORMATS):null,s=e&&e.get(Fe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(me.EAN_13)||r.includes(me.UPC_A)||r.includes(me.EAN_8)||r.includes(me.UPC_E))&&this.readers.push(new H(e)),r.includes(me.CODE_39)&&this.readers.push(new Be(s)),r.includes(me.CODE_128)&&this.readers.push(new se),r.includes(me.ITF)&&this.readers.push(new tt),r.includes(me.RSS_14)&&this.readers.push(new It),r.includes(me.RSS_EXPANDED)&&this.readers.push(new $(this.verbose))):(this.readers.push(new H(e)),this.readers.push(new Be),this.readers.push(new H(e)),this.readers.push(new se),this.readers.push(new tt),this.readers.push(new It),this.readers.push(new $(this.verbose)))}decodeRow(e,t,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,t,r)}catch{}throw new Z}reset(){this.readers.forEach(e=>e.reset())}}class wa extends Ar{constructor(e=500,t){super(new Xr(t),e,t)}}class ot{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(e,t,r,s,a,u){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=a,this.ecBlocks=u;let c=0;const d=u.getECCodewords(),g=u.getECBlocks();for(let A of g)c+=A.getCount()*(A.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new te;for(let r of qe.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new te}toString(){return""+this.versionNumber}static buildVersions(){return[new qe(1,10,10,8,8,new ot(5,new it(1,3))),new qe(2,12,12,10,10,new ot(7,new it(1,5))),new qe(3,14,14,12,12,new ot(10,new it(1,8))),new qe(4,16,16,14,14,new ot(12,new it(1,12))),new qe(5,18,18,16,16,new ot(14,new it(1,18))),new qe(6,20,20,18,18,new ot(18,new it(1,22))),new qe(7,22,22,20,20,new ot(20,new it(1,30))),new qe(8,24,24,22,22,new ot(24,new it(1,36))),new qe(9,26,26,24,24,new ot(28,new it(1,44))),new qe(10,32,32,14,14,new ot(36,new it(1,62))),new qe(11,36,36,16,16,new ot(42,new it(1,86))),new qe(12,40,40,18,18,new ot(48,new it(1,114))),new qe(13,44,44,20,20,new ot(56,new it(1,144))),new qe(14,48,48,22,22,new ot(68,new it(1,174))),new qe(15,52,52,24,24,new ot(42,new it(2,102))),new qe(16,64,64,14,14,new ot(56,new it(2,140))),new qe(17,72,72,16,16,new ot(36,new it(4,92))),new qe(18,80,80,18,18,new ot(48,new it(4,114))),new qe(19,88,88,20,20,new ot(56,new it(4,144))),new qe(20,96,96,22,22,new ot(68,new it(4,174))),new qe(21,104,104,24,24,new ot(56,new it(6,136))),new qe(22,120,120,18,18,new ot(68,new it(6,175))),new qe(23,132,132,20,20,new ot(62,new it(8,163))),new qe(24,144,144,22,22,new ot(62,new it(8,156),new it(2,155))),new qe(25,8,18,6,16,new ot(7,new it(1,5))),new qe(26,8,32,6,14,new ot(11,new it(1,10))),new qe(27,12,26,10,24,new ot(14,new it(1,16))),new qe(28,12,36,10,16,new ot(18,new it(1,22))),new qe(29,16,36,14,16,new ot(24,new it(1,32))),new qe(30,16,48,14,22,new ot(28,new it(1,49)))]}}qe.VERSIONS=qe.buildVersions();class Ns{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new te;this.version=Ns.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Nt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return qe.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,s=0;const a=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,d=!1,g=!1,A=!1;do if(r===a&&s===0&&!c)e[t++]=this.readCorner1(a,u)&255,r-=2,s+=2,c=!0;else if(r===a-2&&s===0&&(u&3)!==0&&!d)e[t++]=this.readCorner2(a,u)&255,r-=2,s+=2,d=!0;else if(r===a+4&&s===2&&(u&7)===0&&!g)e[t++]=this.readCorner3(a,u)&255,r-=2,s+=2,g=!0;else if(r===a-2&&s===0&&(u&7)===4&&!A)e[t++]=this.readCorner4(a,u)&255,r-=2,s+=2,A=!0;else{do r<a&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[t++]=this.readUtah(r,s,a,u)&255),r-=2,s+=2;while(r>=0&&s<u);r+=1,s+=3;do r>=0&&s<u&&!this.readMappingMatrix.get(s,r)&&(e[t++]=this.readUtah(r,s,a,u)&255),r+=2,s-=2;while(r<a&&s>=0);r+=3,s+=1}while(r<a||s<u);if(t!==this.version.getTotalCodewords())throw new te;return e}readModule(e,t,r,s){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,s){let a=0;return this.readModule(e-2,t-2,r,s)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,s)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,s)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,s)&&(a|=1),a<<=1,this.readModule(e-1,t,r,s)&&(a|=1),a<<=1,this.readModule(e,t-2,r,s)&&(a|=1),a<<=1,this.readModule(e,t-1,r,s)&&(a|=1),a<<=1,this.readModule(e,t,r,s)&&(a|=1),a}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new V("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),u=t/s|0,c=r/a|0,d=u*s,g=c*a,A=new Nt(g,d);for(let E=0;E<u;++E){const y=E*s;for(let B=0;B<c;++B){const I=B*a;for(let S=0;S<s;++S){const N=E*(s+2)+1+S,U=y+S;for(let K=0;K<a;++K){const q=B*(a+2)+1+K;if(e.get(q,N)){const j=I+K;A.set(j,U)}}}}}return A}}class es{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let s=0;const a=r.getECBlocks();for(let S of a)s+=S.getCount();const u=new Array(s);let c=0;for(let S of a)for(let N=0;N<S.getCount();N++){const U=S.getDataCodewords(),K=r.getECCodewords()+U;u[c++]=new es(U,new Uint8Array(K))}const g=u[0].codewords.length-r.getECCodewords(),A=g-1;let E=0;for(let S=0;S<A;S++)for(let N=0;N<c;N++)u[N].codewords[S]=e[E++];const y=t.getVersionNumber()===24,B=y?8:c;for(let S=0;S<B;S++)u[S].codewords[g-1]=e[E++];const I=u[0].codewords.length;for(let S=g;S<I;S++)for(let N=0;N<c;N++){const U=y?(N+8)%c:N,K=y&&U>7?S-1:S;u[U].codewords[K]=e[E++]}if(E!==e.length)throw new V;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ts{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new V(""+e);let t=0,r=this.bitOffset,s=this.byteOffset;const a=this.bytes;if(r>0){const u=8-r,c=e<u?e:u,d=u-c,g=255>>8-c<<d;t=(a[s]&g)>>d,e-=c,r+=c,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)t=t<<8|a[s]&255,s++,e-=8;if(e>0){const u=8-e,c=255>>u<<u;t=t<<e|(a[s]&c)>>u,r+=e}}return this.bitOffset=r,this.byteOffset=s,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));class cr{static decode(e){const t=new ts(e),r=new Ke,s=new Ke,a=new Array;let u=Lt.ASCII_ENCODE;do if(u===Lt.ASCII_ENCODE)u=this.decodeAsciiSegment(t,r,s);else{switch(u){case Lt.C40_ENCODE:this.decodeC40Segment(t,r);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new te}u=Lt.ASCII_ENCODE}while(u!==Lt.PAD_ENCODE&&t.available()>0);return s.length()>0&&r.append(s.toString()),new mn(e,r.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(e,t,r){let s=!1;do{let a=e.readBits(8);if(a===0)throw new te;if(a<=128)return s&&(a+=128),t.append(String.fromCharCode(a-1)),Lt.ASCII_ENCODE;if(a===129)return Lt.PAD_ENCODE;if(a<=229){const u=a-130;u<10&&t.append("0"),t.append(""+u)}else switch(a){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:s=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new te;break}}while(e.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const s=[];let a=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),s);for(let c=0;c<3;c++){const d=s[c];switch(a){case 0:if(d<3)a=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new te;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new te}a=0;break;case 3:r?(t.append(String.fromCharCode(d+224)),r=!1):t.append(String.fromCharCode(d+96)),a=0;break;default:throw new te}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,s=[],a=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),s);for(let c=0;c<3;c++){const d=s[c];switch(a){case 0:if(d<3)a=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new te;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new te}a=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g),a=0}else throw new te;break;default:throw new te}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let a=0;a<3;a++){const u=r[a];switch(u){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(u<14)t.append(String.fromCharCode(u+44));else if(u<40)t.append(String.fromCharCode(u+51));else throw new te;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let s=(e<<8)+t-1,a=Math.floor(s/1600);r[0]=a,s-=a*1600,a=Math.floor(s/40),r[1]=a,r[2]=s-a*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(s&32)===0&&(s|=64),t.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let s=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),s++);let u;if(a===0?u=e.available()/8|0:a<250?u=a:u=250*(a-249)+this.unrandomize255State(e.readBits(8),s++),u<0)throw new te;const c=new Uint8Array(u);for(let d=0;d<u;d++){if(e.available()<8)throw new te;c[d]=this.unrandomize255State(e.readBits(8),s++)}r.push(c);try{t.append(rn.decode(c,ve.ISO88591))}catch(d){throw new qt("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,t){const r=149*t%255+1,s=e-r;return s>=0?s:s+256}}cr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],cr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],cr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],cr.TEXT_SHIFT2_SET_CHARS=cr.C40_SHIFT2_SET_CHARS,cr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Vo{constructor(){this.rsDecoder=new Hr(Qe.DATA_MATRIX_FIELD_256)}decode(e){const t=new Ns(e),r=t.getVersion(),s=t.readCodewords(),a=es.getDataBlocks(s,r);let u=0;for(let g of a)u+=g.getNumDataCodewords();const c=new Uint8Array(u),d=a.length;for(let g=0;g<d;g++){const A=a[g],E=A.getCodewords(),y=A.getNumDataCodewords();this.correctErrors(E,y);for(let B=0;B<y;B++)c[B*d+g]=E[B]}return cr.decode(c)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new ue}for(let s=0;s<t;s++)e[s]=r[s]}}class vt{constructor(e){this.image=e,this.rectangleDetector=new Ln(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new Z;t=this.shiftToModuleCenter(t);const r=t[0],s=t[1],a=t[2],u=t[3];let c=this.transitionsBetween(r,u)+1,d=this.transitionsBetween(a,u)+1;(c&1)===1&&(c+=1),(d&1)===1&&(d+=1),4*c<7*d&&4*d<7*c&&(c=d=Math.max(c,d));let g=vt.sampleGrid(this.image,r,s,a,u,c,d);return new Zn(g,[r,s,a,u])}static shiftPoint(e,t,r){let s=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new he(e.getX()+s,e.getY()+a)}static moveAway(e,t,r){let s=e.getX(),a=e.getY();return s<t?s-=1:s+=1,a<r?a-=1:a+=1,new he(s,a)}detectSolid1(e){let t=e[0],r=e[1],s=e[3],a=e[2],u=this.transitionsBetween(t,r),c=this.transitionsBetween(r,s),d=this.transitionsBetween(s,a),g=this.transitionsBetween(a,t),A=u,E=[a,t,r,s];return A>c&&(A=c,E[0]=t,E[1]=r,E[2]=s,E[3]=a),A>d&&(A=d,E[0]=r,E[1]=s,E[2]=a,E[3]=t),A>g&&(E[0]=s,E[1]=a,E[2]=t,E[3]=r),E}detectSolid2(e){let t=e[0],r=e[1],s=e[2],a=e[3],u=this.transitionsBetween(t,a),c=vt.shiftPoint(r,s,(u+1)*4),d=vt.shiftPoint(s,r,(u+1)*4),g=this.transitionsBetween(c,t),A=this.transitionsBetween(d,a);return g<A?(e[0]=t,e[1]=r,e[2]=s,e[3]=a):(e[0]=r,e[1]=s,e[2]=a,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],s=e[2],a=e[3],u=this.transitionsBetween(t,a),c=this.transitionsBetween(r,a),d=vt.shiftPoint(t,r,(c+1)*4),g=vt.shiftPoint(s,r,(u+1)*4);u=this.transitionsBetween(d,a),c=this.transitionsBetween(g,a);let A=new he(a.getX()+(s.getX()-r.getX())/(u+1),a.getY()+(s.getY()-r.getY())/(u+1)),E=new he(a.getX()+(t.getX()-r.getX())/(c+1),a.getY()+(t.getY()-r.getY())/(c+1));if(!this.isValid(A))return this.isValid(E)?E:null;if(!this.isValid(E))return A;let y=this.transitionsBetween(d,A)+this.transitionsBetween(g,A),B=this.transitionsBetween(d,E)+this.transitionsBetween(g,E);return y>B?A:E}shiftToModuleCenter(e){let t=e[0],r=e[1],s=e[2],a=e[3],u=this.transitionsBetween(t,a)+1,c=this.transitionsBetween(s,a)+1,d=vt.shiftPoint(t,r,c*4),g=vt.shiftPoint(s,r,u*4);u=this.transitionsBetween(d,a)+1,c=this.transitionsBetween(g,a)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let A=(t.getX()+r.getX()+s.getX()+a.getX())/4,E=(t.getY()+r.getY()+s.getY()+a.getY())/4;t=vt.moveAway(t,A,E),r=vt.moveAway(r,A,E),s=vt.moveAway(s,A,E),a=vt.moveAway(a,A,E);let y,B;return d=vt.shiftPoint(t,r,c*4),d=vt.shiftPoint(d,a,u*4),y=vt.shiftPoint(r,t,c*4),y=vt.shiftPoint(y,s,u*4),g=vt.shiftPoint(s,a,c*4),g=vt.shiftPoint(g,r,u*4),B=vt.shiftPoint(a,s,c*4),B=vt.shiftPoint(B,t,u*4),[d,y,g,B]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,s,a,u,c){return hn.getInstance().sampleGrid(e,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,t.getX(),t.getY(),a.getX(),a.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),a=Math.trunc(t.getX()),u=Math.trunc(t.getY()),c=Math.abs(u-s)>Math.abs(a-r);if(c){let S=r;r=s,s=S,S=a,a=u,u=S}let d=Math.abs(a-r),g=Math.abs(u-s),A=-d/2,E=s<u?1:-1,y=r<a?1:-1,B=0,I=this.image.get(c?s:r,c?r:s);for(let S=r,N=s;S!==a;S+=y){let U=this.image.get(c?N:S,c?S:N);if(U!==I&&(B++,I=U),A+=g,A>0){if(N===u)break;N+=E,A-=d}}return B}}class jn{constructor(){this.decoder=new Vo}decode(e,t=null){let r,s;if(t!=null&&t.has(Fe.PURE_BARCODE)){const g=jn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(g),s=jn.NO_POINTS}else{const g=new vt(e.getBlackMatrix()).detect();r=this.decoder.decode(g.getBits()),s=g.getPoints()}const a=r.getRawBytes(),u=new Zt(r.getText(),a,8*a.length,s,me.DATA_MATRIX,le.currentTimeMillis()),c=r.getByteSegments();c!=null&&u.putMetadata(st.BYTE_SEGMENTS,c);const d=r.getECLevel();return d!=null&&u.putMetadata(st.ERROR_CORRECTION_LEVEL,d),u}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new Z;const s=this.moduleSize(t,e);let a=t[1];const u=r[1];let c=t[0];const g=(r[0]-c+1)/s,A=(u-a+1)/s;if(g<=0||A<=0)throw new Z;const E=s/2;a+=E,c+=E;const y=new Nt(g,A);for(let B=0;B<A;B++){const I=a+B*s;for(let S=0;S<g;S++)e.get(c+S*s,I)&&y.set(S,B)}return y}static moduleSize(e,t){const r=t.getWidth();let s=e[0];const a=e[1];for(;s<r&&t.get(s,a);)s++;if(s===r)throw new Z;const u=s-e[0];if(u===0)throw new Z;return u}}jn.NO_POINTS=[];class ma extends Ar{constructor(e=500){super(new jn,e)}}var ci;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(ci||(ci={}));class xt{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,xt.FOR_BITS.set(r,this),xt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new P(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof xt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=xt.FOR_BITS.size)throw new V;return xt.FOR_BITS.get(e)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(ci.L,"L",1),xt.M=new xt(ci.M,"M",0),xt.Q=new xt(ci.Q,"Q",3),xt.H=new xt(ci.H,"H",2);class Jt{constructor(e){this.errorCorrectionLevel=xt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return fe.bitCount(e^t)}static decodeFormatInformation(e,t){const r=Jt.doDecodeFormatInformation(e,t);return r!==null?r:Jt.doDecodeFormatInformation(e^Jt.FORMAT_INFO_MASK_QR,t^Jt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,s=0;for(const a of Jt.FORMAT_INFO_DECODE_LOOKUP){const u=a[0];if(u===e||u===t)return new Jt(a[1]);let c=Jt.numBitsDiffering(e,u);c<r&&(s=a[1],r=c),e!==t&&(c=Jt.numBitsDiffering(t,u),c<r&&(s=a[1],r=c))}return r<=3?new Jt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Jt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Jt.FORMAT_INFO_MASK_QR=21522,Jt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let s=0;const a=r[0].getECCodewordsPerBlock(),u=r[0].getECBlocks();for(const c of u)s+=c.getCount()*(c.getDataCodewords()+a);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new te;try{return this.getVersionForNumber((e-17)/4)}catch{throw new te}}static getVersionForNumber(e){if(e<1||e>40)throw new V;return Ce.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Ce.VERSION_DECODE_INFO.length;s++){const a=Ce.VERSION_DECODE_INFO[s];if(a===e)return Ce.getVersionForNumber(s+7);const u=Jt.numBitsDiffering(e,a);u<t&&(r=s+7,t=u)}return t<=3?Ce.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new Nt(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const a=this.alignmentPatternCenters[s]-2;for(let u=0;u<r;u++)s===0&&(u===0||u===r-1)||s===r-1&&u===0||t.setRegion(this.alignmentPatternCenters[u]-2,a,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Ce.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ce.VERSIONS=[new Ce(1,new Int32Array(0),new X(7,new M(1,19)),new X(10,new M(1,16)),new X(13,new M(1,13)),new X(17,new M(1,9))),new Ce(2,Int32Array.from([6,18]),new X(10,new M(1,34)),new X(16,new M(1,28)),new X(22,new M(1,22)),new X(28,new M(1,16))),new Ce(3,Int32Array.from([6,22]),new X(15,new M(1,55)),new X(26,new M(1,44)),new X(18,new M(2,17)),new X(22,new M(2,13))),new Ce(4,Int32Array.from([6,26]),new X(20,new M(1,80)),new X(18,new M(2,32)),new X(26,new M(2,24)),new X(16,new M(4,9))),new Ce(5,Int32Array.from([6,30]),new X(26,new M(1,108)),new X(24,new M(2,43)),new X(18,new M(2,15),new M(2,16)),new X(22,new M(2,11),new M(2,12))),new Ce(6,Int32Array.from([6,34]),new X(18,new M(2,68)),new X(16,new M(4,27)),new X(24,new M(4,19)),new X(28,new M(4,15))),new Ce(7,Int32Array.from([6,22,38]),new X(20,new M(2,78)),new X(18,new M(4,31)),new X(18,new M(2,14),new M(4,15)),new X(26,new M(4,13),new M(1,14))),new Ce(8,Int32Array.from([6,24,42]),new X(24,new M(2,97)),new X(22,new M(2,38),new M(2,39)),new X(22,new M(4,18),new M(2,19)),new X(26,new M(4,14),new M(2,15))),new Ce(9,Int32Array.from([6,26,46]),new X(30,new M(2,116)),new X(22,new M(3,36),new M(2,37)),new X(20,new M(4,16),new M(4,17)),new X(24,new M(4,12),new M(4,13))),new Ce(10,Int32Array.from([6,28,50]),new X(18,new M(2,68),new M(2,69)),new X(26,new M(4,43),new M(1,44)),new X(24,new M(6,19),new M(2,20)),new X(28,new M(6,15),new M(2,16))),new Ce(11,Int32Array.from([6,30,54]),new X(20,new M(4,81)),new X(30,new M(1,50),new M(4,51)),new X(28,new M(4,22),new M(4,23)),new X(24,new M(3,12),new M(8,13))),new Ce(12,Int32Array.from([6,32,58]),new X(24,new M(2,92),new M(2,93)),new X(22,new M(6,36),new M(2,37)),new X(26,new M(4,20),new M(6,21)),new X(28,new M(7,14),new M(4,15))),new Ce(13,Int32Array.from([6,34,62]),new X(26,new M(4,107)),new X(22,new M(8,37),new M(1,38)),new X(24,new M(8,20),new M(4,21)),new X(22,new M(12,11),new M(4,12))),new Ce(14,Int32Array.from([6,26,46,66]),new X(30,new M(3,115),new M(1,116)),new X(24,new M(4,40),new M(5,41)),new X(20,new M(11,16),new M(5,17)),new X(24,new M(11,12),new M(5,13))),new Ce(15,Int32Array.from([6,26,48,70]),new X(22,new M(5,87),new M(1,88)),new X(24,new M(5,41),new M(5,42)),new X(30,new M(5,24),new M(7,25)),new X(24,new M(11,12),new M(7,13))),new Ce(16,Int32Array.from([6,26,50,74]),new X(24,new M(5,98),new M(1,99)),new X(28,new M(7,45),new M(3,46)),new X(24,new M(15,19),new M(2,20)),new X(30,new M(3,15),new M(13,16))),new Ce(17,Int32Array.from([6,30,54,78]),new X(28,new M(1,107),new M(5,108)),new X(28,new M(10,46),new M(1,47)),new X(28,new M(1,22),new M(15,23)),new X(28,new M(2,14),new M(17,15))),new Ce(18,Int32Array.from([6,30,56,82]),new X(30,new M(5,120),new M(1,121)),new X(26,new M(9,43),new M(4,44)),new X(28,new M(17,22),new M(1,23)),new X(28,new M(2,14),new M(19,15))),new Ce(19,Int32Array.from([6,30,58,86]),new X(28,new M(3,113),new M(4,114)),new X(26,new M(3,44),new M(11,45)),new X(26,new M(17,21),new M(4,22)),new X(26,new M(9,13),new M(16,14))),new Ce(20,Int32Array.from([6,34,62,90]),new X(28,new M(3,107),new M(5,108)),new X(26,new M(3,41),new M(13,42)),new X(30,new M(15,24),new M(5,25)),new X(28,new M(15,15),new M(10,16))),new Ce(21,Int32Array.from([6,28,50,72,94]),new X(28,new M(4,116),new M(4,117)),new X(26,new M(17,42)),new X(28,new M(17,22),new M(6,23)),new X(30,new M(19,16),new M(6,17))),new Ce(22,Int32Array.from([6,26,50,74,98]),new X(28,new M(2,111),new M(7,112)),new X(28,new M(17,46)),new X(30,new M(7,24),new M(16,25)),new X(24,new M(34,13))),new Ce(23,Int32Array.from([6,30,54,78,102]),new X(30,new M(4,121),new M(5,122)),new X(28,new M(4,47),new M(14,48)),new X(30,new M(11,24),new M(14,25)),new X(30,new M(16,15),new M(14,16))),new Ce(24,Int32Array.from([6,28,54,80,106]),new X(30,new M(6,117),new M(4,118)),new X(28,new M(6,45),new M(14,46)),new X(30,new M(11,24),new M(16,25)),new X(30,new M(30,16),new M(2,17))),new Ce(25,Int32Array.from([6,32,58,84,110]),new X(26,new M(8,106),new M(4,107)),new X(28,new M(8,47),new M(13,48)),new X(30,new M(7,24),new M(22,25)),new X(30,new M(22,15),new M(13,16))),new Ce(26,Int32Array.from([6,30,58,86,114]),new X(28,new M(10,114),new M(2,115)),new X(28,new M(19,46),new M(4,47)),new X(28,new M(28,22),new M(6,23)),new X(30,new M(33,16),new M(4,17))),new Ce(27,Int32Array.from([6,34,62,90,118]),new X(30,new M(8,122),new M(4,123)),new X(28,new M(22,45),new M(3,46)),new X(30,new M(8,23),new M(26,24)),new X(30,new M(12,15),new M(28,16))),new Ce(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new M(3,117),new M(10,118)),new X(28,new M(3,45),new M(23,46)),new X(30,new M(4,24),new M(31,25)),new X(30,new M(11,15),new M(31,16))),new Ce(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new M(7,116),new M(7,117)),new X(28,new M(21,45),new M(7,46)),new X(30,new M(1,23),new M(37,24)),new X(30,new M(19,15),new M(26,16))),new Ce(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new M(5,115),new M(10,116)),new X(28,new M(19,47),new M(10,48)),new X(30,new M(15,24),new M(25,25)),new X(30,new M(23,15),new M(25,16))),new Ce(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new M(13,115),new M(3,116)),new X(28,new M(2,46),new M(29,47)),new X(30,new M(42,24),new M(1,25)),new X(30,new M(23,15),new M(28,16))),new Ce(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new M(17,115)),new X(28,new M(10,46),new M(23,47)),new X(30,new M(10,24),new M(35,25)),new X(30,new M(19,15),new M(35,16))),new Ce(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new M(17,115),new M(1,116)),new X(28,new M(14,46),new M(21,47)),new X(30,new M(29,24),new M(19,25)),new X(30,new M(11,15),new M(46,16))),new Ce(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new M(13,115),new M(6,116)),new X(28,new M(14,46),new M(23,47)),new X(30,new M(44,24),new M(7,25)),new X(30,new M(59,16),new M(1,17))),new Ce(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new M(12,121),new M(7,122)),new X(28,new M(12,47),new M(26,48)),new X(30,new M(39,24),new M(14,25)),new X(30,new M(22,15),new M(41,16))),new Ce(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new M(6,121),new M(14,122)),new X(28,new M(6,47),new M(34,48)),new X(30,new M(46,24),new M(10,25)),new X(30,new M(2,15),new M(64,16))),new Ce(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new M(17,122),new M(4,123)),new X(28,new M(29,46),new M(14,47)),new X(30,new M(49,24),new M(10,25)),new X(30,new M(24,15),new M(46,16))),new Ce(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new M(4,122),new M(18,123)),new X(28,new M(13,46),new M(32,47)),new X(30,new M(48,24),new M(14,25)),new X(30,new M(42,15),new M(32,16))),new Ce(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new M(20,117),new M(4,118)),new X(28,new M(40,47),new M(7,48)),new X(30,new M(43,24),new M(22,25)),new X(30,new M(10,15),new M(67,16))),new Ce(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new M(19,118),new M(6,119)),new X(28,new M(18,47),new M(31,48)),new X(30,new M(34,24),new M(34,25)),new X(30,new M(20,15),new M(61,16)))];var Pt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Pt||(Pt={}));class An{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let s=0;s<t;s++)this.isMasked(r,s)&&e.flip(s,r)}}An.values=new Map([[Pt.DATA_MASK_000,new An(Pt.DATA_MASK_000,(C,e)=>(C+e&1)===0)],[Pt.DATA_MASK_001,new An(Pt.DATA_MASK_001,(C,e)=>(C&1)===0)],[Pt.DATA_MASK_010,new An(Pt.DATA_MASK_010,(C,e)=>e%3===0)],[Pt.DATA_MASK_011,new An(Pt.DATA_MASK_011,(C,e)=>(C+e)%3===0)],[Pt.DATA_MASK_100,new An(Pt.DATA_MASK_100,(C,e)=>(Math.floor(C/2)+Math.floor(e/3)&1)===0)],[Pt.DATA_MASK_101,new An(Pt.DATA_MASK_101,(C,e)=>C*e%6===0)],[Pt.DATA_MASK_110,new An(Pt.DATA_MASK_110,(C,e)=>C*e%6<3)],[Pt.DATA_MASK_111,new An(Pt.DATA_MASK_111,(C,e)=>(C+e+C*e%3&1)===0)]]);class fi{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new te;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const t=this.bitMatrix.getHeight();let r=0;const s=t-7;for(let a=t-1;a>=s;a--)r=this.copyBit(8,a,r);for(let a=t-8;a<t;a++)r=this.copyBit(a,8,r);if(this.parsedFormatInfo=Jt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new te}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ce.getVersionForNumber(t);let r=0;const s=e-11;for(let u=5;u>=0;u--)for(let c=e-9;c>=s;c--)r=this.copyBit(c,u,r);let a=Ce.decodeVersionInformation(r);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;r=0;for(let u=5;u>=0;u--)for(let c=e-9;c>=s;c--)r=this.copyBit(u,c,r);if(a=Ce.decodeVersionInformation(r),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new te}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=An.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const a=t.buildFunctionPattern();let u=!0;const c=new Uint8Array(t.getTotalCodewords());let d=0,g=0,A=0;for(let E=s-1;E>0;E-=2){E===6&&E--;for(let y=0;y<s;y++){const B=u?s-1-y:y;for(let I=0;I<2;I++)a.get(E-I,B)||(A++,g<<=1,this.bitMatrix.get(E-I,B)&&(g|=1),A===8&&(c[d++]=g,A=0,g=0))}u=!u}if(d!==t.getTotalCodewords())throw new te;return c}remask(){if(this.parsedFormatInfo===null)return;const e=An.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let s=t+1,a=e.getHeight();s<a;s++)e.get(t,s)!==e.get(s,t)&&(e.flip(s,t),e.flip(t,s))}}class ns{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new V;const s=t.getECBlocksForLevel(r);let a=0;const u=s.getECBlocks();for(const I of u)a+=I.getCount();const c=new Array(a);let d=0;for(const I of u)for(let S=0;S<I.getCount();S++){const N=I.getDataCodewords(),U=s.getECCodewordsPerBlock()+N;c[d++]=new ns(N,new Uint8Array(U))}const g=c[0].codewords.length;let A=c.length-1;for(;A>=0&&c[A].codewords.length!==g;)A--;A++;const E=g-s.getECCodewordsPerBlock();let y=0;for(let I=0;I<E;I++)for(let S=0;S<d;S++)c[S].codewords[I]=e[y++];for(let I=A;I<d;I++)c[I].codewords[E]=e[y++];const B=c[0].codewords.length;for(let I=E;I<B;I++)for(let S=0;S<d;S++){const N=S<A?I:I+1;c[S].codewords[N]=e[y++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(Tn||(Tn={}));class be{constructor(e,t,r,s){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=s,be.FOR_BITS.set(s,this),be.FOR_VALUE.set(e,this)}static forBits(e){const t=be.FOR_BITS.get(e);if(t===void 0)throw new V;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof be))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}be.FOR_BITS=new Map,be.FOR_VALUE=new Map,be.TERMINATOR=new be(Tn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),be.NUMERIC=new be(Tn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),be.ALPHANUMERIC=new be(Tn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),be.STRUCTURED_APPEND=new be(Tn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),be.BYTE=new be(Tn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),be.ECI=new be(Tn.ECI,"ECI",Int32Array.from([0,0,0]),7),be.KANJI=new be(Tn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),be.FNC1_FIRST_POSITION=new be(Tn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),be.FNC1_SECOND_POSITION=new be(Tn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),be.HANZI=new be(Tn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Et{static decode(e,t,r,s){const a=new ts(e);let u=new Ke;const c=new Array;let d=-1,g=-1;try{let A=null,E=!1,y;do{if(a.available()<4)y=be.TERMINATOR;else{const B=a.readBits(4);y=be.forBits(B)}switch(y){case be.TERMINATOR:break;case be.FNC1_FIRST_POSITION:case be.FNC1_SECOND_POSITION:E=!0;break;case be.STRUCTURED_APPEND:if(a.available()<16)throw new te;d=a.readBits(8),g=a.readBits(8);break;case be.ECI:const B=Et.parseECIValue(a);if(A=ne.getCharacterSetECIByValue(B),A===null)throw new te;break;case be.HANZI:const I=a.readBits(4),S=a.readBits(y.getCharacterCountBits(t));I===Et.GB2312_SUBSET&&Et.decodeHanziSegment(a,u,S);break;default:const N=a.readBits(y.getCharacterCountBits(t));switch(y){case be.NUMERIC:Et.decodeNumericSegment(a,u,N);break;case be.ALPHANUMERIC:Et.decodeAlphanumericSegment(a,u,N,E);break;case be.BYTE:Et.decodeByteSegment(a,u,N,A,c,s);break;case be.KANJI:Et.decodeKanjiSegment(a,u,N);break;default:throw new te}break}}while(y!==be.TERMINATOR)}catch{throw new te}return new mn(e,u.toString(),c.length===0?null:c,r===null?null:r.toString(),d,g)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new te;const s=new Uint8Array(2*r);let a=0;for(;r>0;){const u=e.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,s[a]=c>>8&255,s[a+1]=c&255,a+=2,r--}try{t.append(rn.decode(s,ve.GB2312))}catch(u){throw new te(u)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new te;const s=new Uint8Array(2*r);let a=0;for(;r>0;){const u=e.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,s[a]=c>>8,s[a+1]=c,a+=2,r--}try{t.append(rn.decode(s,ve.SHIFT_JIS))}catch(u){throw new te(u)}}static decodeByteSegment(e,t,r,s,a,u){if(8*r>e.available())throw new te;const c=new Uint8Array(r);for(let g=0;g<r;g++)c[g]=e.readBits(8);let d;s===null?d=ve.guessEncoding(c,u):d=s.getName();try{t.append(rn.decode(c,d))}catch(g){throw new te(g)}a.push(c)}static toAlphaNumericChar(e){if(e>=Et.ALPHANUMERIC_CHARS.length)throw new te;return Et.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,s){const a=t.length();for(;r>1;){if(e.available()<11)throw new te;const u=e.readBits(11);t.append(Et.toAlphaNumericChar(Math.floor(u/45))),t.append(Et.toAlphaNumericChar(u%45)),r-=2}if(r===1){if(e.available()<6)throw new te;t.append(Et.toAlphaNumericChar(e.readBits(6)))}if(s)for(let u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new te;const s=e.readBits(10);if(s>=1e3)throw new te;t.append(Et.toAlphaNumericChar(Math.floor(s/100))),t.append(Et.toAlphaNumericChar(Math.floor(s/10)%10)),t.append(Et.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new te;const s=e.readBits(7);if(s>=100)throw new te;t.append(Et.toAlphaNumericChar(Math.floor(s/10))),t.append(Et.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new te;const s=e.readBits(4);if(s>=10)throw new te;t.append(Et.toAlphaNumericChar(s))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new te}}Et.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Et.GB2312_SUBSET=1;class Ds{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Aa{constructor(){this.rsDecoder=new Hr(Qe.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(Nt.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new fi(e);let s=null;try{return this.decodeBitMatrixParser(r,t)}catch(a){s=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const a=this.decodeBitMatrixParser(r,t);return a.setOther(new Ds(!0)),a}catch(a){throw s!==null?s:a}}decodeBitMatrixParser(e,t){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),u=ns.getDataBlocks(a,r,s);let c=0;for(const A of u)c+=A.getNumDataCodewords();const d=new Uint8Array(c);let g=0;for(const A of u){const E=A.getCodewords(),y=A.getNumDataCodewords();this.correctErrors(E,y);for(let B=0;B<y;B++)d[g++]=E[B]}return Et.decode(d,r,s,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new ue}for(let s=0;s<t;s++)e[s]=r[s]}}class rs extends he{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const s=(this.getX()+t)/2,a=(this.getY()+e)/2,u=(this.estimatedModuleSize+r)/2;return new rs(s,a,u)}}class is{constructor(e,t,r,s,a,u,c){this.image=e,this.startX=t,this.startY=r,this.width=s,this.height=a,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,s=e+r,a=this.startY+t/2,u=new Int32Array(3),c=this.image;for(let d=0;d<t;d++){const g=a+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));u[0]=0,u[1]=0,u[2]=0;let A=e;for(;A<s&&!c.get(A,g);)A++;let E=0;for(;A<s;){if(c.get(A,g))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){const y=this.handlePossibleCenter(u,g,A);if(y!==null)return y}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;A++}if(this.foundPatternCross(u)){const y=this.handlePossibleCenter(u,g,s);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let s=0;s<3;s++)if(Math.abs(t-e[s])>=r)return!1;return!0}crossCheckVertical(e,t,r,s){const a=this.image,u=a.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let d=e;for(;d>=0&&a.get(t,d)&&c[1]<=r;)c[1]++,d--;if(d<0||c[1]>r)return NaN;for(;d>=0&&!a.get(t,d)&&c[0]<=r;)c[0]++,d--;if(c[0]>r)return NaN;for(d=e+1;d<u&&a.get(t,d)&&c[1]<=r;)c[1]++,d++;if(d===u||c[1]>r)return NaN;for(;d<u&&!a.get(t,d)&&c[2]<=r;)c[2]++,d++;if(c[2]>r)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-s)>=2*s?NaN:this.foundPatternCross(c)?is.centerFromEnd(c,d):NaN}handlePossibleCenter(e,t,r){const s=e[0]+e[1]+e[2],a=is.centerFromEnd(e,r),u=this.crossCheckVertical(t,a,2*e[1],s);if(!isNaN(u)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,u,a))return g.combineEstimate(u,a,c);const d=new rs(a,u,c);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Rs extends he{constructor(e,t,r,s){super(e,t),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const s=this.count+1,a=(this.count*this.getX()+t)/s,u=(this.count*this.getY()+e)/s,c=(this.count*this.estimatedModuleSize+r)/s;return new Rs(a,u,c,s)}}class Xo{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ut{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(Fe.TRY_HARDER)!==void 0,r=e!=null&&e.get(Fe.PURE_BARCODE)!==void 0,s=this.image,a=s.getHeight(),u=s.getWidth();let c=Math.floor(3*a/(4*Ut.MAX_MODULES));(c<Ut.MIN_SKIP||t)&&(c=Ut.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let E=c-1;E<a&&!d;E+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let y=0;for(let B=0;B<u;B++)if(s.get(B,E))(y&1)===1&&y++,g[y]++;else if((y&1)===0)if(y===4)if(Ut.foundPatternCross(g)){if(this.handlePossibleCenter(g,E,B,r)===!0)if(c=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const S=this.findRowSkip();S>g[2]&&(E+=S-g[2]-c,B=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,y=3;continue}y=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,y=3;else g[++y]++;else g[y]++;Ut.foundPatternCross(g)&&this.handlePossibleCenter(g,E,u,r)===!0&&(c=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return he.orderBestPatterns(A),new Xo(A)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let a=0;a<5;a++){const u=e[a];if(u===0)return!1;t+=u}if(t<7)return!1;const r=t/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,s){const a=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;e>=u&&t>=u&&c.get(t-u,e-u);)a[2]++,u++;if(e<u||t<u)return!1;for(;e>=u&&t>=u&&!c.get(t-u,e-u)&&a[1]<=r;)a[1]++,u++;if(e<u||t<u||a[1]>r)return!1;for(;e>=u&&t>=u&&c.get(t-u,e-u)&&a[0]<=r;)a[0]++,u++;if(a[0]>r)return!1;const d=c.getHeight(),g=c.getWidth();for(u=1;e+u<d&&t+u<g&&c.get(t+u,e+u);)a[2]++,u++;if(e+u>=d||t+u>=g)return!1;for(;e+u<d&&t+u<g&&!c.get(t+u,e+u)&&a[3]<r;)a[3]++,u++;if(e+u>=d||t+u>=g||a[3]>=r)return!1;for(;e+u<d&&t+u<g&&c.get(t+u,e+u)&&a[4]<r;)a[4]++,u++;if(a[4]>=r)return!1;const A=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(A-s)<2*s&&Ut.foundPatternCross(a)}crossCheckVertical(e,t,r,s){const a=this.image,u=a.getHeight(),c=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(t,d);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(t,d)&&c[1]<=r;)c[1]++,d--;if(d<0||c[1]>r)return NaN;for(;d>=0&&a.get(t,d)&&c[0]<=r;)c[0]++,d--;if(c[0]>r)return NaN;for(d=e+1;d<u&&a.get(t,d);)c[2]++,d++;if(d===u)return NaN;for(;d<u&&!a.get(t,d)&&c[3]<r;)c[3]++,d++;if(d===u||c[3]>=r)return NaN;for(;d<u&&a.get(t,d)&&c[4]<r;)c[4]++,d++;if(c[4]>=r)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-s)>=2*s?NaN:Ut.foundPatternCross(c)?Ut.centerFromEnd(c,d):NaN}crossCheckHorizontal(e,t,r,s){const a=this.image,u=a.getWidth(),c=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(d,t);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(d,t)&&c[1]<=r;)c[1]++,d--;if(d<0||c[1]>r)return NaN;for(;d>=0&&a.get(d,t)&&c[0]<=r;)c[0]++,d--;if(c[0]>r)return NaN;for(d=e+1;d<u&&a.get(d,t);)c[2]++,d++;if(d===u)return NaN;for(;d<u&&!a.get(d,t)&&c[3]<r;)c[3]++,d++;if(d===u||c[3]>=r)return NaN;for(;d<u&&a.get(d,t)&&c[4]<r;)c[4]++,d++;if(c[4]>=r)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-s)>=s?NaN:Ut.foundPatternCross(c)?Ut.centerFromEnd(c,d):NaN}handlePossibleCenter(e,t,r,s){const a=e[0]+e[1]+e[2]+e[3]+e[4];let u=Ut.centerFromEnd(e,r),c=this.crossCheckVertical(t,Math.floor(u),e[2],a);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),e[2],a),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),e[2],a)))){const d=a/7;let g=!1;const A=this.possibleCenters;for(let E=0,y=A.length;E<y;E++){const B=A[E];if(B.aboutEquals(d,c,u)){A[E]=B.combineEstimate(c,u,d),g=!0;break}}if(!g){const E=new Rs(u,c,d);A.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=Ut.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Ut.CENTER_QUORUM&&(e++,t+=u.getEstimatedModuleSize());if(e<3)return!1;const s=t/r;let a=0;for(const u of this.possibleCenters)a+=Math.abs(u.getEstimatedModuleSize()-s);return a<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Z;const t=this.possibleCenters;let r;if(e>3){let s=0,a=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();s+=g,a+=g*g}r=s/e;let u=Math.sqrt(a/e-r*r);t.sort((d,g)=>{const A=Math.abs(g.getEstimatedModuleSize()-r),E=Math.abs(d.getEstimatedModuleSize()-r);return A<E?-1:A>E?1:0});const c=Math.max(.2*r,u);for(let d=0;d<t.length&&t.length>3;d++){const g=t[d];Math.abs(g.getEstimatedModuleSize()-r)>c&&(t.splice(d,1),d--)}}if(t.length>3){let s=0;for(const a of t)s+=a.getEstimatedModuleSize();r=s/t.length,t.sort((a,u)=>{if(u.getCount()===a.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-r),d=Math.abs(a.getEstimatedModuleSize()-r);return c<d?1:c>d?-1:0}else return u.getCount()-a.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Ut.CENTER_QUORUM=2,Ut.MIN_SKIP=3,Ut.MAX_MODULES=57;class vi{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Fe.NEED_RESULT_POINT_CALLBACK);const r=new Ut(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),a=this.calculateModuleSize(t,r,s);if(a<1)throw new Z("No pattern found in proccess finder.");const u=vi.computeDimension(t,r,s,a),c=Ce.getProvisionalVersionForDimension(u),d=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const B=r.getX()-t.getX()+s.getX(),I=r.getY()-t.getY()+s.getY(),S=1-3/d,N=Math.floor(t.getX()+S*(B-t.getX())),U=Math.floor(t.getY()+S*(I-t.getY()));for(let K=4;K<=16;K<<=1)try{g=this.findAlignmentInRegion(a,N,U,K);break}catch(q){if(!(q instanceof Z))throw q}}const A=vi.createTransform(t,r,s,g,u),E=vi.sampleGrid(this.image,A,u);let y;return g===null?y=[s,t,r]:y=[s,t,r,g],new Zn(E,y)}static createTransform(e,t,r,s,a){const u=a-3.5;let c,d,g,A;return s!==null?(c=s.getX(),d=s.getY(),g=u-3,A=g):(c=t.getX()-e.getX()+r.getX(),d=t.getY()-e.getY()+r.getY(),g=u,A=u),vn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,A,3.5,u,e.getX(),e.getY(),t.getX(),t.getY(),c,d,r.getX(),r.getY())}static sampleGrid(e,t,r){return hn.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,s){const a=Xe.round(he.distance(e,t)/s),u=Xe.round(he.distance(e,r)/s);let c=Math.floor((a+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new Z("Dimensions could be not found.")}return c}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,s){let a=this.sizeOfBlackWhiteBlackRun(e,t,r,s),u=1,c=e-(r-e);c<0?(u=e/(e-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let d=Math.floor(t-(s-t)*u);return u=1,d<0?(u=t/(t-d),d=0):d>=this.image.getHeight()&&(u=(this.image.getHeight()-1-t)/(d-t),d=this.image.getHeight()-1),c=Math.floor(e+(c-e)*u),a+=this.sizeOfBlackWhiteBlackRun(e,t,c,d),a-1}sizeOfBlackWhiteBlackRun(e,t,r,s){const a=Math.abs(s-t)>Math.abs(r-e);if(a){let B=e;e=t,t=B,B=r,r=s,s=B}const u=Math.abs(r-e),c=Math.abs(s-t);let d=-u/2;const g=e<r?1:-1,A=t<s?1:-1;let E=0;const y=r+g;for(let B=e,I=t;B!==y;B+=g){const S=a?I:B,N=a?B:I;if(E===1===this.image.get(S,N)){if(E===2)return Xe.distance(B,I,e,t);E++}if(d+=c,d>0){if(I===s)break;I+=A,d-=u}}return E===2?Xe.distance(r+g,s,e,t):NaN}findAlignmentInRegion(e,t,r,s){const a=Math.floor(s*e),u=Math.max(0,t-a),c=Math.min(this.image.getWidth()-1,t+a);if(c-u<e*3)throw new Z("Alignment top exceeds estimated module size.");const d=Math.max(0,r-a),g=Math.min(this.image.getHeight()-1,r+a);if(g-d<e*3)throw new Z("Alignment bottom exceeds estimated module size.");return new is(this.image,u,d,c-u,g-d,e,this.resultPointCallback).find()}}class Mr{constructor(){this.decoder=new Aa}getDecoder(){return this.decoder}decode(e,t){let r,s;if(t!=null&&t.get(Fe.PURE_BARCODE)!==void 0){const d=Mr.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(d,t),s=Mr.NO_POINTS}else{const d=new vi(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(d.getBits(),t),s=d.getPoints()}r.getOther()instanceof Ds&&r.getOther().applyMirroredCorrection(s);const a=new Zt(r.getText(),r.getRawBytes(),void 0,s,me.QR_CODE,void 0),u=r.getByteSegments();u!==null&&a.putMetadata(st.BYTE_SEGMENTS,u);const c=r.getECLevel();return c!==null&&a.putMetadata(st.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(a.putMetadata(st.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(st.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new Z;const s=this.moduleSize(t,e);let a=t[1],u=r[1],c=t[0],d=r[0];if(c>=d||a>=u)throw new Z;if(u-a!==d-c&&(d=c+(u-a),d>=e.getWidth()))throw new Z;const g=Math.round((d-c+1)/s),A=Math.round((u-a+1)/s);if(g<=0||A<=0)throw new Z;if(A!==g)throw new Z;const E=Math.floor(s/2);a+=E,c+=E;const y=c+Math.floor((g-1)*s)-d;if(y>0){if(y>E)throw new Z;c-=y}const B=a+Math.floor((A-1)*s)-u;if(B>0){if(B>E)throw new Z;a-=B}const I=new Nt(g,A);for(let S=0;S<A;S++){const N=a+Math.floor(S*s);for(let U=0;U<g;U++)e.get(c+Math.floor(U*s),N)&&I.set(U,S)}return I}static moduleSize(e,t){const r=t.getHeight(),s=t.getWidth();let a=e[0],u=e[1],c=!0,d=0;for(;a<s&&u<r;){if(c!==t.get(a,u)){if(++d===5)break;c=!c}a++,u++}if(a===s||u===r)throw new Z;return(a-e[0])/7}}Mr.NO_POINTS=new Array;class Te{PDF417Common(){}static getBitCountSum(e){return Xe.sum(e)}static toIntArray(e){if(e==null||!e.length)return Te.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const s of e)t[r++]=s;return t}static getCodeword(e){const t=Ee.binarySearch(Te.SYMBOL_TABLE,e&262143);return t<0?-1:(Te.CODEWORD_TABLE[t]-1)%Te.NUMBER_OF_CODEWORDS}}Te.NUMBER_OF_CODEWORDS=929,Te.MAX_CODEWORDS_IN_BARCODE=Te.NUMBER_OF_CODEWORDS-1,Te.MIN_ROWS_IN_BARCODE=3,Te.MAX_ROWS_IN_BARCODE=90,Te.MODULES_IN_CODEWORD=17,Te.MODULES_IN_STOP_PATTERN=18,Te.BARS_IN_MODULE=8,Te.EMPTY_INT_ARRAY=new Int32Array([]),Te.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Te.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Yo{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class We{static detectMultiple(e,t,r){let s=e.getBlackMatrix(),a=We.detect(r,s);return a.length||(s=s.clone(),s.rotate180(),a=We.detect(r,s)),new Yo(s,a)}static detect(e,t){const r=new Array;let s=0,a=0,u=!1;for(;s<t.getHeight();){const c=We.findVertices(t,s,a);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,a=0;for(const d of r)d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())));s+=We.ROW_STEP;continue}if(u=!0,r.push(c),!e)break;c[2]!=null?(a=Math.trunc(c[2].getX()),s=Math.trunc(c[2].getY())):(a=Math.trunc(c[4].getX()),s=Math.trunc(c[4].getY()))}return r}static findVertices(e,t,r){const s=e.getHeight(),a=e.getWidth(),u=new Array(8);return We.copyToResult(u,We.findRowsWithPattern(e,s,a,t,r,We.START_PATTERN),We.INDEXES_START_PATTERN),u[4]!=null&&(r=Math.trunc(u[4].getX()),t=Math.trunc(u[4].getY())),We.copyToResult(u,We.findRowsWithPattern(e,s,a,t,r,We.STOP_PATTERN),We.INDEXES_STOP_PATTERN),u}static copyToResult(e,t,r){for(let s=0;s<r.length;s++)e[r[s]]=t[s]}static findRowsWithPattern(e,t,r,s,a,u){const c=new Array(4);let d=!1;const g=new Int32Array(u.length);for(;s<t;s+=We.ROW_STEP){let E=We.findGuardPattern(e,a,s,r,!1,u,g);if(E!=null){for(;s>0;){const y=We.findGuardPattern(e,a,--s,r,!1,u,g);if(y!=null)E=y;else{s++;break}}c[0]=new he(E[0],s),c[1]=new he(E[1],s),d=!0;break}}let A=s+1;if(d){let E=0,y=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;A<t;A++){const B=We.findGuardPattern(e,y[0],A,r,!1,u,g);if(B!=null&&Math.abs(y[0]-B[0])<We.MAX_PATTERN_DRIFT&&Math.abs(y[1]-B[1])<We.MAX_PATTERN_DRIFT)y=B,E=0;else{if(E>We.SKIPPED_ROW_COUNT_MAX)break;E++}}A-=E+1,c[2]=new he(y[0],A),c[3]=new he(y[1],A)}return A-s<We.BARCODE_MIN_HEIGHT&&Ee.fill(c,null),c}static findGuardPattern(e,t,r,s,a,u,c){Ee.fillWithin(c,0,c.length,0);let d=t,g=0;for(;e.get(d,r)&&d>0&&g++<We.MAX_PIXEL_DRIFT;)d--;let A=d,E=0,y=u.length;for(let B=a;A<s;A++)if(e.get(A,r)!==B)c[E]++;else{if(E===y-1){if(We.patternMatchVariance(c,u,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return new Int32Array([d,A]);d+=c[0]+c[1],le.arraycopy(c,2,c,0,E-1),c[E-1]=0,c[E]=0,E--}else E++;c[E]=1,B=!B}return E===y-1&&We.patternMatchVariance(c,u,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE?new Int32Array([d,A-1]):null}static patternMatchVariance(e,t,r){let s=e.length,a=0,u=0;for(let g=0;g<s;g++)a+=e[g],u+=t[g];if(a<u)return 1/0;let c=a/u;r*=c;let d=0;for(let g=0;g<s;g++){let A=e[g],E=t[g]*c,y=A>E?A-E:E-A;if(y>r)return 1/0;d+=y}return d/a}}We.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),We.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),We.MAX_AVG_VARIANCE=.42,We.MAX_INDIVIDUAL_VARIANCE=.8,We.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),We.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),We.MAX_PIXEL_DRIFT=3,We.MAX_PATTERN_DRIFT=5,We.SKIPPED_ROW_COUNT_MAX=25,We.ROW_STEP=5,We.BARCODE_MIN_HEIGHT=10;class Qt{constructor(e,t){if(t.length===0)throw new V;this.field=e;let r=t.length;if(r>1&&t[0]===0){let s=1;for(;s<r&&t[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),le.arraycopy(t,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let a of this.coefficients)s=this.field.add(s,a);return s}let t=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)t=this.field.add(this.field.multiply(e,t),this.coefficients[s]);return t}add(e){if(!this.field.equals(e.field))throw new V("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let u=t;t=r,r=u}let s=new Int32Array(r.length),a=r.length-t.length;le.arraycopy(r,0,s,0,a);for(let u=a;u<r.length;u++)s[u]=this.field.add(t[u-a],r[u]);return new Qt(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new V("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Qt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new V("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Qt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,s=e.coefficients,a=s.length,u=new Int32Array(r+a-1);for(let c=0;c<r;c++){let d=t[c];for(let g=0;g<a;g++)u[c+g]=this.field.add(u[c+g],this.field.multiply(d,s[g]))}return new Qt(this.field,u)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Qt(this.field,t)}multiplyScalar(e){if(e===0)return new Qt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new Qt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new V;if(t===0)return new Qt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let a=0;a<r;a++)s[a]=this.field.multiply(this.coefficients[a],t);return new Qt(this.field,s)}toString(){let e=new Ke;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class zo{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new V;return this.logTable[e]}inverse(e){if(e===0)throw new Bn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ms extends zo{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*t%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Qt(this,new Int32Array([0])),this.one=new Qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new V;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Qt(this,r)}}Ms.PDF417_GF=new Ms(Te.NUMBER_OF_CODEWORDS,3);class Ca{constructor(){this.field=Ms.PDF417_GF}decode(e,t,r){let s=new Qt(this.field,e),a=new Int32Array(t),u=!1;for(let I=t;I>0;I--){let S=s.evaluateAt(this.field.exp(I));a[t-I]=S,S!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(r!=null)for(const I of r){let S=this.field.exp(e.length-1-I),N=new Qt(this.field,new Int32Array([this.field.subtract(0,S),1]));c=c.multiply(N)}let d=new Qt(this.field,a),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),d,t),A=g[0],E=g[1],y=this.findErrorLocations(A),B=this.findErrorMagnitudes(E,A,y);for(let I=0;I<y.length;I++){let S=e.length-1-this.field.log(y[I]);if(S<0)throw ue.getChecksumInstance();e[S]=this.field.subtract(e[S],B[I])}return y.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let y=e;e=t,t=y}let s=e,a=t,u=this.field.getZero(),c=this.field.getOne();for(;a.getDegree()>=Math.round(r/2);){let y=s,B=u;if(s=a,u=c,s.isZero())throw ue.getChecksumInstance();a=y;let I=this.field.getZero(),S=s.getCoefficient(s.getDegree()),N=this.field.inverse(S);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){let U=a.getDegree()-s.getDegree(),K=this.field.multiply(a.getCoefficient(a.getDegree()),N);I=I.add(this.field.buildMonomial(U,K)),a=a.subtract(s.multiplyByMonomial(U,K))}c=I.multiply(u).subtract(B).negative()}let d=c.getCoefficient(0);if(d===0)throw ue.getChecksumInstance();let g=this.field.inverse(d),A=c.multiply(g),E=a.multiply(g);return[A,E]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),s=0;for(let a=1;a<this.field.getSize()&&s<t;a++)e.evaluateAt(a)===0&&(r[s]=this.field.inverse(a),s++);if(s!==t)throw ue.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let s=t.getDegree(),a=new Int32Array(s);for(let g=1;g<=s;g++)a[s-g]=this.field.multiply(g,t.getCoefficient(g));let u=new Qt(this.field,a),c=r.length,d=new Int32Array(c);for(let g=0;g<c;g++){let A=this.field.inverse(r[g]),E=this.field.subtract(0,e.evaluateAt(A)),y=this.field.inverse(u.evaluateAt(A));d[g]=this.field.multiply(E,y)}return d}}class Yr{constructor(e,t,r,s,a){e instanceof Yr?this.constructor_2(e):this.constructor_1(e,t,r,s,a)}constructor_1(e,t,r,s,a){const u=t==null||r==null,c=s==null||a==null;if(u&&c)throw new Z;u?(t=new he(0,s.getY()),r=new he(0,a.getY())):c&&(s=new he(e.getWidth()-1,t.getY()),a=new he(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=s,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new Yr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let s=this.topLeft,a=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(e>0){let d=r?this.topLeft:this.topRight,g=Math.trunc(d.getY()-e);g<0&&(g=0);let A=new he(d.getX(),g);r?s=A:u=A}if(t>0){let d=r?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let A=new he(d.getX(),g);r?a=A:c=A}return new Yr(this.image,s,a,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class mt{constructor(e,t,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class lt{constructor(){this.buffer=""}static form(e,t){let r=-1;function s(u,c,d,g,A,E){if(u==="%%")return"%";if(t[++r]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let y=A?parseInt(A.substr(1)):void 0,B;switch(E){case"s":B=t[r];break;case"c":B=t[r][0];break;case"f":B=parseFloat(t[r]).toFixed(u);break;case"p":B=parseFloat(t[r]).toPrecision(u);break;case"e":B=parseFloat(t[r]).toExponential(u);break;case"x":B=parseInt(t[r]).toString(y||16);break;case"d":B=parseFloat(parseInt(t[r],y||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(y);let I=parseInt(d),S=d&&d[0]+""=="0"?"0":" ";for(;B.length<I;)B=c!==void 0?B+S:S+B;return B}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,s)}format(e,...t){this.buffer+=lt.form(e,t)}toString(){return this.buffer}}class Ti{constructor(e){this.boundingBox=new Yr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<Ti.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(t=this.codewords[s],t!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(t=this.codewords[s],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new lt;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}Ti.MAX_NEARBY_DISTANCE=5;class Si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,s]of this.values.entries()){const a={getKey:()=>r,getValue:()=>s};a.getValue()>e?(e=a.getValue(),t=[],t.push(a.getKey())):a.getValue()===e&&t.push(a.getKey())}return Te.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Ea extends Ti{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=-1,g=1,A=0;for(let E=u;E<c;E++){if(t[E]==null)continue;let y=t[E],B=y.getRowNumber()-d;if(B===0)A++;else if(B===1)g=Math.max(g,A),A=1,d=y.getRowNumber();else if(B<0||y.getRowNumber()>=e.getRowCount()||B>E)t[E]=null;else{let I;g>2?I=(g-2)*B:I=B;let S=I>=E;for(let N=1;N<=I&&!S;N++)S=t[E-N]!=null;S?t[E]=null:(d=y.getRowNumber(),A=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=t.length)continue;t[s]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),s=this._isLeft?t.getBottomLeft():t.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.getCodewords(),d=-1;for(let g=a;g<u;g++){if(c[g]==null)continue;let A=c[g];A.setRowNumberAsRowIndicatorColumn();let E=A.getRowNumber()-d;E===0||(E===1?d=A.getRowNumber():A.getRowNumber()>=e.getRowCount()?c[g]=null:d=A.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Si,r=new Si,s=new Si,a=new Si;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let d=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:r.setValue(d*3+1);break;case 1:a.setValue(d/3),s.setValue(d%3);break;case 2:t.setValue(d+1);break}}if(t.getValue().length===0||r.getValue().length===0||s.getValue().length===0||a.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Te.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Te.MAX_ROWS_IN_BARCODE)return null;let u=new mt(t.getValue()[0],r.getValue()[0],s.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let a=s.getValue()%30,u=s.getRowNumber();if(u>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:a*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(a/3)!==t.getErrorCorrectionLevel()||a%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:a+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Oi{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Te.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(t,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let s=t[r].getRowNumber(),a=0;for(let u=this.barcodeColumnCount+1;u>0&&a<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[r];c!=null&&(a=Oi.adjustRowNumberIfValid(s,a,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let s=t[r].getRowNumber(),a=0;for(let u=1;u<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[r];c!=null&&(a=Oi.adjustRowNumberIfValid(s,a,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let s=r[t],a=this.detectionResultColumns[e-1].getCodewords(),u=a;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=a[t],c[3]=u[t],t>0&&(c[0]=r[t-1],c[4]=a[t-1],c[5]=u[t-1]),t>1&&(c[8]=r[t-2],c[10]=a[t-2],c[11]=u[t-2]),t<r.length-1&&(c[1]=r[t+1],c[6]=a[t+1],c[7]=u[t+1]),t<r.length-2&&(c[9]=r[t+2],c[12]=a[t+2],c[13]=u[t+2]);for(let d of c)if(Oi.adjustRowNumber(s,d))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new lt;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){t.format("    |   ");continue}let a=this.detectionResultColumns[s].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()}}class Ni{constructor(e,t,r,s){this.rowNumber=Ni.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ni.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ni.BARCODE_ROW_UNKNOWN=-1;class Cn{static initialize(){for(let e=0;e<Te.SYMBOL_TABLE.length;e++){let t=Te.SYMBOL_TABLE[e],r=t&1;for(let s=0;s<Te.BARS_IN_MODULE;s++){let a=0;for(;(t&1)===r;)a+=1,t>>=1;r=t&1,Cn.RATIOS_TABLE[e]||(Cn.RATIOS_TABLE[e]=new Array(Te.BARS_IN_MODULE)),Cn.RATIOS_TABLE[e][Te.BARS_IN_MODULE-s-1]=Math.fround(a/Te.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Cn.getDecodedCodewordValue(Cn.sampleBitCounts(e));return t!==-1?t:Cn.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=Xe.sum(e),r=new Int32Array(Te.BARS_IN_MODULE),s=0,a=0;for(let u=0;u<Te.MODULES_IN_CODEWORD;u++){let c=t/(2*Te.MODULES_IN_CODEWORD)+u*t/Te.MODULES_IN_CODEWORD;a+e[s]<=c&&(a+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let t=Cn.getBitValue(e);return Te.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=Xe.sum(e),r=new Array(Te.BARS_IN_MODULE);if(t>1)for(let u=0;u<r.length;u++)r[u]=Math.fround(e[u]/t);let s=ar.MAX_VALUE,a=-1;this.bSymbolTableReady||Cn.initialize();for(let u=0;u<Cn.RATIOS_TABLE.length;u++){let c=0,d=Cn.RATIOS_TABLE[u];for(let g=0;g<Te.BARS_IN_MODULE;g++){let A=Math.fround(d[g]-r[g]);if(c+=Math.fround(A*A),c>=s)break}c<s&&(s=c,a=Te.SYMBOL_TABLE[u])}return a}}Cn.bSymbolTableReady=!1,Cn.RATIOS_TABLE=new Array(Te.SYMBOL_TABLE.length).map(C=>new Array(Te.BARS_IN_MODULE));class Bs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class _a{static parseLong(e,t=void 0){return parseInt(e,t)}}class Vt extends v{}Vt.kind="NullPointerException";class Ls{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new Vt;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new ie;if(r===0)return;for(let s=0;s<r;s++)this.write(e[t+s])}flush(){}close(){}}class zr extends v{}class ba extends Ls{constructor(e=32){if(super(),this.count=0,e<0)throw new V("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new zr;r=fe.MAX_VALUE}this.buf=Ee.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new ie;this.ensureCapacity(this.count+r),le.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ee.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ut;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ut||(ut={}));function Sn(){if(typeof window!="undefined")return window.BigInt||null;if(typeof kr!="undefined")return kr.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Di;function _r(C){if(typeof Di=="undefined"&&(Di=Sn()),Di===null)throw new Error("BigInt is not supported!");return Di(C)}function Ia(){let C=[];C[0]=_r(1);let e=_r(900);C[1]=e;for(let t=2;t<16;t++)C[t]=C[t-1]*e;return C}class z{static decode(e,t){let r=new Ke(""),s=ne.ISO8859_1;r.enableDecoding(s);let a=1,u=e[a++],c=new Bs;for(;a<e[0];){switch(u){case z.TEXT_COMPACTION_MODE_LATCH:a=z.textCompaction(e,a,r);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:a=z.byteCompaction(u,e,s,a,r);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:a=z.numericCompaction(e,a,r);break;case z.ECI_CHARSET:ne.getCharacterSetECIByValue(e[a++]);break;case z.ECI_GENERAL_PURPOSE:a+=2;break;case z.ECI_USER_DEFINED:a++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=z.decodeMacroBlock(e,a,c);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new te;default:a--,a=z.textCompaction(e,a,r);break}if(a<e.length)u=e[a++];else throw te.getFormatInstance()}if(r.length()===0)throw te.getFormatInstance();let d=new mn(null,r.toString(),null,t);return d.setOther(c),d}static decodeMacroBlock(e,t,r){if(t+z.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw te.getFormatInstance();let s=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<z.NUMBER_OF_SEQUENCE_CODEWORDS;c++,t++)s[c]=e[t];r.setSegmentIndex(fe.parseInt(z.decodeBase900toBase10(s,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new Ke;t=z.textCompaction(e,t,a),r.setFileId(a.toString());let u=-1;for(e[t]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Ke;t=z.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Ke;t=z.textCompaction(e,t+1,d),r.setSender(d.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Ke;t=z.textCompaction(e,t+1,g),r.setAddressee(g.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Ke;t=z.numericCompaction(e,t+1,A),r.setSegmentCount(fe.parseInt(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Ke;t=z.numericCompaction(e,t+1,E),r.setTimestamp(_a.parseLong(E.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new Ke;t=z.numericCompaction(e,t+1,y),r.setChecksum(fe.parseInt(y.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Ke;t=z.numericCompaction(e,t+1,B),r.setFileSize(_a.parseLong(B.toString()));break;default:throw te.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw te.getFormatInstance()}if(u!==-1){let c=t-u;r.isLastSegment()&&c--,r.setOptionalData(Ee.copyOfRange(e,u,u+c))}return t}static textCompaction(e,t,r){let s=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),u=0,c=!1;for(;t<e[0]&&!c;){let d=e[t++];if(d<z.TEXT_COMPACTION_MODE_LATCH)s[u]=d/30,s[u+1]=d%30,u+=2;else switch(d){case z.TEXT_COMPACTION_MODE_LATCH:s[u++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[t++],a[u]=d,u++;break}}return z.decodeTextCompaction(s,a,u,r),t}static decodeTextCompaction(e,t,r,s){let a=ut.ALPHA,u=ut.ALPHA,c=0;for(;c<r;){let d=e[c],g="";switch(a){case ut.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case z.LL:a=ut.LOWER;break;case z.ML:a=ut.MIXED;break;case z.PS:u=a,a=ut.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[c]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=ut.ALPHA;break}break;case ut.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case z.AS:u=a,a=ut.ALPHA_SHIFT;break;case z.ML:a=ut.MIXED;break;case z.PS:u=a,a=ut.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[c]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=ut.ALPHA;break}break;case ut.MIXED:if(d<z.PL)g=z.MIXED_CHARS[d];else switch(d){case z.PL:a=ut.PUNCT;break;case 26:g=" ";break;case z.LL:a=ut.LOWER;break;case z.AL:a=ut.ALPHA;break;case z.PS:u=a,a=ut.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[c]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=ut.ALPHA;break}break;case ut.PUNCT:if(d<z.PAL)g=z.PUNCT_CHARS[d];else switch(d){case z.PAL:a=ut.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[c]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=ut.ALPHA;break}break;case ut.ALPHA_SHIFT:if(a=u,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:a=ut.ALPHA;break}break;case ut.PUNCT_SHIFT:if(a=u,d<z.PAL)g=z.PUNCT_CHARS[d];else switch(d){case z.PAL:a=ut.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[c]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=ut.ALPHA;break}break}g!==""&&s.append(g),c++}}static byteCompaction(e,t,r,s,a){let u=new ba,c=0,d=0,g=!1;switch(e){case z.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),E=t[s++];for(;s<t[0]&&!g;)switch(A[c++]=E,d=900*d+E,E=t[s++],E){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:s--,g=!0;break;default:if(c%5===0&&c>0){for(let y=0;y<6;++y)u.write(Number(_r(d)>>_r(8*(5-y))));d=0,c=0}break}s===t[0]&&E<z.TEXT_COMPACTION_MODE_LATCH&&(A[c++]=E);for(let y=0;y<c;y++)u.write(A[y]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;s<t[0]&&!g;){let y=t[s++];if(y<z.TEXT_COMPACTION_MODE_LATCH)c++,d=900*d+y;else switch(y){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:s--,g=!0;break}if(c%5===0&&c>0){for(let B=0;B<6;++B)u.write(Number(_r(d)>>_r(8*(5-B))));d=0,c=0}}break}return a.append(rn.decode(u.toByteArray(),r)),s}static numericCompaction(e,t,r){let s=0,a=!1,u=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!a;){let c=e[t++];if(t===e[0]&&(a=!0),c<z.TEXT_COMPACTION_MODE_LATCH)u[s]=c,s++;else switch(c){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(s%z.MAX_NUMERIC_CODEWORDS===0||c===z.NUMERIC_COMPACTION_MODE_LATCH||a)&&s>0&&(r.append(z.decodeBase900toBase10(u,s)),s=0)}return t}static decodeBase900toBase10(e,t){let r=_r(0);for(let a=0;a<t;a++)r+=z.EXP900[t-a-1]*_r(e[a]);let s=r.toString();if(s.charAt(0)!=="1")throw new te;return s.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=Sn()?Ia():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ge{constructor(){}static decode(e,t,r,s,a,u,c){let d=new Yr(e,t,r,s,a),g=null,A=null,E;for(let I=!0;;I=!1){if(t!=null&&(g=Ge.getRowIndicatorColumn(e,d,t,!0,u,c)),s!=null&&(A=Ge.getRowIndicatorColumn(e,d,s,!1,u,c)),E=Ge.merge(g,A),E==null)throw Z.getNotFoundInstance();let S=E.getBoundingBox();if(I&&S!=null&&(S.getMinY()<d.getMinY()||S.getMaxY()>d.getMaxY()))d=S;else break}E.setBoundingBox(d);let y=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(y,A);let B=g!=null;for(let I=1;I<=y;I++){let S=B?I:y-I;if(E.getDetectionResultColumn(S)!==void 0)continue;let N;S===0||S===y?N=new Ea(d,S===0):N=new Ti(d),E.setDetectionResultColumn(S,N);let U=-1,K=U;for(let q=d.getMinY();q<=d.getMaxY();q++){if(U=Ge.getStartColumn(E,S,q,B),U<0||U>d.getMaxX()){if(K===-1)continue;U=K}let j=Ge.detectCodeword(e,d.getMinX(),d.getMaxX(),B,U,q,u,c);j!=null&&(N.setCodeword(q,j),K=U,u=Math.min(u,j.getWidth()),c=Math.max(c,j.getWidth()))}}return Ge.createDecoderResult(E)}static merge(e,t){if(e==null&&t==null)return null;let r=Ge.getBarcodeMetadata(e,t);if(r==null)return null;let s=Yr.merge(Ge.adjustBoundingBox(e),Ge.adjustBoundingBox(t));return new Oi(r,s)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=Ge.getMax(t),s=0;for(let c of t)if(s+=r-c,c>0)break;let a=e.getCodewords();for(let c=0;s>0&&a[c]==null;c++)s--;let u=0;for(let c=t.length-1;c>=0&&(u+=r-t[c],!(t[c]>0));c--);for(let c=a.length-1;u>0&&a[c]==null;c--)u--;return e.getBoundingBox().addMissingRows(s,u,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let s;return t==null||(s=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,s,a,u){let c=new Ea(t,s);for(let d=0;d<2;d++){let g=d===0?1:-1,A=Math.trunc(Math.trunc(r.getX()));for(let E=Math.trunc(Math.trunc(r.getY()));E<=t.getMaxY()&&E>=t.getMinY();E+=g){let y=Ge.detectCodeword(e,0,e.getWidth(),s,A,E,a,u);y!=null&&(c.setCodeword(E,y),s?A=y.getStartX():A=y.getEndX())}}return c}static adjustCodewordCount(e,t){let r=t[0][1],s=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ge.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(a<1||a>Te.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();r.setValue(a)}else s[0]!==a&&r.setValue(a)}static createDecoderResult(e){let t=Ge.createBarcodeMatrix(e);Ge.adjustCodewordCount(e,t);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],u=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let g=0;g<e.getBarcodeColumnCount();g++){let A=t[d][g+1].getValue(),E=d*e.getBarcodeColumnCount()+g;A.length===0?r.push(E):A.length===1?s[E]=A[0]:(u.push(E),a.push(A))}let c=new Array(a.length);for(let d=0;d<c.length;d++)c[d]=a[d];return Ge.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Te.toIntArray(r),Te.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(e,t,r,s,a){let u=new Int32Array(s.length),c=100;for(;c-- >0;){for(let d=0;d<u.length;d++)t[s[d]]=a[d][u[d]];try{return Ge.decodeCodewords(t,e,r)}catch(d){if(!(d instanceof ue))throw d}if(u.length===0)throw ue.getChecksumInstance();for(let d=0;d<u.length;d++)if(u[d]<a[d].length-1){u[d]++;break}else if(u[d]=0,d===u.length-1)throw ue.getChecksumInstance()}throw ue.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<t.length;s++)for(let a=0;a<t[s].length;a++)t[s][a]=new Si;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let a of s.getCodewords())if(a!=null){let u=a.getRowNumber();if(u>=0){if(u>=t.length)continue;t[u][r].setValue(a.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,s){let a=s?1:-1,u=null;if(Ge.isValidBarcodeColumn(e,t-a)&&(u=e.getDetectionResultColumn(t-a).getCodeword(r)),u!=null)return s?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(r),u!=null)return s?u.getStartX():u.getEndX();if(Ge.isValidBarcodeColumn(e,t-a)&&(u=e.getDetectionResultColumn(t-a).getCodewordNearby(r)),u!=null)return s?u.getEndX():u.getStartX();let c=0;for(;Ge.isValidBarcodeColumn(e,t-a);){t-=a;for(let d of e.getDetectionResultColumn(t).getCodewords())if(d!=null)return(s?d.getEndX():d.getStartX())+a*c*(d.getEndX()-d.getStartX());c++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,s,a,u,c,d){a=Ge.adjustCodewordStartColumn(e,t,r,s,a,u);let g=Ge.getModuleBitCount(e,t,r,s,a,u);if(g==null)return null;let A,E=Xe.sum(g);if(s)A=a+E;else{for(let I=0;I<g.length/2;I++){let S=g[I];g[I]=g[g.length-1-I],g[g.length-1-I]=S}A=a,a=A-E}if(!Ge.checkCodewordSkew(E,c,d))return null;let y=Cn.getDecodedValue(g),B=Te.getCodeword(y);return B===-1?null:new Ni(a,A,Ge.getCodewordBucketNumber(y),B)}static getModuleBitCount(e,t,r,s,a,u){let c=a,d=new Int32Array(8),g=0,A=s?1:-1,E=s;for(;(s?c<r:c>=t)&&g<d.length;)e.get(c,u)===E?(d[g]++,c+=A):(g++,E=!E);return g===d.length||c===(s?r:t)&&g===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,s,a,u){let c=a,d=s?-1:1;for(let g=0;g<2;g++){for(;(s?c>=t:c<r)&&s===e.get(c,u);){if(Math.abs(a-c)>Ge.CODEWORD_SKEW_SIZE)return a;c+=d}d=-d,s=!s}return c}static checkCodewordSkew(e,t,r){return t-Ge.CODEWORD_SKEW_SIZE<=e&&e<=r+Ge.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw te.getFormatInstance();let s=1<<t+1,a=Ge.correctErrors(e,r,s);Ge.verifyCodewordCount(e,s);let u=z.decode(e,""+t);return u.setErrorsCorrected(a),u.setErasures(r.length),u}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+Ge.MAX_ERRORS||r<0||r>Ge.MAX_EC_CODEWORDS)throw ue.getChecksumInstance();return Ge.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw te.getFormatInstance();let r=e[0];if(r>e.length)throw te.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw te.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,s=t.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)t[s]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ge.getCodewordBucketNumber(Ge.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new lt;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let a=e[r][s];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()}}Ge.CODEWORD_SKEW_SIZE=2,Ge.MAX_ERRORS=3,Ge.MAX_EC_CODEWORDS=512,Ge.errorCorrection=new Ca;class Xt{decode(e,t=null){let r=Xt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw Z.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return Xt.decode(e,t,!0)}catch(r){throw r instanceof te||r instanceof ue?Z.getNotFoundInstance():r}}static decode(e,t,r){const s=new Array,a=We.detectMultiple(e,t,r);for(const u of a.getPoints()){const c=Ge.decode(a.getBits(),u[4],u[5],u[6],u[7],Xt.getMinCodewordWidth(u),Xt.getMaxCodewordWidth(u)),d=new Zt(c.getText(),c.getRawBytes(),void 0,u,me.PDF_417);d.putMetadata(st.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&d.putMetadata(st.PDF417_EXTRA_METADATA,g),s.push(d)}return s.map(u=>u)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?fe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Xt.getMaxWidth(e[0],e[4]),Xt.getMaxWidth(e[6],e[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.max(Xt.getMaxWidth(e[1],e[5]),Xt.getMaxWidth(e[7],e[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Xt.getMinWidth(e[0],e[4]),Xt.getMinWidth(e[6],e[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.min(Xt.getMinWidth(e[1],e[5]),Xt.getMinWidth(e[7],e[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))}reset(){}}class an extends v{}an.kind="ReaderException";class ya{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!w(e)&&e.get(Fe.TRY_HARDER)===!0,r=w(e)?null:e.get(Fe.POSSIBLE_FORMATS),s=new Array;if(!w(r)){const a=r.some(u=>u===me.UPC_A||u===me.UPC_E||u===me.EAN_13||u===me.EAN_8||u===me.CODABAR||u===me.CODE_39||u===me.CODE_93||u===me.CODE_128||u===me.ITF||u===me.RSS_14||u===me.RSS_EXPANDED);a&&!t&&s.push(new Xr(e,this.verbose)),r.includes(me.QR_CODE)&&s.push(new Mr),r.includes(me.DATA_MATRIX)&&s.push(new jn),r.includes(me.AZTEC)&&s.push(new Dr),r.includes(me.PDF_417)&&s.push(new Xt),a&&t&&s.push(new Xr(e,this.verbose))}s.length===0&&(t||s.push(new Xr(e,this.verbose)),s.push(new Mr),s.push(new jn),s.push(new Dr),s.push(new Xt),t&&s.push(new Xr(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new an("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof an)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Wn extends Ar{constructor(e=null,t=500){const r=new ya;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ko extends Ar{constructor(e=500){super(new Xt,e)}}class va extends Ar{constructor(e=500){super(new Mr,e)}}var fr;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(fr||(fr={}));var Tt=fr;class Ri{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Mt(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const s=this.field;for(let a=t.length;a<=e;a++){const u=r.multiply(new Mt(s,Int32Array.from([1,s.exp(a-1+s.getGeneratorBase())])));t.push(u),r=u}}return t[e]}encode(e,t){if(t===0)throw new V("No error correction bytes");const r=e.length-t;if(r<=0)throw new V("No data bytes provided");const s=this.buildGenerator(t),a=new Int32Array(r);le.arraycopy(e,0,a,0,r);let u=new Mt(this.field,a);u=u.multiplyByMonomial(t,1);const d=u.divide(s)[1].getCoefficients(),g=t-d.length;for(let A=0;A<g;A++)e[r+A]=0;le.arraycopy(d,0,e,r+g,d.length)}}class Le{constructor(){}static applyMaskPenaltyRule1(e){return Le.applyMaskPenaltyRule1Internal(e,!0)+Le.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),s=e.getWidth(),a=e.getHeight();for(let u=0;u<a-1;u++){const c=r[u];for(let d=0;d<s-1;d++){const g=c[d];g===c[d+1]&&g===r[u+1][d]&&g===r[u+1][d+1]&&t++}}return Le.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),s=e.getWidth(),a=e.getHeight();for(let u=0;u<a;u++)for(let c=0;c<s;c++){const d=r[u];c+6<s&&d[c]===1&&d[c+1]===0&&d[c+2]===1&&d[c+3]===1&&d[c+4]===1&&d[c+5]===0&&d[c+6]===1&&(Le.isWhiteHorizontal(d,c-4,c)||Le.isWhiteHorizontal(d,c+7,c+11))&&t++,u+6<a&&r[u][c]===1&&r[u+1][c]===0&&r[u+2][c]===1&&r[u+3][c]===1&&r[u+4][c]===1&&r[u+5][c]===0&&r[u+6][c]===1&&(Le.isWhiteVertical(r,c,u-4,u)||Le.isWhiteVertical(r,c,u+7,u+11))&&t++}return t*Le.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let s=t;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,t,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let a=r;a<s;a++)if(e[a][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),s=e.getWidth(),a=e.getHeight();for(let d=0;d<a;d++){const g=r[d];for(let A=0;A<s;A++)g[A]===1&&t++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-u)*10/u)*Le.N4}static getDataMaskBit(e,t,r){let s,a;switch(e){case 0:s=r+t&1;break;case 1:s=r&1;break;case 2:s=t%3;break;case 3:s=(r+t)%3;break;case 4:s=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,s=(a&1)+a%3;break;case 6:a=r*t,s=(a&1)+a%3&1;break;case 7:a=r*t,s=a%3+(r+t&1)&1;break;default:throw new V("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const s=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),u=e.getArray();for(let c=0;c<s;c++){let d=0,g=-1;for(let A=0;A<a;A++){const E=t?u[c][A]:u[A][c];E===g?d++:(d>=5&&(r+=Le.N1+(d-5)),d=1,g=E)}d>=5&&(r+=Le.N1+(d-5))}return r}}Le.N1=3,Le.N2=3,Le.N3=40,Le.N4=10;class Jn{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let s=0;s!==t;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)Ee.fill(t,e)}equals(e){if(!(e instanceof Jn))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,s=this.height;r<s;++r){const a=this.bytes[r],u=t.bytes[r];for(let c=0,d=this.width;c<d;++c)if(a[c]!==u[c])return!1}return!0}toString(){const e=new Ke;for(let t=0,r=this.height;t<r;++t){const s=this.bytes[t];for(let a=0,u=this.width;a<u;++a)switch(s[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<br.NUM_MASK_PATTERNS}}br.NUM_MASK_PATTERNS=8;class pt extends v{}pt.kind="WriterException";class Ie{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,s,a){Ie.clearMatrix(a),Ie.embedBasicPatterns(r,a),Ie.embedTypeInfo(t,s,a),Ie.maybeEmbedVersionInfo(r,a),Ie.embedDataBits(e,s,a)}static embedBasicPatterns(e,t){Ie.embedPositionDetectionPatternsAndSeparators(t),Ie.embedDarkDotAtLeftBottomCorner(t),Ie.maybeEmbedPositionAdjustmentPatterns(e,t),Ie.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const s=new _e;Ie.makeTypeInfoBits(e,t,s);for(let a=0,u=s.getSize();a<u;++a){const c=s.get(s.getSize()-1-a),d=Ie.TYPE_INFO_COORDINATES[a],g=d[0],A=d[1];if(r.setBoolean(g,A,c),a<8){const E=r.getWidth()-a-1,y=8;r.setBoolean(E,y,c)}else{const y=r.getHeight()-7+(a-8);r.setBoolean(8,y,c)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new _e;Ie.makeVersionInfoBits(e,r);let s=6*3-1;for(let a=0;a<6;++a)for(let u=0;u<3;++u){const c=r.get(s);s--,t.setBoolean(a,t.getHeight()-11+u,c),t.setBoolean(t.getHeight()-11+u,a,c)}}static embedDataBits(e,t,r){let s=0,a=-1,u=r.getWidth()-1,c=r.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<r.getHeight();){for(let d=0;d<2;++d){const g=u-d;if(!Ie.isEmpty(r.get(g,c)))continue;let A;s<e.getSize()?(A=e.get(s),++s):A=!1,t!==255&&Le.getDataMaskBit(t,g,c)&&(A=!A),r.setBoolean(g,c,A)}c+=a}a=-a,c+=a,u-=2}if(s!==e.getSize())throw new pt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-fe.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new V("0 polynomial");const r=Ie.findMSBSet(t);for(e<<=r-1;Ie.findMSBSet(e)>=r;)e^=t<<Ie.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!br.isValidMaskPattern(t))throw new pt("Invalid mask pattern");const s=e.getBits()<<3|t;r.appendBits(s,5);const a=Ie.calculateBCHCode(s,Ie.TYPE_INFO_POLY);r.appendBits(a,10);const u=new _e;if(u.appendBits(Ie.TYPE_INFO_MASK_PATTERN,15),r.xor(u),r.getSize()!==15)throw new pt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Ie.calculateBCHCode(e.getVersionNumber(),Ie.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new pt("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Ie.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Ie.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new pt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let s=0;s<8;++s){if(!Ie.isEmpty(r.get(e+s,t)))throw new pt;r.setNumber(e+s,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let s=0;s<7;++s){if(!Ie.isEmpty(r.get(e,t+s)))throw new pt;r.setNumber(e,t+s,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let s=0;s<5;++s){const a=Ie.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)r.setNumber(e+u,t+s,a[u])}}static embedPositionDetectionPattern(e,t,r){for(let s=0;s<7;++s){const a=Ie.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)r.setNumber(e+u,t+s,a[u])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Ie.POSITION_DETECTION_PATTERN[0].length;Ie.embedPositionDetectionPattern(0,0,e),Ie.embedPositionDetectionPattern(e.getWidth()-t,0,e),Ie.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Ie.embedHorizontalSeparationPattern(0,r-1,e),Ie.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ie.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Ie.embedVerticalSeparationPattern(s,0,e),Ie.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Ie.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let a=0,u=s.length;a!==u;a++){const c=s[a];if(c>=0)for(let d=0;d!==u;d++){const g=s[d];g>=0&&Ie.isEmpty(t.get(g,c))&&Ie.embedPositionAdjustmentPattern(g-2,c-2,t)}}}}Ie.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ie.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ie.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ie.VERSION_INFO_POLY=7973,Ie.TYPE_INFO_POLY=1335,Ie.TYPE_INFO_MASK_PATTERN=21522;class Zo{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class At{constructor(){}static calculateMaskPenalty(e){return Le.applyMaskPenaltyRule1(e)+Le.applyMaskPenaltyRule2(e)+Le.applyMaskPenaltyRule3(e)+Le.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let s=At.DEFAULT_BYTE_MODE_ENCODING;const a=r!==null&&r.get(Tt.CHARACTER_SET)!==void 0;a&&(s=r.get(Tt.CHARACTER_SET).toString());const u=this.chooseMode(e,s),c=new _e;if(u===be.BYTE&&(a||At.DEFAULT_BYTE_MODE_ENCODING!==s)){const q=ne.getCharacterSetECIByName(s);q!==void 0&&this.appendECI(q,c)}this.appendModeInfo(u,c);const d=new _e;this.appendBytes(e,u,d,s);let g;if(r!==null&&r.get(Tt.QR_VERSION)!==void 0){const q=Number.parseInt(r.get(Tt.QR_VERSION).toString(),10);g=Ce.getVersionForNumber(q);const j=this.calculateBitsNeeded(u,c,d,g);if(!this.willFit(j,g,t))throw new pt("Data too big for requested version")}else g=this.recommendVersion(t,u,c,d);const A=new _e;A.appendBitArray(c);const E=u===be.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(E,g,u,A),A.appendBitArray(d);const y=g.getECBlocksForLevel(t),B=g.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(B,A);const I=this.interleaveWithECBytes(A,g.getTotalCodewords(),B,y.getNumBlocks()),S=new br;S.setECLevel(t),S.setMode(u),S.setVersion(g);const N=g.getDimensionForVersion(),U=new Jn(N,N),K=this.chooseMaskPattern(I,t,g,U);return S.setMaskPattern(K),Ie.buildMatrix(I,t,g,K,U),S.setMatrix(U),S}static recommendVersion(e,t,r,s){const a=this.calculateBitsNeeded(t,r,s,Ce.getVersionForNumber(1)),u=this.chooseVersion(a,e),c=this.calculateBitsNeeded(t,r,s,u);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,t,r,s){return t.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<At.ALPHANUMERIC_TABLE.length?At.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(ne.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return be.KANJI;let r=!1,s=!1;for(let a=0,u=e.length;a<u;++a){const c=e.charAt(a);if(At.isDigit(c))r=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)s=!0;else return be.BYTE}return s?be.ALPHANUMERIC:r?be.NUMERIC:be.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=rn.encode(e,ne.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const a=t[s]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(e,t,r,s){let a=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<br.NUM_MASK_PATTERNS;c++){Ie.buildMatrix(e,t,r,c,s);let d=this.calculateMaskPenalty(s);d<a&&(a=d,u=c)}return u}static chooseVersion(e,t){for(let r=1;r<=40;r++){const s=Ce.getVersionForNumber(r);if(At.willFit(e,s,t))return s}throw new pt("Data too big")}static willFit(e,t,r){const s=t.getTotalCodewords(),u=t.getECBlocksForLevel(r).getTotalECCodewords(),c=s-u,d=(e+7)/8;return c>=d}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new pt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let u=0;u<4&&t.getSize()<r;++u)t.appendBit(!1);const s=t.getSize()&7;if(s>0)for(let u=s;u<8;u++)t.appendBit(!1);const a=e-t.getSizeInBytes();for(let u=0;u<a;++u)t.appendBits((u&1)===0?236:17,8);if(t.getSize()!==r)throw new pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,s,a,u){if(s>=r)throw new pt("Block ID too large");const c=e%r,d=r-c,g=Math.floor(e/r),A=g+1,E=Math.floor(t/r),y=E+1,B=g-E,I=A-y;if(B!==I)throw new pt("EC bytes mismatch");if(r!==d+c)throw new pt("RS blocks mismatch");if(e!==(E+B)*d+(y+I)*c)throw new pt("Total bytes mismatch");s<d?(a[0]=E,u[0]=B):(a[0]=y,u[0]=I)}static interleaveWithECBytes(e,t,r,s){if(e.getSizeInBytes()!==r)throw new pt("Number of bits and data bytes does not match");let a=0,u=0,c=0;const d=new Array;for(let A=0;A<s;++A){const E=new Int32Array(1),y=new Int32Array(1);At.getNumDataBytesAndNumECBytesForBlockID(t,r,s,A,E,y);const B=E[0],I=new Uint8Array(B);e.toBytes(8*a,I,0,B);const S=At.generateECBytes(I,y[0]);d.push(new Zo(I,S)),u=Math.max(u,B),c=Math.max(c,S.length),a+=E[0]}if(r!==a)throw new pt("Data bytes does not match offset");const g=new _e;for(let A=0;A<u;++A)for(const E of d){const y=E.getDataBytes();A<y.length&&g.appendBits(y[A],8)}for(let A=0;A<c;++A)for(const E of d){const y=E.getErrorCorrectionBytes();A<y.length&&g.appendBits(y[A],8)}if(t!==g.getSizeInBytes())throw new pt("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const r=e.length,s=new Int32Array(r+t);for(let u=0;u<r;u++)s[u]=e[u]&255;new Ri(Qe.QR_CODE_FIELD_256).encode(s,t);const a=new Uint8Array(t);for(let u=0;u<t;u++)a[u]=s[r+u];return a}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,s){const a=r.getCharacterCountBits(t);if(e>=1<<a)throw new pt(e+" is bigger than "+((1<<a)-1));s.appendBits(e,a)}static appendBytes(e,t,r,s){switch(t){case be.NUMERIC:At.appendNumericBytes(e,r);break;case be.ALPHANUMERIC:At.appendAlphanumericBytes(e,r);break;case be.BYTE:At.append8BitBytes(e,r,s);break;case be.KANJI:At.appendKanjiBytes(e,r);break;default:throw new pt("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=At.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let s=0;for(;s<r;){const a=At.getDigit(e.charAt(s));if(s+2<r){const u=At.getDigit(e.charAt(s+1)),c=At.getDigit(e.charAt(s+2));t.appendBits(a*100+u*10+c,10),s+=3}else if(s+1<r){const u=At.getDigit(e.charAt(s+1));t.appendBits(a*10+u,7),s+=2}else t.appendBits(a,4),s++}}static appendAlphanumericBytes(e,t){const r=e.length;let s=0;for(;s<r;){const a=At.getAlphanumericCode(e.charCodeAt(s));if(a===-1)throw new pt;if(s+1<r){const u=At.getAlphanumericCode(e.charCodeAt(s+1));if(u===-1)throw new pt;t.appendBits(a*45+u,11),s+=2}else t.appendBits(a,6),s++}}static append8BitBytes(e,t,r){let s;try{s=rn.encode(e,r)}catch(a){throw new pt(a)}for(let a=0,u=s.length;a!==u;a++){const c=s[a];t.appendBits(c,8)}}static appendKanjiBytes(e,t){let r;try{r=rn.encode(e,ne.SJIS)}catch(a){throw new pt(a)}const s=r.length;for(let a=0;a<s;a+=2){const u=r[a]&255,c=r[a+1]&255,d=u<<8&4294967295|c;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new pt("Invalid byte sequence");const A=(g>>8)*192+(g&255);t.appendBits(A,13)}}static appendECI(e,t){t.appendBits(be.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}At.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),At.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class Kr{write(e,t,r,s=null){if(e.length===0)throw new V("Found empty contents");if(t<0||r<0)throw new V("Requested dimensions are too small: "+t+"x"+r);let a=xt.L,u=Kr.QUIET_ZONE_SIZE;s!==null&&(s.get(Tt.ERROR_CORRECTION)!==void 0&&(a=xt.fromString(s.get(Tt.ERROR_CORRECTION).toString())),s.get(Tt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(Tt.MARGIN).toString(),10)));const c=At.encode(e,a,s);return this.renderResult(c,t,r,u)}writeToDom(e,t,r,s,a=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(t,r,s,a);e&&e.appendChild(u)}renderResult(e,t,r,s){const a=e.getMatrix();if(a===null)throw new qt;const u=a.getWidth(),c=a.getHeight(),d=u+s*2,g=c+s*2,A=Math.max(t,d),E=Math.max(r,g),y=Math.min(Math.floor(A/d),Math.floor(E/g)),B=Math.floor((A-u*y)/2),I=Math.floor((E-c*y)/2),S=this.createSVGElement(A,E);for(let N=0,U=I;N<c;N++,U+=y)for(let K=0,q=B;K<u;K++,q+=y)if(a.get(K,N)===1){const j=this.createSvgRectElement(q,U,y,y);S.appendChild(j)}return S}createSVGElement(e,t){const r=document.createElementNS(Kr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,s){const a=document.createElementNS(Kr.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",t.toString()),a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",s.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Kr.QUIET_ZONE_SIZE=4,Kr.SVG_NS="http://www.w3.org/2000/svg";class Zr{encode(e,t,r,s,a){if(e.length===0)throw new V("Found empty contents");if(t!==me.QR_CODE)throw new V("Can only encode QR_CODE, but got "+t);if(r<0||s<0)throw new V(`Requested dimensions are too small: ${r}x${s}`);let u=xt.L,c=Zr.QUIET_ZONE_SIZE;a!==null&&(a.get(Tt.ERROR_CORRECTION)!==void 0&&(u=xt.fromString(a.get(Tt.ERROR_CORRECTION).toString())),a.get(Tt.MARGIN)!==void 0&&(c=Number.parseInt(a.get(Tt.MARGIN).toString(),10)));const d=At.encode(e,u,a);return Zr.renderResult(d,r,s,c)}static renderResult(e,t,r,s){const a=e.getMatrix();if(a===null)throw new qt;const u=a.getWidth(),c=a.getHeight(),d=u+s*2,g=c+s*2,A=Math.max(t,d),E=Math.max(r,g),y=Math.min(Math.floor(A/d),Math.floor(E/g)),B=Math.floor((A-u*y)/2),I=Math.floor((E-c*y)/2),S=new Nt(A,E);for(let N=0,U=I;N<c;N++,U+=y)for(let K=0,q=B;K<u;K++,q+=y)a.get(K,N)===1&&S.setRegion(q,U,y,y);return S}}Zr.QUIET_ZONE_SIZE=4;class ss{encode(e,t,r,s,a){let u;switch(t){case me.QR_CODE:u=new Zr;break;default:throw new V("No encoder available for format "+t)}return u.encode(e,t,r,s,a)}}class dn extends cn{constructor(e,t,r,s,a,u,c,d){if(super(u,c),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=s,this.top=a,s+u>t||a+c>r)throw new V("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(u,c)}getRow(e,t){if(e<0||e>=this.getHeight())throw new V("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return le.arraycopy(this.yuvData,s,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,s=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return le.arraycopy(this.yuvData,a,s,0,r),s;for(let u=0;u<t;u++){const c=u*e;le.arraycopy(this.yuvData,a,s,c,e),a+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,t,r,s){return new dn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,s,!1)}renderThumbnail(){const e=this.getWidth()/dn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/dn.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),s=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let u=0;u<t;u++){const c=u*e;for(let d=0;d<e;d++){const g=s[a+d*dn.THUMBNAIL_SCALE_FACTOR]&255;r[c+d]=4278190080|g*65793}a+=this.dataWidth*dn.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/dn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/dn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let s=0,a=this.top*this.dataWidth+this.left;s<t;s++,a+=this.dataWidth){const u=a+e/2;for(let c=a,d=a+e-1;c<u;c++,d--){const g=r[c];r[c]=r[d],r[d]=g}}}invert(){return new Kn(this)}}dn.THUMBNAIL_SCALE_FACTOR=2;class Ps extends cn{constructor(e,t,r,s,a,u,c){if(super(t,r),this.dataWidth=s,this.dataHeight=a,this.left=u,this.top=c,e.BYTES_PER_ELEMENT===4){const d=t*r,g=new Uint8ClampedArray(d);for(let A=0;A<d;A++){const E=e[A],y=E>>16&255,B=E>>7&510,I=E&255;g[A]=(y+B+I)/4&255}this.luminances=g}else this.luminances=e;if(s===void 0&&(this.dataWidth=t),a===void 0&&(this.dataHeight=r),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new V("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new V("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return le.arraycopy(this.luminances,s,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,s=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return le.arraycopy(this.luminances,a,s,0,r),s;for(let u=0;u<t;u++){const c=u*e;le.arraycopy(this.luminances,a,s,c,e),a+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,t,r,s){return new Ps(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Kn(this)}}class Fs extends ne{static forName(e){return this.getCharacterSetECIByName(e)}}class as{}as.ISO_8859_1=ne.ISO8859_1;class os{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ls{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Ta{constructor(e){this.previous=e}getPrevious(){return this.previous}}class hi extends Ta{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new hi(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hi(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+fe.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Mi extends hi{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new Mi(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ks(C,e,t){return new Mi(C,e,t)}function Bi(C,e,t){return new hi(C,e,t)}const Sa=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ft=0,di=1,on=2,Us=3,Qn=4,qo=new hi(null,0,0),Ws=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function jo(C){for(let e of C)Ee.fill(e,-1);return C[Ft][Qn]=0,C[di][Qn]=0,C[di][Ft]=28,C[Us][Qn]=0,C[on][Qn]=0,C[on][Ft]=15,C}const Oa=jo(Ee.createInt32Array(6,6));class hr{constructor(e,t,r,s){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,s=this.token;if(e!==this.mode){let u=Ws[this.mode][e];s=Bi(s,u&65535,u>>16),r+=u>>16}let a=e===on?4:5;return s=Bi(s,t,a),new hr(s,e,0,r+a)}shiftAndAppend(e,t){let r=this.token,s=this.mode===on?4:5;return r=Bi(r,Oa[this.mode][e],s),r=Bi(r,t,5),new hr(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,s=this.bitCount;if(this.mode===Qn||this.mode===on){let c=Ws[r][Ft];t=Bi(t,c&65535,c>>16),s+=c>>16,r=Ft}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new hr(t,r,this.binaryShiftByteCount+1,s+a);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=ks(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new hr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Ws[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=hr.calculateBinaryShiftCost(e)-hr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())t.unshift(s);let r=new _e;for(const s of t)s.appendTo(r,e);return r}toString(){return ve.format("%s bits=%d bytes=%d",Sa[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}hr.INITIAL_STATE=new hr(qo,Ft,0,0);function gi(C){const e=ve.getCharCode(" "),t=ve.getCharCode("."),r=ve.getCharCode(",");C[Ft][e]=1;const s=ve.getCharCode("Z"),a=ve.getCharCode("A");for(let y=a;y<=s;y++)C[Ft][y]=y-a+2;C[di][e]=1;const u=ve.getCharCode("z"),c=ve.getCharCode("a");for(let y=c;y<=u;y++)C[di][y]=y-c+2;C[on][e]=1;const d=ve.getCharCode("9"),g=ve.getCharCode("0");for(let y=g;y<=d;y++)C[on][y]=y-g+2;C[on][r]=12,C[on][t]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let y=0;y<A.length;y++)C[Us][ve.getCharCode(A[y])]=y;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<E.length;y++)ve.getCharCode(E[y])>0&&(C[Qn][ve.getCharCode(E[y])]=y);return C}const Hs=gi(Ee.createInt32Array(5,256));class Li{constructor(e){this.text=e}encode(){const e=ve.getCharCode(" "),t=ve.getCharCode(`
`);let r=ls.singletonList(hr.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let u,c=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ve.getCharCode("\r"):u=c===t?2:0;break;case ve.getCharCode("."):u=c===e?3:0;break;case ve.getCharCode(","):u=c===e?4:0;break;case ve.getCharCode(":"):u=c===e?5:0;break;default:u=0}u>0?(r=Li.updateStateListForPair(r,a,u),a++):r=this.updateStateListForChar(r,a)}return ls.min(r,(a,u)=>a.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let s of e)this.updateStateForChar(s,t,r);return Li.simplifyStates(r)}updateStateForChar(e,t,r){let s=this.text[t]&255,a=Hs[e.getMode()][s]>0,u=null;for(let c=0;c<=Qn;c++){let d=Hs[c][s];if(d>0){if(u==null&&(u=e.endBinaryShift(t)),!a||c===e.getMode()||c===on){const g=u.latchAndAppend(c,d);r.push(g)}if(!a&&Oa[e.getMode()][c]>=0){const g=u.shiftAndAppend(c,d);r.push(g)}}}if(e.getBinaryShiftByteCount()>0||Hs[e.getMode()][s]===0){let c=e.addBinaryShiftChar(t);r.push(c)}}static updateStateListForPair(e,t,r){const s=[];for(let a of e)this.updateStateForPair(a,t,r,s);return this.simplifyStates(s)}static updateStateForPair(e,t,r,s){let a=e.endBinaryShift(t);if(s.push(a.latchAndAppend(Qn,r)),e.getMode()!==Qn&&s.push(a.shiftAndAppend(Qn,r)),r===3||r===4){let u=a.latchAndAppend(on,16-r).latchAndAppend(on,1);s.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);s.push(u)}}static simplifyStates(e){let t=[];for(const r of e){let s=!0;for(const a of t){if(a.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(a)&&(t=t.filter(u=>u!==a))}s&&t.push(r)}return t}}class je{constructor(){}static encodeBytes(e){return je.encode(e,je.DEFAULT_EC_PERCENT,je.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let s=new Li(e).encode(),a=fe.truncDivision(s.getSize()*t,100)+11,u=s.getSize()+a,c,d,g,A,E;if(r!==je.DEFAULT_AZTEC_LAYERS){if(c=r<0,d=Math.abs(r),d>(c?je.MAX_NB_BITS_COMPACT:je.MAX_NB_BITS))throw new V(ve.format("Illegal value %s for layers",r));g=je.totalBitsInLayer(d,c),A=je.WORD_SIZE[d];let j=g-g%A;if(E=je.stuffBits(s,A),E.getSize()+a>j)throw new V("Data to large for user specified layer");if(c&&E.getSize()>A*64)throw new V("Data to large for user specified layer")}else{A=0,E=null;for(let j=0;;j++){if(j>je.MAX_NB_BITS)throw new V("Data too large for an Aztec code");if(c=j<=3,d=c?j+1:j,g=je.totalBitsInLayer(d,c),u>g)continue;(E==null||A!==je.WORD_SIZE[d])&&(A=je.WORD_SIZE[d],E=je.stuffBits(s,A));let we=g-g%A;if(!(c&&E.getSize()>A*64)&&E.getSize()+a<=we)break}}let y=je.generateCheckWords(E,g,A),B=E.getSize()/A,I=je.generateModeMessage(c,d,B),S=(c?11:14)+d*4,N=new Int32Array(S),U;if(c){U=S;for(let j=0;j<N.length;j++)N[j]=j}else{U=S+1+2*fe.truncDivision(fe.truncDivision(S,2)-1,15);let j=fe.truncDivision(S,2),we=fe.truncDivision(U,2);for(let Pe=0;Pe<j;Pe++){let En=Pe+fe.truncDivision(Pe,15);N[j-Pe-1]=we-En-1,N[j+Pe]=we+En+1}}let K=new Nt(U);for(let j=0,we=0;j<d;j++){let Pe=(d-j)*4+(c?9:12);for(let En=0;En<Pe;En++){let St=En*2;for(let $t=0;$t<2;$t++)y.get(we+St+$t)&&K.set(N[j*2+$t],N[j*2+En]),y.get(we+Pe*2+St+$t)&&K.set(N[j*2+En],N[S-1-j*2-$t]),y.get(we+Pe*4+St+$t)&&K.set(N[S-1-j*2-$t],N[S-1-j*2-En]),y.get(we+Pe*6+St+$t)&&K.set(N[S-1-j*2-En],N[j*2+$t])}we+=Pe*8}if(je.drawModeMessage(K,c,U,I),c)je.drawBullsEye(K,fe.truncDivision(U,2),5);else{je.drawBullsEye(K,fe.truncDivision(U,2),7);for(let j=0,we=0;j<fe.truncDivision(S,2)-1;j+=15,we+=16)for(let Pe=fe.truncDivision(U,2)&1;Pe<U;Pe+=2)K.set(fe.truncDivision(U,2)-we,Pe),K.set(fe.truncDivision(U,2)+we,Pe),K.set(Pe,fe.truncDivision(U,2)-we),K.set(Pe,fe.truncDivision(U,2)+we)}let q=new os;return q.setCompact(c),q.setSize(U),q.setLayers(d),q.setCodeWords(B),q.setMatrix(K),q}static drawBullsEye(e,t,r){for(let s=0;s<r;s+=2)for(let a=t-s;a<=t+s;a++)e.set(a,t-s),e.set(a,t+s),e.set(t-s,a),e.set(t+s,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let s=new _e;return e?(s.appendBits(t-1,2),s.appendBits(r-1,6),s=je.generateCheckWords(s,28,4)):(s.appendBits(t-1,5),s.appendBits(r-1,11),s=je.generateCheckWords(s,40,4)),s}static drawModeMessage(e,t,r,s){let a=fe.truncDivision(r,2);if(t)for(let u=0;u<7;u++){let c=a-3+u;s.get(u)&&e.set(c,a-5),s.get(u+7)&&e.set(a+5,c),s.get(20-u)&&e.set(c,a+5),s.get(27-u)&&e.set(a-5,c)}else for(let u=0;u<10;u++){let c=a-5+u+fe.truncDivision(u,5);s.get(u)&&e.set(c,a-7),s.get(u+10)&&e.set(a+7,c),s.get(29-u)&&e.set(c,a+7),s.get(39-u)&&e.set(a-7,c)}}static generateCheckWords(e,t,r){let s=e.getSize()/r,a=new Ri(je.getGF(r)),u=fe.truncDivision(t,r),c=je.bitsToWords(e,r,u);a.encode(c,u-s);let d=t%r,g=new _e;g.appendBits(0,d);for(const A of Array.from(c))g.appendBits(A,r);return g}static bitsToWords(e,t,r){let s=new Int32Array(r),a,u;for(a=0,u=e.getSize()/t;a<u;a++){let c=0;for(let d=0;d<t;d++)c|=e.get(a*t+d)?1<<t-d-1:0;s[a]=c}return s}static getGF(e){switch(e){case 4:return Qe.AZTEC_PARAM;case 6:return Qe.AZTEC_DATA_6;case 8:return Qe.AZTEC_DATA_8;case 10:return Qe.AZTEC_DATA_10;case 12:return Qe.AZTEC_DATA_12;default:throw new V("Unsupported word size "+e)}}static stuffBits(e,t){let r=new _e,s=e.getSize(),a=(1<<t)-2;for(let u=0;u<s;u+=t){let c=0;for(let d=0;d<t;d++)(u+d>=s||e.get(u+d))&&(c|=1<<t-1-d);(c&a)===a?(r.appendBits(c&a,t),u--):(c&a)===0?(r.appendBits(c|1,t),u--):r.appendBits(c,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}je.DEFAULT_EC_PERCENT=33,je.DEFAULT_AZTEC_LAYERS=0,je.MAX_NB_BITS=32,je.MAX_NB_BITS_COMPACT=4,je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Pi{encode(e,t,r,s){return this.encodeWithHints(e,t,r,s,null)}encodeWithHints(e,t,r,s,a){let u=as.ISO_8859_1,c=je.DEFAULT_EC_PERCENT,d=je.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Tt.CHARACTER_SET)&&(u=Fs.forName(a.get(Tt.CHARACTER_SET).toString())),a.has(Tt.ERROR_CORRECTION)&&(c=fe.parseInt(a.get(Tt.ERROR_CORRECTION).toString())),a.has(Tt.AZTEC_LAYERS)&&(d=fe.parseInt(a.get(Tt.AZTEC_LAYERS).toString()))),Pi.encodeLayers(e,t,r,s,u,c,d)}static encodeLayers(e,t,r,s,a,u,c){if(t!==me.AZTEC)throw new V("Can only encode AZTEC, but got "+t);let d=je.encode(ve.getBytes(e,a),u,c);return Pi.renderResult(d,r,s)}static renderResult(e,t,r){let s=e.getMatrix();if(s==null)throw new qt;let a=s.getWidth(),u=s.getHeight(),c=Math.max(t,a),d=Math.max(r,u),g=Math.min(c/a,d/u),A=(c-a*g)/2,E=(d-u*g)/2,y=new Nt(c,d);for(let B=0,I=E;B<u;B++,I+=g)for(let S=0,N=A;S<a;S++,N+=g)s.get(S,B)&&y.setRegion(N,I,g,g);return y}}n.AbstractExpandedDecoder=lr,n.ArgumentException=P,n.ArithmeticException=Bn,n.AztecCode=os,n.AztecCodeReader=Dr,n.AztecCodeWriter=Pi,n.AztecDecoder=at,n.AztecDetector=ai,n.AztecDetectorResult=Cr,n.AztecEncoder=je,n.AztecHighLevelEncoder=Li,n.AztecPoint=Bt,n.BarcodeFormat=me,n.Binarizer=rt,n.BinaryBitmap=oe,n.BitArray=_e,n.BitMatrix=Nt,n.BitSource=ts,n.BrowserAztecCodeReader=oi,n.BrowserBarcodeReader=wa,n.BrowserCodeReader=Ar,n.BrowserDatamatrixCodeReader=ma,n.BrowserMultiFormatReader=Wn,n.BrowserPDF417Reader=Ko,n.BrowserQRCodeReader=va,n.BrowserQRCodeSvgWriter=Kr,n.CharacterSetECI=ne,n.ChecksumException=ue,n.Code128Reader=se,n.Code39Reader=Be,n.DataMatrixDecodedBitStreamParser=cr,n.DataMatrixReader=jn,n.DecodeHintType=Fe,n.DecoderResult=mn,n.DefaultGridSampler=Er,n.DetectorResult=Zn,n.EAN13Reader=or,n.EncodeHintType=Tt,n.Exception=v,n.FormatException=te,n.GenericGF=Qe,n.GenericGFPoly=Mt,n.GlobalHistogramBinarizer=Rt,n.GridSampler=Pn,n.GridSamplerInstance=hn,n.HTMLCanvasElementLuminanceSource=yn,n.HybridBinarizer=Oe,n.ITFReader=tt,n.IllegalArgumentException=V,n.IllegalStateException=qt,n.InvertedLuminanceSource=Kn,n.LuminanceSource=cn,n.MathUtils=Xe,n.MultiFormatOneDReader=Xr,n.MultiFormatReader=ya,n.MultiFormatWriter=ss,n.NotFoundException=Z,n.OneDReader=Ct,n.PDF417DecodedBitStreamParser=z,n.PDF417DecoderErrorCorrection=Ca,n.PDF417Reader=Xt,n.PDF417ResultMetadata=Bs,n.PerspectiveTransform=vn,n.PlanarYUVLuminanceSource=dn,n.QRCodeByteMatrix=Jn,n.QRCodeDataMask=An,n.QRCodeDecodedBitStreamParser=Et,n.QRCodeDecoderErrorCorrectionLevel=xt,n.QRCodeDecoderFormatInformation=Jt,n.QRCodeEncoder=At,n.QRCodeEncoderQRCode=br,n.QRCodeMaskUtil=Le,n.QRCodeMatrixUtil=Ie,n.QRCodeMode=be,n.QRCodeReader=Mr,n.QRCodeVersion=Ce,n.QRCodeWriter=Zr,n.RGBLuminanceSource=Ps,n.RSS14Reader=It,n.RSSExpandedReader=$,n.ReaderException=an,n.ReedSolomonDecoder=Hr,n.ReedSolomonEncoder=Ri,n.ReedSolomonException=Gt,n.Result=Zt,n.ResultMetadataType=st,n.ResultPoint=he,n.StringUtils=ve,n.UnsupportedOperationException=pn,n.VideoInputDevice=fn,n.WhiteRectangleDetector=Ln,n.WriterException=pt,n.ZXingArrays=Ee,n.ZXingCharset=Fs,n.ZXingInteger=fe,n.ZXingStandardCharsets=as,n.ZXingStringBuilder=Ke,n.ZXingStringEncoding=rn,n.ZXingSystem=le,n.createAbstractExpandedDecoder=pa,Object.defineProperty(n,"__esModule",{value:!0})})})(xf,xf.exports);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var $u=globalThis&&globalThis.__extends||function(){var l=function(f,n){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,m){w.__proto__=m}||function(w,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(w[x]=m[x])},l(f,n)};return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");l(f,n);function w(){this.constructor=f}f.prototype=n===null?Object.create(n):(w.prototype=n.prototype,new w)}}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var X0=function(){function l(f,n){this.name=f,this.track=n}return l.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},l.prototype.apply=function(f){var n={};n[this.name]=f;var w={advanced:[n]};return this.track.applyConstraints(w)},l.prototype.value=function(){var f=this.track.getSettings();if(this.name in f){var n=f[this.name];return n}return null},l}(),mA=function(l){$u(f,l);function f(n,w){return l.call(this,n,w)||this}return f.prototype.min=function(){return this.getCapabilities().min},f.prototype.max=function(){return this.getCapabilities().max},f.prototype.step=function(){return this.getCapabilities().step},f.prototype.apply=function(n){var w={};w[this.name]=n;var m={advanced:[w]};return this.track.applyConstraints(m)},f.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),w=n[this.name];return{min:w.min,max:w.max,step:w.step}},f.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},f}(X0);(function(l){$u(f,l);function f(n){return l.call(this,"zoom",n)||this}return f})(mA);(function(l){$u(f,l);function f(n){return l.call(this,"torch",n)||this}return f})(X0);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var pf;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.NOT_STARTED=1]="NOT_STARTED",l[l.SCANNING=2]="SCANNING",l[l.PAUSED=3]="PAUSED"})(pf||(pf={}));var AA=globalThis&&globalThis.__extends||function(){var l=function(f,n){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,m){w.__proto__=m}||function(w,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(w[x]=m[x])},l(f,n)};return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");l(f,n);function w(){this.constructor=f}f.prototype=n===null?Object.create(n):(w.prototype=n.prototype,new w)}}();(function(l){AA(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.DEFAULT_WIDTH=300,f.DEFAULT_WIDTH_OFFSET=2,f.FILE_SCAN_MIN_HEIGHT=300,f.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,f.MIN_QR_BOX_SIZE=50,f.SHADED_LEFT=1,f.SHADED_RIGHT=2,f.SHADED_TOP=3,f.SHADED_BOTTOM=4,f.SHADED_REGION_ELEMENT_ID="qr-shaded-region",f.VERBOSE=!1,f.BORDER_SHADER_DEFAULT_COLOR="#ffffff",f.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",f})(wA);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var wf;(function(l){l[l.STATUS_DEFAULT=0]="STATUS_DEFAULT",l[l.STATUS_SUCCESS=1]="STATUS_SUCCESS",l[l.STATUS_WARNING=2]="STATUS_WARNING",l[l.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wf||(wf={}));function CA(l){l.directive("mask",(f,{value:n,expression:w},{effect:m,evaluateLater:x,cleanup:b})=>{let R=()=>w,k="";queueMicrotask(()=>{if(["function","dynamic"].includes(n)){let oe=x(w);m(()=>{R=ue=>{let rt;return l.dontAutoEvaluateFunctions(()=>{oe(le=>{rt=typeof le=="function"?le(ue):le},{scope:{$input:ue,$money:_A.bind({el:f})}})}),rt},P(f,!1)})}else P(f,!1);f._x_model&&f._x_model.set(f.value)});const v=new AbortController;b(()=>{v.abort()}),f.addEventListener("input",()=>P(f),{signal:v.signal,capture:!0}),f.addEventListener("blur",()=>P(f,!1),{signal:v.signal});function P(oe,ue=!0){let rt=oe.value,le=R(rt);if(!le||le==="false")return!1;if(k.length-oe.value.length===1)return k=oe.value;let ie=()=>{k=oe.value=V(rt,le)};ue?EA(oe,le,()=>{ie()}):ie()}function V(oe,ue){if(oe==="")return"";let rt=Y0(ue,oe);return z0(ue,rt)}}).before("model")}function EA(l,f,n){let w=l.selectionStart,m=l.value;n();let x=m.slice(0,w),b=z0(f,Y0(f,x)).length;l.setSelectionRange(b,b)}function Y0(l,f){let n=f,w="",m={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},x="";for(let b=0;b<l.length;b++){if(["9","a","*"].includes(l[b])){x+=l[b];continue}for(let R=0;R<n.length;R++)if(n[R]===l[b]){n=n.slice(0,R)+n.slice(R+1);break}}for(let b=0;b<x.length;b++){let R=!1;for(let k=0;k<n.length;k++)if(m[x[b]].test(n[k])){w+=n[k],n=n.slice(0,k)+n.slice(k+1),R=!0;break}if(!R)break}return w}function z0(l,f){let n=Array.from(f),w="";for(let m=0;m<l.length;m++){if(!["9","a","*"].includes(l[m])){w+=l[m];continue}if(n.length===0)break;w+=n.shift()}return w}function _A(l,f=".",n,w=2){if(l==="-")return"-";if(/^\D+$/.test(l))return"9";n==null&&(n=f===","?".":",");let m=(k,v)=>{let P="",V=0;for(let oe=k.length-1;oe>=0;oe--)k[oe]!==v&&(V===3?(P=k[oe]+v+P,V=0):P=k[oe]+P,V++);return P},x=l.startsWith("-")?"-":"",b=l.replaceAll(new RegExp(`[^0-9\\${f}]`,"g"),""),R=Array.from({length:b.split(f)[0].length}).fill("9").join("");return R=`${x}${m(R,n)}`,w>0&&l.includes(f)&&(R+=`${f}`+"9".repeat(w)),queueMicrotask(()=>{this.el.value.endsWith(f)||this.el.value[this.el.selectionStart-1]===f&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),R}var bA=CA,$l=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],As={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(l){return typeof console!="undefined"&&console.warn(l)},getWeek:function(l){var f=new Date(l.getTime());f.setHours(0,0,0,0),f.setDate(f.getDate()+3-(f.getDay()+6)%7);var n=new Date(f.getFullYear(),0,4);return 1+Math.round(((f.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ca={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(l){var f=l%100;if(f>3&&f<21)return"th";switch(f%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Yn=function(l,f){return f===void 0&&(f=2),("000"+l).slice(f*-1)},mr=function(l){return l===!0?1:0};function mf(l,f){var n;return function(){var w=this,m=arguments;clearTimeout(n),n=setTimeout(function(){return l.apply(w,m)},f)}}var eu=function(l){return l instanceof Array?l:[l]};function Rn(l,f,n){if(n===!0)return l.classList.add(f);l.classList.remove(f)}function ft(l,f,n){var w=window.document.createElement(l);return f=f||"",n=n||"",w.className=f,n!==void 0&&(w.textContent=n),w}function mo(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function K0(l,f){if(f(l))return l;if(l.parentNode)return K0(l.parentNode,f)}function Ao(l,f){var n=ft("div","numInputWrapper"),w=ft("input","numInput "+l),m=ft("span","arrowUp"),x=ft("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?w.type="number":(w.type="text",w.pattern="\\d*"),f!==void 0)for(var b in f)w.setAttribute(b,f[b]);return n.appendChild(w),n.appendChild(m),n.appendChild(x),n}function ir(l){try{if(typeof l.composedPath=="function"){var f=l.composedPath();return f[0]}return l.target}catch{return l.target}}var tu=function(){},So=function(l,f,n){return n.months[f?"shorthand":"longhand"][l]},IA={D:tu,F:function(l,f,n){l.setMonth(n.months.longhand.indexOf(f))},G:function(l,f){l.setHours((l.getHours()>=12?12:0)+parseFloat(f))},H:function(l,f){l.setHours(parseFloat(f))},J:function(l,f){l.setDate(parseFloat(f))},K:function(l,f,n){l.setHours(l.getHours()%12+12*mr(new RegExp(n.amPM[1],"i").test(f)))},M:function(l,f,n){l.setMonth(n.months.shorthand.indexOf(f))},S:function(l,f){l.setSeconds(parseFloat(f))},U:function(l,f){return new Date(parseFloat(f)*1e3)},W:function(l,f,n){var w=parseInt(f),m=new Date(l.getFullYear(),0,2+(w-1)*7,0,0,0,0);return m.setDate(m.getDate()-m.getDay()+n.firstDayOfWeek),m},Y:function(l,f){l.setFullYear(parseFloat(f))},Z:function(l,f){return new Date(f)},d:function(l,f){l.setDate(parseFloat(f))},h:function(l,f){l.setHours((l.getHours()>=12?12:0)+parseFloat(f))},i:function(l,f){l.setMinutes(parseFloat(f))},j:function(l,f){l.setDate(parseFloat(f))},l:tu,m:function(l,f){l.setMonth(parseFloat(f)-1)},n:function(l,f){l.setMonth(parseFloat(f)-1)},s:function(l,f){l.setSeconds(parseFloat(f))},u:function(l,f){return new Date(parseFloat(f))},w:tu,y:function(l,f){l.setFullYear(2e3+parseFloat(f))}},zi={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},la={Z:function(l){return l.toISOString()},D:function(l,f,n){return f.weekdays.shorthand[la.w(l,f,n)]},F:function(l,f,n){return So(la.n(l,f,n)-1,!1,f)},G:function(l,f,n){return Yn(la.h(l,f,n))},H:function(l){return Yn(l.getHours())},J:function(l,f){return f.ordinal!==void 0?l.getDate()+f.ordinal(l.getDate()):l.getDate()},K:function(l,f){return f.amPM[mr(l.getHours()>11)]},M:function(l,f){return So(l.getMonth(),!0,f)},S:function(l){return Yn(l.getSeconds())},U:function(l){return l.getTime()/1e3},W:function(l,f,n){return n.getWeek(l)},Y:function(l){return Yn(l.getFullYear(),4)},d:function(l){return Yn(l.getDate())},h:function(l){return l.getHours()%12?l.getHours()%12:12},i:function(l){return Yn(l.getMinutes())},j:function(l){return l.getDate()},l:function(l,f){return f.weekdays.longhand[l.getDay()]},m:function(l){return Yn(l.getMonth()+1)},n:function(l){return l.getMonth()+1},s:function(l){return l.getSeconds()},u:function(l){return l.getTime()},w:function(l){return l.getDay()},y:function(l){return String(l.getFullYear()).substring(2)}},Z0=function(l){var f=l.config,n=f===void 0?As:f,w=l.l10n,m=w===void 0?ca:w,x=l.isMobile,b=x===void 0?!1:x;return function(R,k,v){var P=v||m;return n.formatDate!==void 0&&!b?n.formatDate(R,k,P):k.split("").map(function(V,oe,ue){return la[V]&&ue[oe-1]!=="\\"?la[V](R,P,n):V!=="\\"?V:""}).join("")}},yu=function(l){var f=l.config,n=f===void 0?As:f,w=l.l10n,m=w===void 0?ca:w;return function(x,b,R,k){if(!(x!==0&&!x)){var v=k||m,P,V=x;if(x instanceof Date)P=new Date(x.getTime());else if(typeof x!="string"&&x.toFixed!==void 0)P=new Date(x);else if(typeof x=="string"){var oe=b||(n||As).dateFormat,ue=String(x).trim();if(ue==="today")P=new Date,R=!0;else if(n&&n.parseDate)P=n.parseDate(x,oe);else if(/Z$/.test(ue)||/GMT$/.test(ue))P=new Date(x);else{for(var rt=void 0,le=[],ie=0,Re=0,Ee="";ie<oe.length;ie++){var fe=oe[ie],_e=fe==="\\",_t=oe[ie-1]==="\\"||_e;if(zi[fe]&&!_t){Ee+=zi[fe];var Fe=new RegExp(Ee).exec(x);Fe&&(rt=!0)&&le[fe!=="Y"?"push":"unshift"]({fn:IA[fe],val:Fe[++Re]})}else _e||(Ee+=".")}P=!n||!n.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),le.forEach(function(te){var ke=te.fn,ne=te.val;return P=ke(P,ne,v)||P}),P=rt?P:void 0}}if(!(P instanceof Date&&!isNaN(P.getTime()))){n.errorHandler(new Error("Invalid date provided: "+V));return}return R===!0&&P.setHours(0,0,0,0),P}}};function sr(l,f,n){return n===void 0&&(n=!0),n!==!1?new Date(l.getTime()).setHours(0,0,0,0)-new Date(f.getTime()).setHours(0,0,0,0):l.getTime()-f.getTime()}var yA=function(l,f,n){return l>Math.min(f,n)&&l<Math.max(f,n)},nu=function(l,f,n){return l*3600+f*60+n},vA=function(l){var f=Math.floor(l/3600),n=(l-f*3600)/60;return[f,n,l-f*3600-n*60]},TA={DAY:864e5};function ru(l){var f=l.defaultHour,n=l.defaultMinute,w=l.defaultSeconds;if(l.minDate!==void 0){var m=l.minDate.getHours(),x=l.minDate.getMinutes(),b=l.minDate.getSeconds();f<m&&(f=m),f===m&&n<x&&(n=x),f===m&&n===x&&w<b&&(w=l.minDate.getSeconds())}if(l.maxDate!==void 0){var R=l.maxDate.getHours(),k=l.maxDate.getMinutes();f=Math.min(f,R),f===R&&(n=Math.min(k,n)),f===R&&n===k&&(w=l.maxDate.getSeconds())}return{hours:f,minutes:n,seconds:w}}typeof Object.assign!="function"&&(Object.assign=function(l){for(var f=[],n=1;n<arguments.length;n++)f[n-1]=arguments[n];if(!l)throw TypeError("Cannot convert undefined or null to object");for(var w=function(R){R&&Object.keys(R).forEach(function(k){return l[k]=R[k]})},m=0,x=f;m<x.length;m++){var b=x[m];w(b)}return l});var In=globalThis&&globalThis.__assign||function(){return In=Object.assign||function(l){for(var f,n=1,w=arguments.length;n<w;n++){f=arguments[n];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(l[m]=f[m])}return l},In.apply(this,arguments)},Af=globalThis&&globalThis.__spreadArrays||function(){for(var l=0,f=0,n=arguments.length;f<n;f++)l+=arguments[f].length;for(var w=Array(l),m=0,f=0;f<n;f++)for(var x=arguments[f],b=0,R=x.length;b<R;b++,m++)w[m]=x[b];return w},SA=300;function OA(l,f){var n={config:In(In({},As),Yt.defaultConfig),l10n:ca};n.parseDate=yu({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=le,n._setHoursFromDate=oe,n._positionCalendar=Xe,n.changeMonth=fn,n.changeYear=Nr,n.clear=Kt,n.close=Ar,n.onMouseOver=Bn,n._createElement=ft,n.createDay=Fe,n.destroy=Zt,n.isEnabled=st,n.jumpToDate=Ee,n.updateValue=Ue,n.open=Gt,n.redraw=Zn,n.set=vn,n.setDate=hn,n.toggle=se;function w(){n.utils={getDaysInMonth:function(D,L){return D===void 0&&(D=n.currentMonth),L===void 0&&(L=n.currentYear),D===1&&(L%4===0&&L%100!==0||L%400===0)?29:n.l10n.daysInMonth[D]}}}function m(){n.element=n.input=l,n.isOpen=!1,Hr(),at(),Dr(),ai(),w(),n.isMobile||_t(),Re(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&oe(n.config.noCalendar?n.latestSelectedDateObj:void 0),Ue(!1)),R();var D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&D&&Xe(),Be("onReady")}function x(){var D;return((D=n.calendarContainer)===null||D===void 0?void 0:D.getRootNode()).activeElement||document.activeElement}function b(D){return D.bind(n)}function R(){var D=n.config;D.weekNumbers===!1&&D.showMonths===1||D.noCalendar!==!0&&window.requestAnimationFrame(function(){if(n.calendarContainer!==void 0&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),n.daysContainer!==void 0){var L=(n.days.offsetWidth+1)*D.showMonths;n.daysContainer.style.width=L+"px",n.calendarContainer.style.width=L+(n.weekWrapper!==void 0?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}})}function k(D){if(n.selectedDates.length===0){var L=n.config.minDate===void 0||sr(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),H=ru(n.config);L.setHours(H.hours,H.minutes,H.seconds,L.getMilliseconds()),n.selectedDates=[L],n.latestSelectedDateObj=L}D!==void 0&&D.type!=="blur"&&$i(D);var Y=n._input.value;V(),Ue(),n._input.value!==Y&&n._debouncedChange()}function v(D,L){return D%12+12*mr(L===n.l10n.amPM[1])}function P(D){switch(D%24){case 0:case 12:return 12;default:return D%12}}function V(){if(!(n.hourElement===void 0||n.minuteElement===void 0)){var D=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,L=(parseInt(n.minuteElement.value,10)||0)%60,H=n.secondElement!==void 0?(parseInt(n.secondElement.value,10)||0)%60:0;n.amPM!==void 0&&(D=v(D,n.amPM.textContent));var Y=n.config.minTime!==void 0||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&sr(n.latestSelectedDateObj,n.config.minDate,!0)===0,re=n.config.maxTime!==void 0||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&sr(n.latestSelectedDateObj,n.config.maxDate,!0)===0;if(n.config.maxTime!==void 0&&n.config.minTime!==void 0&&n.config.minTime>n.config.maxTime){var ce=nu(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),ye=nu(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),xe=nu(D,L,H);if(xe>ye&&xe<ce){var Me=vA(ce);D=Me[0],L=Me[1],H=Me[2]}}else{if(re){var ge=n.config.maxTime!==void 0?n.config.maxTime:n.config.maxDate;D=Math.min(D,ge.getHours()),D===ge.getHours()&&(L=Math.min(L,ge.getMinutes())),L===ge.getMinutes()&&(H=Math.min(H,ge.getSeconds()))}if(Y){var pe=n.config.minTime!==void 0?n.config.minTime:n.config.minDate;D=Math.max(D,pe.getHours()),D===pe.getHours()&&L<pe.getMinutes()&&(L=pe.getMinutes()),L===pe.getMinutes()&&(H=Math.max(H,pe.getSeconds()))}}ue(D,L,H)}}function oe(D){var L=D||n.latestSelectedDateObj;L&&L instanceof Date&&ue(L.getHours(),L.getMinutes(),L.getSeconds())}function ue(D,L,H){n.latestSelectedDateObj!==void 0&&n.latestSelectedDateObj.setHours(D%24,L,H||0,0),!(!n.hourElement||!n.minuteElement||n.isMobile)&&(n.hourElement.value=Yn(n.config.time_24hr?D:(12+D)%12+12*mr(D%12===0)),n.minuteElement.value=Yn(L),n.amPM!==void 0&&(n.amPM.textContent=n.l10n.amPM[mr(D>=12)]),n.secondElement!==void 0&&(n.secondElement.value=Yn(H)))}function rt(D){var L=ir(D),H=parseInt(L.value)+(D.delta||0);(H/1e3>1||D.key==="Enter"&&!/[^\d]/.test(H.toString()))&&Nr(H)}function le(D,L,H,Y){if(L instanceof Array)return L.forEach(function(re){return le(D,re,H,Y)});if(D instanceof Array)return D.forEach(function(re){return le(re,L,H,Y)});D.addEventListener(L,H,Y),n._handlers.push({remove:function(){return D.removeEventListener(L,H,Y)}})}function ie(){Be("onChange")}function Re(){if(n.config.wrap&&["open","close","toggle","clear"].forEach(function(H){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+H+"]"),function(Y){return le(Y,"click",n[H])})}),n.isMobile){Ct();return}var D=mf(Qe,50);if(n._debouncedChange=mf(ie,SA),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&le(n.daysContainer,"mouseover",function(H){n.config.mode==="range"&&Bn(ir(H))}),le(n._input,"keydown",Mt),n.calendarContainer!==void 0&&le(n.calendarContainer,"keydown",Mt),!n.config.inline&&!n.config.static&&le(window,"resize",D),window.ontouchstart!==void 0?le(window.document,"touchstart",me):le(window.document,"mousedown",me),le(window.document,"focus",me,{capture:!0}),n.config.clickOpens===!0&&(le(n._input,"focus",n.open),le(n._input,"click",n.open)),n.daysContainer!==void 0&&(le(n.monthNav,"click",or),le(n.monthNav,["keyup","increment"],rt),le(n.daysContainer,"click",Ln)),n.timeContainer!==void 0&&n.minuteElement!==void 0&&n.hourElement!==void 0){var L=function(H){return ir(H).select()};le(n.timeContainer,["increment"],k),le(n.timeContainer,"blur",k,{capture:!0}),le(n.timeContainer,"click",fe),le([n.hourElement,n.minuteElement],["focus","click"],L),n.secondElement!==void 0&&le(n.secondElement,"focus",function(){return n.secondElement&&n.secondElement.select()}),n.amPM!==void 0&&le(n.amPM,"click",function(H){k(H)})}n.config.allowInput&&le(n._input,"blur",Wr)}function Ee(D,L){var H=D!==void 0?n.parseDate(D):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),Y=n.currentYear,re=n.currentMonth;try{H!==void 0&&(n.currentYear=H.getFullYear(),n.currentMonth=H.getMonth())}catch(ce){ce.message="Invalid date supplied: "+H,n.config.errorHandler(ce)}L&&n.currentYear!==Y&&(Be("onYearChange"),Ke()),L&&(n.currentYear!==Y||n.currentMonth!==re)&&Be("onMonthChange"),n.redraw()}function fe(D){var L=ir(D);~L.className.indexOf("arrow")&&_e(D,L.classList.contains("arrowUp")?1:-1)}function _e(D,L,H){var Y=D&&ir(D),re=H||Y&&Y.parentNode&&Y.parentNode.firstChild,ce=tt("increment");ce.delta=L,re&&re.dispatchEvent(ce)}function _t(){var D=window.document.createDocumentFragment();if(n.calendarContainer=ft("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(D.appendChild(Rt()),n.innerContainer=ft("div","flatpickr-innerContainer"),n.config.weekNumbers){var L=yn(),H=L.weekWrapper,Y=L.weekNumbers;n.innerContainer.appendChild(H),n.weekNumbers=Y,n.weekWrapper=H}n.rContainer=ft("div","flatpickr-rContainer"),n.rContainer.appendChild(cn()),n.daysContainer||(n.daysContainer=ft("div","flatpickr-days"),n.daysContainer.tabIndex=-1),ve(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),D.appendChild(n.innerContainer)}n.config.enableTime&&D.appendChild(Oe()),Rn(n.calendarContainer,"rangeMode",n.config.mode==="range"),Rn(n.calendarContainer,"animate",n.config.animate===!0),Rn(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(D);var re=n.config.appendTo!==void 0&&n.config.appendTo.nodeType!==void 0;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!re&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):n.config.appendTo!==void 0&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var ce=ft("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(ce,n.element),ce.appendChild(n.element),n.altInput&&ce.appendChild(n.altInput),ce.appendChild(n.calendarContainer)}!n.config.static&&!n.config.inline&&(n.config.appendTo!==void 0?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}function Fe(D,L,H,Y){var re=st(L,!0),ce=ft("span",D,L.getDate().toString());return ce.dateObj=L,ce.$i=Y,ce.setAttribute("aria-label",n.formatDate(L,n.config.ariaDateFormat)),D.indexOf("hidden")===-1&&sr(L,n.now)===0&&(n.todayDateElem=ce,ce.classList.add("today"),ce.setAttribute("aria-current","date")),re?(ce.tabIndex=-1,dt(L)&&(ce.classList.add("selected"),n.selectedDateElem=ce,n.config.mode==="range"&&(Rn(ce,"startRange",n.selectedDates[0]&&sr(L,n.selectedDates[0],!0)===0),Rn(ce,"endRange",n.selectedDates[1]&&sr(L,n.selectedDates[1],!0)===0),D==="nextMonthDay"&&ce.classList.add("inRange")))):ce.classList.add("flatpickr-disabled"),n.config.mode==="range"&&Gr(L)&&!dt(L)&&ce.classList.add("inRange"),n.weekNumbers&&n.config.showMonths===1&&D!=="prevMonthDay"&&Y%7===6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(L)+"</span>"),Be("onDayCreate",ce),ce}function te(D){D.focus(),n.config.mode==="range"&&Bn(D)}function ke(D){for(var L=D>0?0:n.config.showMonths-1,H=D>0?n.config.showMonths:-1,Y=L;Y!=H;Y+=D)for(var re=n.daysContainer.children[Y],ce=D>0?0:re.children.length-1,ye=D>0?re.children.length:-1,xe=ce;xe!=ye;xe+=D){var Me=re.children[xe];if(Me.className.indexOf("hidden")===-1&&st(Me.dateObj))return Me}}function ne(D,L){for(var H=D.className.indexOf("Month")===-1?D.dateObj.getMonth():n.currentMonth,Y=L>0?n.config.showMonths:-1,re=L>0?1:-1,ce=H-n.currentMonth;ce!=Y;ce+=re)for(var ye=n.daysContainer.children[ce],xe=H-n.currentMonth===ce?D.$i+L:L<0?ye.children.length-1:0,Me=ye.children.length,ge=xe;ge>=0&&ge<Me&&ge!=(L>0?Me:-1);ge+=re){var pe=ye.children[ge];if(pe.className.indexOf("hidden")===-1&&st(pe.dateObj)&&Math.abs(D.$i-ge)>=Math.abs(L))return te(pe)}n.changeMonth(re),pn(ke(re),0)}function pn(D,L){var H=x(),Y=mn(H||document.body),re=D!==void 0?D:Y?H:n.selectedDateElem!==void 0&&mn(n.selectedDateElem)?n.selectedDateElem:n.todayDateElem!==void 0&&mn(n.todayDateElem)?n.todayDateElem:ke(L>0?1:-1);re===void 0?n._input.focus():Y?ne(re,L):te(re)}function rn(D,L){for(var H=(new Date(D,L,1).getDay()-n.l10n.firstDayOfWeek+7)%7,Y=n.utils.getDaysInMonth((L-1+12)%12,D),re=n.utils.getDaysInMonth(L,D),ce=window.document.createDocumentFragment(),ye=n.config.showMonths>1,xe=ye?"prevMonthDay hidden":"prevMonthDay",Me=ye?"nextMonthDay hidden":"nextMonthDay",ge=Y+1-H,pe=0;ge<=Y;ge++,pe++)ce.appendChild(Fe("flatpickr-day "+xe,new Date(D,L-1,ge),ge,pe));for(ge=1;ge<=re;ge++,pe++)ce.appendChild(Fe("flatpickr-day",new Date(D,L,ge),ge,pe));for(var Ze=re+1;Ze<=42-H&&(n.config.showMonths===1||pe%7!==0);Ze++,pe++)ce.appendChild(Fe("flatpickr-day "+Me,new Date(D,L+1,Ze%re),Ze,pe));var bt=ft("div","dayContainer");return bt.appendChild(ce),bt}function ve(){if(n.daysContainer!==void 0){mo(n.daysContainer),n.weekNumbers&&mo(n.weekNumbers);for(var D=document.createDocumentFragment(),L=0;L<n.config.showMonths;L++){var H=new Date(n.currentYear,n.currentMonth,1);H.setMonth(n.currentMonth+L),D.appendChild(rn(H.getFullYear(),H.getMonth()))}n.daysContainer.appendChild(D),n.days=n.daysContainer.firstChild,n.config.mode==="range"&&n.selectedDates.length===1&&Bn()}}function Ke(){if(!(n.config.showMonths>1||n.config.monthSelectorType!=="dropdown")){var D=function(Y){return n.config.minDate!==void 0&&n.currentYear===n.config.minDate.getFullYear()&&Y<n.config.minDate.getMonth()?!1:!(n.config.maxDate!==void 0&&n.currentYear===n.config.maxDate.getFullYear()&&Y>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var L=0;L<12;L++)if(!!D(L)){var H=ft("option","flatpickr-monthDropdown-month");H.value=new Date(n.currentYear,L).getMonth().toString(),H.textContent=So(L,n.config.shorthandCurrentMonth,n.l10n),H.tabIndex=-1,n.currentMonth===L&&(H.selected=!0),n.monthsDropdownContainer.appendChild(H)}}}function Nt(){var D=ft("div","flatpickr-month"),L=window.document.createDocumentFragment(),H;n.config.showMonths>1||n.config.monthSelectorType==="static"?H=ft("span","cur-month"):(n.monthsDropdownContainer=ft("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),le(n.monthsDropdownContainer,"change",function(ye){var xe=ir(ye),Me=parseInt(xe.value,10);n.changeMonth(Me-n.currentMonth),Be("onMonthChange")}),Ke(),H=n.monthsDropdownContainer);var Y=Ao("cur-year",{tabindex:"-1"}),re=Y.getElementsByTagName("input")[0];re.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&re.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(re.setAttribute("max",n.config.maxDate.getFullYear().toString()),re.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var ce=ft("div","flatpickr-current-month");return ce.appendChild(H),ce.appendChild(Y),L.appendChild(ce),D.appendChild(L),{container:D,yearElement:re,monthElement:H}}function Z(){mo(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var D=n.config.showMonths;D--;){var L=Nt();n.yearElements.push(L.yearElement),n.monthElements.push(L.monthElement),n.monthNav.appendChild(L.container)}n.monthNav.appendChild(n.nextMonthNav)}function Rt(){return n.monthNav=ft("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=ft("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=ft("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,Z(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(D){n.__hidePrevMonthArrow!==D&&(Rn(n.prevMonthNav,"flatpickr-disabled",D),n.__hidePrevMonthArrow=D)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(D){n.__hideNextMonthArrow!==D&&(Rn(n.nextMonthNav,"flatpickr-disabled",D),n.__hideNextMonthArrow=D)}}),n.currentYearElement=n.yearElements[0],Rr(),n.monthNav}function Oe(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var D=ru(n.config);n.timeContainer=ft("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var L=ft("span","flatpickr-time-separator",":"),H=Ao("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=H.getElementsByTagName("input")[0];var Y=Ao("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});if(n.minuteElement=Y.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=Yn(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?D.hours:P(D.hours)),n.minuteElement.value=Yn(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():D.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(H),n.timeContainer.appendChild(L),n.timeContainer.appendChild(Y),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var re=Ao("flatpickr-second");n.secondElement=re.getElementsByTagName("input")[0],n.secondElement.value=Yn(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():D.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(ft("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(re)}return n.config.time_24hr||(n.amPM=ft("span","flatpickr-am-pm",n.l10n.amPM[mr((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}function cn(){n.weekdayContainer?mo(n.weekdayContainer):n.weekdayContainer=ft("div","flatpickr-weekdays");for(var D=n.config.showMonths;D--;){var L=ft("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(L)}return Kn(),n.weekdayContainer}function Kn(){if(!!n.weekdayContainer){var D=n.l10n.firstDayOfWeek,L=Af(n.l10n.weekdays.shorthand);D>0&&D<L.length&&(L=Af(L.splice(D,L.length),L.splice(0,D)));for(var H=n.config.showMonths;H--;)n.weekdayContainer.children[H].innerHTML=`
      <span class='flatpickr-weekday'>
        `+L.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function yn(){n.calendarContainer.classList.add("hasWeeks");var D=ft("div","flatpickr-weekwrapper");D.appendChild(ft("span","flatpickr-weekday",n.l10n.weekAbbreviation));var L=ft("div","flatpickr-weeks");return D.appendChild(L),{weekWrapper:D,weekNumbers:L}}function fn(D,L){L===void 0&&(L=!0);var H=L?D:D-n.currentMonth;H<0&&n._hidePrevMonthArrow===!0||H>0&&n._hideNextMonthArrow===!0||(n.currentMonth+=H,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,Be("onYearChange"),Ke()),ve(),Be("onMonthChange"),Rr())}function Kt(D,L){if(D===void 0&&(D=!0),L===void 0&&(L=!0),n.input.value="",n.altInput!==void 0&&(n.altInput.value=""),n.mobileInput!==void 0&&(n.mobileInput.value=""),n.selectedDates=[],n.latestSelectedDateObj=void 0,L===!0&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth()),n.config.enableTime===!0){var H=ru(n.config),Y=H.hours,re=H.minutes,ce=H.seconds;ue(Y,re,ce)}n.redraw(),D&&Be("onChange")}function Ar(){n.isOpen=!1,n.isMobile||(n.calendarContainer!==void 0&&n.calendarContainer.classList.remove("open"),n._input!==void 0&&n._input.classList.remove("active")),Be("onClose")}function Zt(){n.config!==void 0&&Be("onDestroy");for(var D=n._handlers.length;D--;)n._handlers[D].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var L=n.calendarContainer.parentNode;if(L.lastChild&&L.removeChild(L.lastChild),L.parentNode){for(;L.firstChild;)L.parentNode.insertBefore(L.firstChild,L);L.parentNode.removeChild(L)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput),n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(H){try{delete n[H]}catch{}})}function wn(D){return n.calendarContainer.contains(D)}function me(D){if(n.isOpen&&!n.config.inline){var L=ir(D),H=wn(L),Y=L===n.input||L===n.altInput||n.element.contains(L)||D.path&&D.path.indexOf&&(~D.path.indexOf(n.input)||~D.path.indexOf(n.altInput)),re=!Y&&!H&&!wn(D.relatedTarget),ce=!n.config.ignoredFocusElements.some(function(ye){return ye.contains(L)});re&&ce&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),n.timeContainer!==void 0&&n.minuteElement!==void 0&&n.hourElement!==void 0&&n.input.value!==""&&n.input.value!==void 0&&k(),n.close(),n.config&&n.config.mode==="range"&&n.selectedDates.length===1&&n.clear(!1))}}function Nr(D){if(!(!D||n.config.minDate&&D<n.config.minDate.getFullYear()||n.config.maxDate&&D>n.config.maxDate.getFullYear())){var L=D,H=n.currentYear!==L;n.currentYear=L||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),H&&(n.redraw(),Be("onYearChange"),Ke())}}function st(D,L){var H;L===void 0&&(L=!0);var Y=n.parseDate(D,void 0,L);if(n.config.minDate&&Y&&sr(Y,n.config.minDate,L!==void 0?L:!n.minDateHasTime)<0||n.config.maxDate&&Y&&sr(Y,n.config.maxDate,L!==void 0?L:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&n.config.disable.length===0)return!0;if(Y===void 0)return!1;for(var re=!!n.config.enable,ce=(H=n.config.enable)!==null&&H!==void 0?H:n.config.disable,ye=0,xe=void 0;ye<ce.length;ye++){if(xe=ce[ye],typeof xe=="function"&&xe(Y))return re;if(xe instanceof Date&&Y!==void 0&&xe.getTime()===Y.getTime())return re;if(typeof xe=="string"){var Me=n.parseDate(xe,void 0,!0);return Me&&Me.getTime()===Y.getTime()?re:!re}else if(typeof xe=="object"&&Y!==void 0&&xe.from&&xe.to&&Y.getTime()>=xe.from.getTime()&&Y.getTime()<=xe.to.getTime())return re}return!re}function mn(D){return n.daysContainer!==void 0?D.className.indexOf("hidden")===-1&&D.className.indexOf("flatpickr-disabled")===-1&&n.daysContainer.contains(D):!1}function Wr(D){var L=D.target===n._input,H=n._input.value.trimEnd()!==li();L&&H&&!(D.relatedTarget&&wn(D.relatedTarget))&&n.setDate(n._input.value,!0,D.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function Mt(D){var L=ir(D),H=n.config.wrap?l.contains(L):L===n._input,Y=n.config.allowInput,re=n.isOpen&&(!Y||!H),ce=n.config.inline&&H&&!Y;if(D.keyCode===13&&H){if(Y)return n.setDate(n._input.value,!0,L===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),L.blur();n.open()}else if(wn(L)||re||ce){var ye=!!n.timeContainer&&n.timeContainer.contains(L);switch(D.keyCode){case 13:ye?(D.preventDefault(),k(),Cr()):Ln(D);break;case 27:D.preventDefault(),Cr();break;case 8:case 46:H&&!n.config.allowInput&&(D.preventDefault(),n.clear());break;case 37:case 39:if(!ye&&!H){D.preventDefault();var xe=x();if(n.daysContainer!==void 0&&(Y===!1||xe&&mn(xe))){var Me=D.keyCode===39?1:-1;D.ctrlKey?(D.stopPropagation(),fn(Me),pn(ke(1),0)):pn(void 0,Me)}}else n.hourElement&&n.hourElement.focus();break;case 38:case 40:D.preventDefault();var ge=D.keyCode===40?1:-1;n.daysContainer&&L.$i!==void 0||L===n.input||L===n.altInput?D.ctrlKey?(D.stopPropagation(),Nr(n.currentYear-ge),pn(ke(1),0)):ye||pn(void 0,ge*7):L===n.currentYearElement?Nr(n.currentYear-ge):n.config.enableTime&&(!ye&&n.hourElement&&n.hourElement.focus(),k(D),n._debouncedChange());break;case 9:if(ye){var pe=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter(function(ae){return ae}),Ze=pe.indexOf(L);if(Ze!==-1){var bt=pe[Ze+(D.shiftKey?-1:1)];D.preventDefault(),(bt||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(L)&&D.shiftKey&&(D.preventDefault(),n._input.focus());break}}if(n.amPM!==void 0&&L===n.amPM)switch(D.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],V(),Ue();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],V(),Ue();break}(H||wn(L))&&Be("onKeyDown",D)}function Bn(D,L){if(L===void 0&&(L="flatpickr-day"),!(n.selectedDates.length!==1||D&&(!D.classList.contains(L)||D.classList.contains("flatpickr-disabled")))){for(var H=D?D.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),Y=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),re=Math.min(H,n.selectedDates[0].getTime()),ce=Math.max(H,n.selectedDates[0].getTime()),ye=!1,xe=0,Me=0,ge=re;ge<ce;ge+=TA.DAY)st(new Date(ge),!0)||(ye=ye||ge>re&&ge<ce,ge<Y&&(!xe||ge>xe)?xe=ge:ge>Y&&(!Me||ge<Me)&&(Me=ge));var pe=Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+L));pe.forEach(function(Ze){var bt=Ze.dateObj,ae=bt.getTime(),Fn=xe>0&&ae<xe||Me>0&&ae>Me;if(Fn){Ze.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(lr){Ze.classList.remove(lr)});return}else if(ye&&!Fn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(lr){Ze.classList.remove(lr)}),D!==void 0&&(D.classList.add(H<=n.selectedDates[0].getTime()?"startRange":"endRange"),Y<H&&ae===Y?Ze.classList.add("startRange"):Y>H&&ae===Y&&Ze.classList.add("endRange"),ae>=xe&&(Me===0||ae<=Me)&&yA(ae,Y,H)&&Ze.classList.add("inRange"))})}}function Qe(){n.isOpen&&!n.config.static&&!n.config.inline&&Xe()}function Gt(D,L){if(L===void 0&&(L=n._positionElement),n.isMobile===!0){if(D){D.preventDefault();var H=ir(D);H&&H.blur()}n.mobileInput!==void 0&&(n.mobileInput.focus(),n.mobileInput.click()),Be("onOpen");return}else if(n._input.disabled||n.config.inline)return;var Y=n.isOpen;n.isOpen=!0,Y||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),Be("onOpen"),Xe(L)),n.config.enableTime===!0&&n.config.noCalendar===!0&&n.config.allowInput===!1&&(D===void 0||!n.timeContainer.contains(D.relatedTarget))&&setTimeout(function(){return n.hourElement.select()},50)}function qt(D){return function(L){var H=n.config["_"+D+"Date"]=n.parseDate(L,n.config.dateFormat),Y=n.config["_"+(D==="min"?"max":"min")+"Date"];H!==void 0&&(n[D==="min"?"minDateHasTime":"maxDateHasTime"]=H.getHours()>0||H.getMinutes()>0||H.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(function(re){return st(re)}),!n.selectedDates.length&&D==="min"&&oe(H),Ue()),n.daysContainer&&(Zn(),H!==void 0?n.currentYearElement[D]=H.getFullYear().toString():n.currentYearElement.removeAttribute(D),n.currentYearElement.disabled=!!Y&&H!==void 0&&Y.getFullYear()===H.getFullYear())}}function Hr(){var D=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],L=In(In({},JSON.parse(JSON.stringify(l.dataset||{}))),f),H={};n.config.parseDate=L.parseDate,n.config.formatDate=L.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(pe){n.config._enable=Bt(pe)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(pe){n.config._disable=Bt(pe)}});var Y=L.mode==="time";if(!L.dateFormat&&(L.enableTime||Y)){var re=Yt.defaultConfig.dateFormat||As.dateFormat;H.dateFormat=L.noCalendar||Y?"H:i"+(L.enableSeconds?":S":""):re+" H:i"+(L.enableSeconds?":S":"")}if(L.altInput&&(L.enableTime||Y)&&!L.altFormat){var ce=Yt.defaultConfig.altFormat||As.altFormat;H.altFormat=L.noCalendar||Y?"h:i"+(L.enableSeconds?":S K":" K"):ce+(" h:i"+(L.enableSeconds?":S":"")+" K")}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:qt("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:qt("max")});var ye=function(pe){return function(Ze){n.config[pe==="min"?"_minTime":"_maxTime"]=n.parseDate(Ze,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:ye("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:ye("max")}),L.mode==="time"&&(n.config.noCalendar=!0,n.config.enableTime=!0),Object.assign(n.config,H,L);for(var xe=0;xe<D.length;xe++)n.config[D[xe]]=n.config[D[xe]]===!0||n.config[D[xe]]==="true";$l.filter(function(pe){return n.config[pe]!==void 0}).forEach(function(pe){n.config[pe]=eu(n.config[pe]||[]).map(b)}),n.isMobile=!n.config.disableMobile&&!n.config.inline&&n.config.mode==="single"&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var xe=0;xe<n.config.plugins.length;xe++){var Me=n.config.plugins[xe](n)||{};for(var ge in Me)$l.indexOf(ge)>-1?n.config[ge]=eu(Me[ge]).map(b).concat(n.config[ge]):typeof L[ge]=="undefined"&&(n.config[ge]=Me[ge])}L.altInputClass||(n.config.altInputClass=ht().className+" "+n.config.altInputClass),Be("onParseConfig")}function ht(){return n.config.wrap?l.querySelector("[data-input]"):l}function at(){typeof n.config.locale!="object"&&typeof Yt.l10ns[n.config.locale]=="undefined"&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=In(In({},Yt.l10ns.default),typeof n.config.locale=="object"?n.config.locale:n.config.locale!=="default"?Yt.l10ns[n.config.locale]:void 0),zi.D="("+n.l10n.weekdays.shorthand.join("|")+")",zi.l="("+n.l10n.weekdays.longhand.join("|")+")",zi.M="("+n.l10n.months.shorthand.join("|")+")",zi.F="("+n.l10n.months.longhand.join("|")+")",zi.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")";var D=In(In({},f),JSON.parse(JSON.stringify(l.dataset||{})));D.time_24hr===void 0&&Yt.defaultConfig.time_24hr===void 0&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=Z0(n),n.parseDate=yu({config:n.config,l10n:n.l10n})}function Xe(D){if(typeof n.config.position=="function")return void n.config.position(n,D);if(n.calendarContainer!==void 0){Be("onPreCalendarPosition");var L=D||n._positionElement,H=Array.prototype.reduce.call(n.calendarContainer.children,function(jt,ct){return jt+ct.offsetHeight},0),Y=n.calendarContainer.offsetWidth,re=n.config.position.split(" "),ce=re[0],ye=re.length>1?re[1]:null,xe=L.getBoundingClientRect(),Me=window.innerHeight-xe.bottom,ge=ce==="above"||ce!=="below"&&Me<H&&xe.top>H,pe=window.pageYOffset+xe.top+(ge?-H-2:L.offsetHeight+2);if(Rn(n.calendarContainer,"arrowTop",!ge),Rn(n.calendarContainer,"arrowBottom",ge),!n.config.inline){var Ze=window.pageXOffset+xe.left,bt=!1,ae=!1;ye==="center"?(Ze-=(Y-xe.width)/2,bt=!0):ye==="right"&&(Ze-=Y-xe.width,ae=!0),Rn(n.calendarContainer,"arrowLeft",!bt&&!ae),Rn(n.calendarContainer,"arrowCenter",bt),Rn(n.calendarContainer,"arrowRight",ae);var Fn=window.document.body.offsetWidth-(window.pageXOffset+xe.right),lr=Ze+Y>window.document.body.offsetWidth,sn=Fn+Y>window.document.body.offsetWidth;if(Rn(n.calendarContainer,"rightMost",lr),!n.config.static)if(n.calendarContainer.style.top=pe+"px",!lr)n.calendarContainer.style.left=Ze+"px",n.calendarContainer.style.right="auto";else if(!sn)n.calendarContainer.style.left="auto",n.calendarContainer.style.right=Fn+"px";else{var ur=ar();if(ur===void 0)return;var Vr=window.document.body.offsetWidth,ui=Math.max(0,Vr/2-Y/2),kn=".flatpickr-calendar.centerMost:before",Ts=".flatpickr-calendar.centerMost:after",Ss=ur.cssRules.length,Un="{left:"+xe.left+"px;right:auto;}";Rn(n.calendarContainer,"rightMost",!1),Rn(n.calendarContainer,"centerMost",!0),ur.insertRule(kn+","+Ts+Un,Ss),n.calendarContainer.style.left=ui+"px",n.calendarContainer.style.right="auto"}}}}function ar(){for(var D=null,L=0;L<document.styleSheets.length;L++){var H=document.styleSheets[L];if(!!H.cssRules){try{H.cssRules}catch{continue}D=H;break}}return D!=null?D:he()}function he(){var D=document.createElement("style");return document.head.appendChild(D),D.sheet}function Zn(){n.config.noCalendar||n.isMobile||(Ke(),Rr(),ve())}function Cr(){n._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(n.close,0):n.close()}function Ln(D){D.preventDefault(),D.stopPropagation();var L=function(pe){return pe.classList&&pe.classList.contains("flatpickr-day")&&!pe.classList.contains("flatpickr-disabled")&&!pe.classList.contains("notAllowed")},H=K0(ir(D),L);if(H!==void 0){var Y=H,re=n.latestSelectedDateObj=new Date(Y.dateObj.getTime()),ce=(re.getMonth()<n.currentMonth||re.getMonth()>n.currentMonth+n.config.showMonths-1)&&n.config.mode!=="range";if(n.selectedDateElem=Y,n.config.mode==="single")n.selectedDates=[re];else if(n.config.mode==="multiple"){var ye=dt(re);ye?n.selectedDates.splice(parseInt(ye),1):n.selectedDates.push(re)}else n.config.mode==="range"&&(n.selectedDates.length===2&&n.clear(!1,!1),n.latestSelectedDateObj=re,n.selectedDates.push(re),sr(re,n.selectedDates[0],!0)!==0&&n.selectedDates.sort(function(pe,Ze){return pe.getTime()-Ze.getTime()}));if(V(),ce){var xe=n.currentYear!==re.getFullYear();n.currentYear=re.getFullYear(),n.currentMonth=re.getMonth(),xe&&(Be("onYearChange"),Ke()),Be("onMonthChange")}if(Rr(),ve(),Ue(),!ce&&n.config.mode!=="range"&&n.config.showMonths===1?te(Y):n.selectedDateElem!==void 0&&n.hourElement===void 0&&n.selectedDateElem&&n.selectedDateElem.focus(),n.hourElement!==void 0&&n.hourElement!==void 0&&n.hourElement.focus(),n.config.closeOnSelect){var Me=n.config.mode==="single"&&!n.config.enableTime,ge=n.config.mode==="range"&&n.selectedDates.length===2&&!n.config.enableTime;(Me||ge)&&Cr()}ie()}}var Pn={locale:[at,Kn],showMonths:[Z,R,cn],minDate:[Ee],maxDate:[Ee],positionElement:[oi],clickOpens:[function(){n.config.clickOpens===!0?(le(n._input,"focus",n.open),le(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function vn(D,L){if(D!==null&&typeof D=="object"){Object.assign(n.config,D);for(var H in D)Pn[H]!==void 0&&Pn[H].forEach(function(Y){return Y()})}else n.config[D]=L,Pn[D]!==void 0?Pn[D].forEach(function(Y){return Y()}):$l.indexOf(D)>-1&&(n.config[D]=eu(L));n.redraw(),Ue(!0)}function Er(D,L){var H=[];if(D instanceof Array)H=D.map(function(Y){return n.parseDate(Y,L)});else if(D instanceof Date||typeof D=="number")H=[n.parseDate(D,L)];else if(typeof D=="string")switch(n.config.mode){case"single":case"time":H=[n.parseDate(D,L)];break;case"multiple":H=D.split(n.config.conjunction).map(function(Y){return n.parseDate(Y,L)});break;case"range":H=D.split(n.l10n.rangeSeparator).map(function(Y){return n.parseDate(Y,L)});break}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(D)));n.selectedDates=n.config.allowInvalidPreload?H:H.filter(function(Y){return Y instanceof Date&&st(Y,!1)}),n.config.mode==="range"&&n.selectedDates.sort(function(Y,re){return Y.getTime()-re.getTime()})}function hn(D,L,H){if(L===void 0&&(L=!1),H===void 0&&(H=n.config.dateFormat),D!==0&&!D||D instanceof Array&&D.length===0)return n.clear(L);Er(D,H),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),Ee(void 0,L),oe(),n.selectedDates.length===0&&n.clear(!1),Ue(L),L&&Be("onChange")}function Bt(D){return D.slice().map(function(L){return typeof L=="string"||typeof L=="number"||L instanceof Date?n.parseDate(L,void 0,!0):L&&typeof L=="object"&&L.from&&L.to?{from:n.parseDate(L.from,void 0),to:n.parseDate(L.to,void 0)}:L}).filter(function(L){return L})}function ai(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var D=n.config.defaultDate||((n.input.nodeName==="INPUT"||n.input.nodeName==="TEXTAREA")&&n.input.placeholder&&n.input.value===n.input.placeholder?null:n.input.value);D&&Er(D,n.config.dateFormat),n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]),n.config.minTime!==void 0&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i")),n.config.maxTime!==void 0&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i")),n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}function Dr(){if(n.input=ht(),!n.input){n.config.errorHandler(new Error("Invalid input element specified"));return}n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=ft(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),oi()}function oi(){n._positionElement=n.config.positionElement||n._input}function Ct(){var D=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=ft("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=D,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr=D==="datetime-local"?"Y-m-d\\TH:i:S":D==="date"?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step"))),n.input.type="hidden",n.altInput!==void 0&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch{}le(n.mobileInput,"change",function(L){n.setDate(ir(L).value,!1,n.mobileFormatStr),Be("onChange"),Be("onClose")})}function se(D){if(n.isOpen===!0)return n.close();n.open(D)}function Be(D,L){if(n.config!==void 0){var H=n.config[D];if(H!==void 0&&H.length>0)for(var Y=0;H[Y]&&Y<H.length;Y++)H[Y](n.selectedDates,n.input.value,n,L);D==="onChange"&&(n.input.dispatchEvent(tt("change")),n.input.dispatchEvent(tt("input")))}}function tt(D){var L=document.createEvent("Event");return L.initEvent(D,!0,!0),L}function dt(D){for(var L=0;L<n.selectedDates.length;L++){var H=n.selectedDates[L];if(H instanceof Date&&sr(H,D)===0)return""+L}return!1}function Gr(D){return n.config.mode!=="range"||n.selectedDates.length<2?!1:sr(D,n.selectedDates[0])>=0&&sr(D,n.selectedDates[1])<=0}function Rr(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(function(D,L){var H=new Date(n.currentYear,n.currentMonth,1);H.setMonth(n.currentMonth+L),n.config.showMonths>1||n.config.monthSelectorType==="static"?n.monthElements[L].textContent=So(H.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=H.getMonth().toString(),D.value=H.getFullYear().toString()}),n._hidePrevMonthArrow=n.config.minDate!==void 0&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=n.config.maxDate!==void 0&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function li(D){var L=D||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map(function(H){return n.formatDate(H,L)}).filter(function(H,Y,re){return n.config.mode!=="range"||n.config.enableTime||re.indexOf(H)===Y}).join(n.config.mode!=="range"?n.config.conjunction:n.l10n.rangeSeparator)}function Ue(D){D===void 0&&(D=!0),n.mobileInput!==void 0&&n.mobileFormatStr&&(n.mobileInput.value=n.latestSelectedDateObj!==void 0?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=li(n.config.dateFormat),n.altInput!==void 0&&(n.altInput.value=li(n.config.altFormat)),D!==!1&&Be("onValueUpdate")}function or(D){var L=ir(D),H=n.prevMonthNav.contains(L),Y=n.nextMonthNav.contains(L);H||Y?fn(H?-1:1):n.yearElements.indexOf(L)>=0?L.select():L.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):L.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}function $i(D){D.preventDefault();var L=D.type==="keydown",H=ir(D),Y=H;n.amPM!==void 0&&H===n.amPM&&(n.amPM.textContent=n.l10n.amPM[mr(n.amPM.textContent===n.l10n.amPM[0])]);var re=parseFloat(Y.getAttribute("min")),ce=parseFloat(Y.getAttribute("max")),ye=parseFloat(Y.getAttribute("step")),xe=parseInt(Y.value,10),Me=D.delta||(L?D.which===38?1:-1:0),ge=xe+ye*Me;if(typeof Y.value!="undefined"&&Y.value.length===2){var pe=Y===n.hourElement,Ze=Y===n.minuteElement;ge<re?(ge=ce+ge+mr(!pe)+(mr(pe)&&mr(!n.amPM)),Ze&&_e(void 0,-1,n.hourElement)):ge>ce&&(ge=Y===n.hourElement?ge-ce-mr(!n.amPM):re,Ze&&_e(void 0,1,n.hourElement)),n.amPM&&pe&&(ye===1?ge+xe===23:Math.abs(ge-xe)>ye)&&(n.amPM.textContent=n.l10n.amPM[mr(n.amPM.textContent===n.l10n.amPM[0])]),Y.value=Yn(ge)}}return m(),n}function Cs(l,f){for(var n=Array.prototype.slice.call(l).filter(function(b){return b instanceof HTMLElement}),w=[],m=0;m<n.length;m++){var x=n[m];try{if(x.getAttribute("data-fp-omit")!==null)continue;x._flatpickr!==void 0&&(x._flatpickr.destroy(),x._flatpickr=void 0),x._flatpickr=OA(x,f||{}),w.push(x._flatpickr)}catch(b){console.error(b)}}return w.length===1?w[0]:w}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(l){return Cs(this,l)},HTMLElement.prototype.flatpickr=function(l){return Cs([this],l)});var Yt=function(l,f){return typeof l=="string"?Cs(window.document.querySelectorAll(l),f):l instanceof Node?Cs([l],f):Cs(l,f)};Yt.defaultConfig={};Yt.l10ns={en:In({},ca),default:In({},ca)};Yt.localize=function(l){Yt.l10ns.default=In(In({},Yt.l10ns.default),l)};Yt.setDefaults=function(l){Yt.defaultConfig=In(In({},Yt.defaultConfig),l)};Yt.parseDate=yu({});Yt.formatDate=Z0({});Yt.compareDates=sr;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(l){return Cs(this,l)});Date.prototype.fp_incr=function(l){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof l=="string"?parseInt(l,10):l))};typeof window!="undefined"&&(window.flatpickr=Yt);window.Alpine=Qu;Qu.start();Qu.plugin(bA);window.flatpickr=Yt;
